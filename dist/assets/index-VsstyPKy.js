var yk=Object.defineProperty;var P1=a=>{throw TypeError(a)};var vk=(a,t,e)=>t in a?yk(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var St=(a,t,e)=>vk(a,typeof t!="symbol"?t+"":t,e),mv=(a,t,e)=>t.has(a)||P1("Cannot "+e);var p=(a,t,e)=>(mv(a,t,"read from private field"),e?e.call(a):t.get(a)),P=(a,t,e)=>t.has(a)?P1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),M=(a,t,e,n)=>(mv(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),R=(a,t,e)=>(mv(a,t,"access private method"),e);var Ri=(a,t,e,n)=>({set _(r){M(a,t,r,e)},get _(){return p(a,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BA(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var yv={exports:{}},Gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function bk(){if(O1)return Gh;O1=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:a,type:n,key:c,ref:r!==void 0?r:null,props:l}}return Gh.Fragment=t,Gh.jsx=e,Gh.jsxs=e,Gh}var N1;function Ak(){return N1||(N1=1,yv.exports=bk()),yv.exports}var I=Ak(),vv={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function _k(){if(F1)return Et;F1=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),m=Symbol.iterator;function A(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function E(H,q,J){this.props=H,this.context=q,this.refs=C,this.updater=J||x}E.prototype.isReactComponent={},E.prototype.setState=function(H,q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,q,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=E.prototype;function L(H,q,J){this.props=H,this.context=q,this.refs=C,this.updater=J||x}var _=L.prototype=new O;_.constructor=L,S(_,E.prototype),_.isPureReactComponent=!0;var w=Array.isArray;function D(){}var N={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function j(H,q,J){var st=J.ref;return{$$typeof:a,type:H,key:q,ref:st!==void 0?st:null,props:J}}function K(H,q){return j(H.type,q,H.props)}function Z(H){return typeof H=="object"&&H!==null&&H.$$typeof===a}function rt(H){var q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(J){return q[J]})}var ot=/\/+/g;function at(H,q){return typeof H=="object"&&H!==null&&H.key!=null?rt(""+H.key):q.toString(36)}function dt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(D,D):(H.status="pending",H.then(function(q){H.status==="pending"&&(H.status="fulfilled",H.value=q)},function(q){H.status==="pending"&&(H.status="rejected",H.reason=q)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function U(H,q,J,st,ft){var pt=typeof H;(pt==="undefined"||pt==="boolean")&&(H=null);var ut=!1;if(H===null)ut=!0;else switch(pt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(H.$$typeof){case a:case t:ut=!0;break;case y:return ut=H._init,U(ut(H._payload),q,J,st,ft)}}if(ut)return ft=ft(H),ut=st===""?"."+at(H,0):st,w(ft)?(J="",ut!=null&&(J=ut.replace(ot,"$&/")+"/"),U(ft,q,J,"",function(Ht){return Ht})):ft!=null&&(Z(ft)&&(ft=K(ft,J+(ft.key==null||H&&H.key===ft.key?"":(""+ft.key).replace(ot,"$&/")+"/")+ut)),q.push(ft)),1;ut=0;var Dt=st===""?".":st+":";if(w(H))for(var Lt=0;Lt<H.length;Lt++)st=H[Lt],pt=Dt+at(st,Lt),ut+=U(st,q,J,pt,ft);else if(Lt=A(H),typeof Lt=="function")for(H=Lt.call(H),Lt=0;!(st=H.next()).done;)st=st.value,pt=Dt+at(st,Lt++),ut+=U(st,q,J,pt,ft);else if(pt==="object"){if(typeof H.then=="function")return U(dt(H),q,J,st,ft);throw q=String(H),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ut}function Y(H,q,J){if(H==null)return H;var st=[],ft=0;return U(H,st,"","",function(pt){return q.call(J,pt,ft++)}),st}function it(H){if(H._status===-1){var q=H._result;q=q(),q.then(function(J){(H._status===0||H._status===-1)&&(H._status=1,H._result=J)},function(J){(H._status===0||H._status===-1)&&(H._status=2,H._result=J)}),H._status===-1&&(H._status=0,H._result=q)}if(H._status===1)return H._result.default;throw H._result}var bt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},xt={map:Y,forEach:function(H,q,J){Y(H,function(){q.apply(this,arguments)},J)},count:function(H){var q=0;return Y(H,function(){q++}),q},toArray:function(H){return Y(H,function(q){return q})||[]},only:function(H){if(!Z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Et.Activity=d,Et.Children=xt,Et.Component=E,Et.Fragment=e,Et.Profiler=r,Et.PureComponent=L,Et.StrictMode=n,Et.Suspense=f,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(H){return N.H.useMemoCache(H)}},Et.cache=function(H){return function(){return H.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(H,q,J){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var st=S({},H.props),ft=H.key;if(q!=null)for(pt in q.key!==void 0&&(ft=""+q.key),q)!F.call(q,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&q.ref===void 0||(st[pt]=q[pt]);var pt=arguments.length-2;if(pt===1)st.children=J;else if(1<pt){for(var ut=Array(pt),Dt=0;Dt<pt;Dt++)ut[Dt]=arguments[Dt+2];st.children=ut}return j(H.type,ft,st)},Et.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Et.createElement=function(H,q,J){var st,ft={},pt=null;if(q!=null)for(st in q.key!==void 0&&(pt=""+q.key),q)F.call(q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ft[st]=q[st]);var ut=arguments.length-2;if(ut===1)ft.children=J;else if(1<ut){for(var Dt=Array(ut),Lt=0;Lt<ut;Lt++)Dt[Lt]=arguments[Lt+2];ft.children=Dt}if(H&&H.defaultProps)for(st in ut=H.defaultProps,ut)ft[st]===void 0&&(ft[st]=ut[st]);return j(H,pt,ft)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(H){return{$$typeof:h,render:H}},Et.isValidElement=Z,Et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:it}},Et.memo=function(H,q){return{$$typeof:g,type:H,compare:q===void 0?null:q}},Et.startTransition=function(H){var q=N.T,J={};N.T=J;try{var st=H(),ft=N.S;ft!==null&&ft(J,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(D,bt)}catch(pt){bt(pt)}finally{q!==null&&J.types!==null&&(q.types=J.types),N.T=q}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(H){return N.H.use(H)},Et.useActionState=function(H,q,J){return N.H.useActionState(H,q,J)},Et.useCallback=function(H,q){return N.H.useCallback(H,q)},Et.useContext=function(H){return N.H.useContext(H)},Et.useDebugValue=function(){},Et.useDeferredValue=function(H,q){return N.H.useDeferredValue(H,q)},Et.useEffect=function(H,q){return N.H.useEffect(H,q)},Et.useEffectEvent=function(H){return N.H.useEffectEvent(H)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(H,q,J){return N.H.useImperativeHandle(H,q,J)},Et.useInsertionEffect=function(H,q){return N.H.useInsertionEffect(H,q)},Et.useLayoutEffect=function(H,q){return N.H.useLayoutEffect(H,q)},Et.useMemo=function(H,q){return N.H.useMemo(H,q)},Et.useOptimistic=function(H,q){return N.H.useOptimistic(H,q)},Et.useReducer=function(H,q,J){return N.H.useReducer(H,q,J)},Et.useRef=function(H){return N.H.useRef(H)},Et.useState=function(H){return N.H.useState(H)},Et.useSyncExternalStore=function(H,q,J){return N.H.useSyncExternalStore(H,q,J)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.4",Et}var I1;function HA(){return I1||(I1=1,vv.exports=_k()),vv.exports}var G=HA();const us=BA(G);var bv={exports:{}},qh={},Av={exports:{}},_v={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function xk(){return j1||(j1=1,(function(a){function t(U,Y){var it=U.length;U.push(Y);t:for(;0<it;){var bt=it-1>>>1,xt=U[bt];if(0<r(xt,Y))U[bt]=Y,U[it]=xt,it=bt;else break t}}function e(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Y=U[0],it=U.pop();if(it!==Y){U[0]=it;t:for(var bt=0,xt=U.length,H=xt>>>1;bt<H;){var q=2*(bt+1)-1,J=U[q],st=q+1,ft=U[st];if(0>r(J,it))st<xt&&0>r(ft,J)?(U[bt]=ft,U[st]=it,bt=st):(U[bt]=J,U[q]=it,bt=q);else if(st<xt&&0>r(ft,it))U[bt]=ft,U[st]=it,bt=st;else break t}}return Y}function r(U,Y){var it=U.sortIndex-Y.sortIndex;return it!==0?it:U.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var f=[],g=[],y=1,d=null,m=3,A=!1,x=!1,S=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function _(U){for(var Y=e(g);Y!==null;){if(Y.callback===null)n(g);else if(Y.startTime<=U)n(g),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=e(g)}}function w(U){if(S=!1,_(U),!x)if(e(f)!==null)x=!0,D||(D=!0,rt());else{var Y=e(g);Y!==null&&dt(w,Y.startTime-U)}}var D=!1,N=-1,F=5,j=-1;function K(){return C?!0:!(a.unstable_now()-j<F)}function Z(){if(C=!1,D){var U=a.unstable_now();j=U;var Y=!0;try{t:{x=!1,S&&(S=!1,O(N),N=-1),A=!0;var it=m;try{e:{for(_(U),d=e(f);d!==null&&!(d.expirationTime>U&&K());){var bt=d.callback;if(typeof bt=="function"){d.callback=null,m=d.priorityLevel;var xt=bt(d.expirationTime<=U);if(U=a.unstable_now(),typeof xt=="function"){d.callback=xt,_(U),Y=!0;break e}d===e(f)&&n(f),_(U)}else n(f);d=e(f)}if(d!==null)Y=!0;else{var H=e(g);H!==null&&dt(w,H.startTime-U),Y=!1}}break t}finally{d=null,m=it,A=!1}Y=void 0}}finally{Y?rt():D=!1}}}var rt;if(typeof L=="function")rt=function(){L(Z)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,at=ot.port2;ot.port1.onmessage=Z,rt=function(){at.postMessage(null)}}else rt=function(){E(Z,0)};function dt(U,Y){N=E(function(){U(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return m},a.unstable_next=function(U){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var it=m;m=Y;try{return U()}finally{m=it}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var it=m;m=U;try{return Y()}finally{m=it}},a.unstable_scheduleCallback=function(U,Y,it){var bt=a.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?bt+it:bt):it=bt,U){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=it+xt,U={id:y++,callback:Y,priorityLevel:U,startTime:it,expirationTime:xt,sortIndex:-1},it>bt?(U.sortIndex=it,t(g,U),e(f)===null&&U===e(g)&&(S?(O(N),N=-1):S=!0,dt(w,it-bt))):(U.sortIndex=xt,t(f,U),x||A||(x=!0,D||(D=!0,rt()))),U},a.unstable_shouldYield=K,a.unstable_wrapCallback=function(U){var Y=m;return function(){var it=m;m=Y;try{return U.apply(this,arguments)}finally{m=it}}}})(_v)),_v}var B1;function wk(){return B1||(B1=1,Av.exports=xk()),Av.exports}var xv={exports:{}},yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function Sk(){if(H1)return yi;H1=1;var a=HA();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,g,y){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:f,containerInfo:g,implementation:y}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,yi.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,y)},yi.flushSync=function(f){var g=c.T,y=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=g,n.p=y,n.d.f()}},yi.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(f,g))},yi.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},yi.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,d=h(y,g.crossOrigin),m=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?n.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:d,integrity:m,fetchPriority:A}):y==="script"&&n.d.X(f,{crossOrigin:d,integrity:m,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yi.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);n.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(f)},yi.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,d=h(y,g.crossOrigin);n.d.L(f,y,{crossOrigin:d,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yi.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);n.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(f)},yi.requestFormReset=function(f){n.d.r(f)},yi.unstable_batchedUpdates=function(f,g){return f(g)},yi.useFormState=function(f,g,y){return c.H.useFormState(f,g,y)},yi.useFormStatus=function(){return c.H.useHostTransitionStatus()},yi.version="19.2.4",yi}var z1;function Tk(){if(z1)return xv.exports;z1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xv.exports=Sk(),xv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function Ek(){if(V1)return qh;V1=1;var a=wk(),t=HA(),e=Tk();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(n(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(n(188));return s!==i?null:i}for(var o=i,u=s;;){var v=o.return;if(v===null)break;var b=v.alternate;if(b===null){if(u=v.return,u!==null){o=u;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===o)return f(v),i;if(b===u)return f(v),s;b=b.sibling}throw Error(n(188))}if(o.return!==u.return)o=v,u=b;else{for(var T=!1,k=v.child;k;){if(k===o){T=!0,o=v,u=b;break}if(k===u){T=!0,u=v,o=b;break}k=k.sibling}if(!T){for(k=b.child;k;){if(k===o){T=!0,o=b,u=v;break}if(k===u){T=!0,u=b,o=v;break}k=k.sibling}if(!T)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function rt(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var ot=Symbol.for("react.client.reference");function at(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ot?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case w:return"Suspense";case D:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case L:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case _:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:at(i.type)||"Memo";case F:s=i._payload,i=i._init;try{return at(i(s))}catch{}}return null}var dt=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},bt=[],xt=-1;function H(i){return{current:i}}function q(i){0>xt||(i.current=bt[xt],bt[xt]=null,xt--)}function J(i,s){xt++,bt[xt]=i.current,i.current=s}var st=H(null),ft=H(null),pt=H(null),ut=H(null);function Dt(i,s){switch(J(pt,s),J(ft,i),J(st,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?i1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=i1(s),i=n1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(st),J(st,i)}function Lt(){q(st),q(ft),q(pt)}function Ht(i){i.memoizedState!==null&&J(ut,i);var s=st.current,o=n1(s,i.type);s!==o&&(J(ft,i),J(st,o))}function we(i){ft.current===i&&(q(st),q(ft)),ut.current===i&&(q(ut),Bh._currentValue=it)}var Ue,Ot;function ne(i){if(Ue===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ue=s&&s[1]||"",Ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+i+Ot}var Oe=!1;function Se(i,s){if(!i||Oe)return"";Oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var $=Q}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(Q){$=Q}i.call(nt.prototype)}}else{try{throw Error()}catch(Q){$=Q}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),T=b[0],k=b[1];if(T&&k){var B=T.split(`
`),W=k.split(`
`);for(v=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;v<W.length&&!W[v].includes("DetermineComponentFrameRoot");)v++;if(u===B.length||v===W.length)for(u=B.length-1,v=W.length-1;1<=u&&0<=v&&B[u]!==W[v];)v--;for(;1<=u&&0<=v;u--,v--)if(B[u]!==W[v]){if(u!==1||v!==1)do if(u--,v--,0>v||B[u]!==W[v]){var tt=`
`+B[u].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=u&&0<=v);break}}}finally{Oe=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ne(o):""}function za(i,s){switch(i.tag){case 26:case 27:case 5:return ne(i.type);case 16:return ne("Lazy");case 13:return i.child!==s&&s!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return Se(i.type,!1);case 11:return Se(i.type.render,!1);case 1:return Se(i.type,!0);case 31:return ne("Activity");default:return""}}function Va(i){try{var s="",o=null;do s+=za(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var $u=Object.prototype.hasOwnProperty,Ku=a.unstable_scheduleCallback,Ua=a.unstable_cancelCallback,ey=a.unstable_shouldYield,iy=a.unstable_requestPaint,Ci=a.unstable_now,ny=a.unstable_getCurrentPriorityLevel,Zf=a.unstable_ImmediatePriority,Bs=a.unstable_UserBlockingPriority,Hs=a.unstable_NormalPriority,jl=a.unstable_LowPriority,Bl=a.unstable_IdlePriority,J2=a.log,tD=a.unstable_setDisableYieldValue,Qu=null,tn=null;function Ga(i){if(typeof J2=="function"&&tD(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Qu,i)}catch{}}var en=Math.clz32?Math.clz32:nD,eD=Math.log,iD=Math.LN2;function nD(i){return i>>>=0,i===0?32:31-(eD(i)/iD|0)|0}var Jf=256,tp=262144,ep=4194304;function io(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ip(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var v=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var k=u&134217727;return k!==0?(u=k&~b,u!==0?v=io(u):(T&=k,T!==0?v=io(T):o||(o=k&~i,o!==0&&(v=io(o))))):(k=u&~b,k!==0?v=io(k):T!==0?v=io(T):o||(o=u&~i,o!==0&&(v=io(o)))),v===0?0:s!==0&&s!==v&&(s&b)===0&&(b=v&-v,o=s&-s,b>=o||b===32&&(o&4194048)!==0)?s:v}function Zu(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function sD(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I_(){var i=ep;return ep<<=1,(ep&62914560)===0&&(ep=4194304),i}function sy(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ju(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function aD(i,s,o,u,v,b){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var k=i.entanglements,B=i.expirationTimes,W=i.hiddenUpdates;for(o=T&~o;0<o;){var tt=31-en(o),nt=1<<tt;k[tt]=0,B[tt]=-1;var $=W[tt];if($!==null)for(W[tt]=null,tt=0;tt<$.length;tt++){var Q=$[tt];Q!==null&&(Q.lane&=-536870913)}o&=~nt}u!==0&&j_(i,u,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~s))}function j_(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-en(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function B_(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-en(o),v=1<<u;v&s|i[u]&s&&(i[u]|=s),o&=~v}}function H_(i,s){var o=s&-s;return o=(o&42)!==0?1:ay(o),(o&(i.suspendedLanes|s))!==0?0:o}function ay(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ry(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function z_(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:E1(i.type))}function V_(i,s){var o=Y.p;try{return Y.p=i,s()}finally{Y.p=o}}var qa=Math.random().toString(36).slice(2),ri="__reactFiber$"+qa,Bi="__reactProps$"+qa,Hl="__reactContainer$"+qa,oy="__reactEvents$"+qa,rD="__reactListeners$"+qa,oD="__reactHandles$"+qa,U_="__reactResources$"+qa,th="__reactMarker$"+qa;function ly(i){delete i[ri],delete i[Bi],delete i[oy],delete i[rD],delete i[oD]}function zl(i){var s=i[ri];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Hl]||o[ri]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=u1(i);i!==null;){if(o=i[ri])return o;i=u1(i)}return s}i=o,o=i.parentNode}return null}function Vl(i){if(i=i[ri]||i[Hl]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function eh(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Ul(i){var s=i[U_];return s||(s=i[U_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ze(i){i[th]=!0}var G_=new Set,q_={};function no(i,s){Gl(i,s),Gl(i+"Capture",s)}function Gl(i,s){for(q_[i]=s,i=0;i<s.length;i++)G_.add(s[i])}var lD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X_={},Y_={};function cD(i){return $u.call(Y_,i)?!0:$u.call(X_,i)?!1:lD.test(i)?Y_[i]=!0:(X_[i]=!0,!1)}function np(i,s,o){if(cD(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function sp(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function zs(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function W_(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uD(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(T){o=""+T,b.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function cy(i){if(!i._valueTracker){var s=W_(i)?"checked":"value";i._valueTracker=uD(i,s,""+i[s])}}function $_(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=W_(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function ap(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hD=/[\n"\\]/g;function wn(i){return i.replace(hD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uy(i,s,o,u,v,b,T,k){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+xn(s)):i.value!==""+xn(s)&&(i.value=""+xn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?hy(i,T,xn(s)):o!=null?hy(i,T,xn(o)):u!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+xn(k):i.removeAttribute("name")}function K_(i,s,o,u,v,b,T,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){cy(i);return}o=o!=null?""+xn(o):"",s=s!=null?""+xn(s):o,k||s===i.value||(i.value=s),i.defaultValue=s}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=k?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),cy(i)}function hy(i,s,o){s==="number"&&ap(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ql(i,s,o,u){if(i=i.options,s){s={};for(var v=0;v<o.length;v++)s["$"+o[v]]=!0;for(o=0;o<i.length;o++)v=s.hasOwnProperty("$"+i[o].value),i[o].selected!==v&&(i[o].selected=v),v&&u&&(i[o].defaultSelected=!0)}else{for(o=""+xn(o),s=null,v=0;v<i.length;v++){if(i[v].value===o){i[v].selected=!0,u&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function Q_(i,s,o){if(s!=null&&(s=""+xn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+xn(o):""}function Z_(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(n(92));if(dt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=xn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),cy(i)}function Xl(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var dD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function J_(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||dD.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function tx(i,s,o){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var v in s)u=s[v],s.hasOwnProperty(v)&&o[v]!==u&&J_(i,v,u)}else for(var b in s)s.hasOwnProperty(b)&&J_(i,b,s[b])}function dy(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rp(i){return pD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Vs(){}var fy=null;function py(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yl=null,Wl=null;function ex(i){var s=Vl(i);if(s&&(i=s.stateNode)){var o=i[Bi]||null;t:switch(i=s.stateNode,s.type){case"input":if(uy(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var v=u[Bi]||null;if(!v)throw Error(n(90));uy(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&$_(u)}break t;case"textarea":Q_(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ql(i,!!o.multiple,s,!1)}}}var gy=!1;function ix(i,s,o){if(gy)return i(s,o);gy=!0;try{var u=i(s);return u}finally{if(gy=!1,(Yl!==null||Wl!==null)&&(Yp(),Yl&&(s=Yl,i=Wl,Wl=Yl=null,ex(s),i)))for(s=0;s<i.length;s++)ex(i[s])}}function ih(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Bi]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),my=!1;if(Us)try{var nh={};Object.defineProperty(nh,"passive",{get:function(){my=!0}}),window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{my=!1}var Xa=null,yy=null,op=null;function nx(){if(op)return op;var i,s=yy,o=s.length,u,v="value"in Xa?Xa.value:Xa.textContent,b=v.length;for(i=0;i<o&&s[i]===v[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===v[b-u];u++);return op=v.slice(i,1<u?1-u:void 0)}function lp(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function cp(){return!0}function sx(){return!1}function Hi(i){function s(o,u,v,b,T){this._reactName=o,this._targetInst=v,this.type=u,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(o=i[k],this[k]=o?o(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?cp:sx,this.isPropagationStopped=sx,this}return d(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cp)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cp)},persist:function(){},isPersistent:cp}),s}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},up=Hi(so),sh=d({},so,{view:0,detail:0}),gD=Hi(sh),vy,by,ah,hp=d({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_y,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ah&&(ah&&i.type==="mousemove"?(vy=i.screenX-ah.screenX,by=i.screenY-ah.screenY):by=vy=0,ah=i),vy)},movementY:function(i){return"movementY"in i?i.movementY:by}}),ax=Hi(hp),mD=d({},hp,{dataTransfer:0}),yD=Hi(mD),vD=d({},sh,{relatedTarget:0}),Ay=Hi(vD),bD=d({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),AD=Hi(bD),_D=d({},so,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xD=Hi(_D),wD=d({},so,{data:0}),rx=Hi(wD),SD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ED={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CD(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ED[i])?!!s[i]:!1}function _y(){return CD}var MD=d({},sh,{key:function(i){if(i.key){var s=SD[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?TD[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_y,charCode:function(i){return i.type==="keypress"?lp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),RD=Hi(MD),DD=d({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ox=Hi(DD),LD=d({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_y}),kD=Hi(LD),PD=d({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=Hi(PD),ND=d({},hp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),FD=Hi(ND),ID=d({},so,{newState:0,oldState:0}),jD=Hi(ID),BD=[9,13,27,32],xy=Us&&"CompositionEvent"in window,rh=null;Us&&"documentMode"in document&&(rh=document.documentMode);var HD=Us&&"TextEvent"in window&&!rh,lx=Us&&(!xy||rh&&8<rh&&11>=rh),cx=" ",ux=!1;function hx(i,s){switch(i){case"keyup":return BD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $l=!1;function zD(i,s){switch(i){case"compositionend":return dx(s);case"keypress":return s.which!==32?null:(ux=!0,cx);case"textInput":return i=s.data,i===cx&&ux?null:i;default:return null}}function VD(i,s){if($l)return i==="compositionend"||!xy&&hx(i,s)?(i=nx(),op=yy=Xa=null,$l=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return lx&&s.locale!=="ko"?null:s.data;default:return null}}var UD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fx(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!UD[i.type]:s==="textarea"}function px(i,s,o,u){Yl?Wl?Wl.push(u):Wl=[u]:Yl=u,s=tg(s,"onChange"),0<s.length&&(o=new up("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var oh=null,lh=null;function GD(i){KS(i,0)}function dp(i){var s=eh(i);if($_(s))return i}function gx(i,s){if(i==="change")return s}var mx=!1;if(Us){var wy;if(Us){var Sy="oninput"in document;if(!Sy){var yx=document.createElement("div");yx.setAttribute("oninput","return;"),Sy=typeof yx.oninput=="function"}wy=Sy}else wy=!1;mx=wy&&(!document.documentMode||9<document.documentMode)}function vx(){oh&&(oh.detachEvent("onpropertychange",bx),lh=oh=null)}function bx(i){if(i.propertyName==="value"&&dp(lh)){var s=[];px(s,lh,i,py(i)),ix(GD,s)}}function qD(i,s,o){i==="focusin"?(vx(),oh=s,lh=o,oh.attachEvent("onpropertychange",bx)):i==="focusout"&&vx()}function XD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dp(lh)}function YD(i,s){if(i==="click")return dp(s)}function WD(i,s){if(i==="input"||i==="change")return dp(s)}function $D(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var nn=typeof Object.is=="function"?Object.is:$D;function ch(i,s){if(nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var v=o[u];if(!$u.call(s,v)||!nn(i[v],s[v]))return!1}return!0}function Ax(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _x(i,s){var o=Ax(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Ax(o)}}function xx(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?xx(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function wx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ap(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ap(i.document)}return s}function Ty(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var KD=Us&&"documentMode"in document&&11>=document.documentMode,Kl=null,Ey=null,uh=null,Cy=!1;function Sx(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cy||Kl==null||Kl!==ap(u)||(u=Kl,"selectionStart"in u&&Ty(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uh&&ch(uh,u)||(uh=u,u=tg(Ey,"onSelect"),0<u.length&&(s=new up("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Kl)))}function ao(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ql={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},My={},Tx={};Us&&(Tx=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function ro(i){if(My[i])return My[i];if(!Ql[i])return i;var s=Ql[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Tx)return My[i]=s[o];return i}var Ex=ro("animationend"),Cx=ro("animationiteration"),Mx=ro("animationstart"),QD=ro("transitionrun"),ZD=ro("transitionstart"),JD=ro("transitioncancel"),Rx=ro("transitionend"),Dx=new Map,Ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ry.push("scrollEnd");function Gn(i,s){Dx.set(i,s),no(s,[i])}var fp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Sn=[],Zl=0,Dy=0;function pp(){for(var i=Zl,s=Dy=Zl=0;s<i;){var o=Sn[s];Sn[s++]=null;var u=Sn[s];Sn[s++]=null;var v=Sn[s];Sn[s++]=null;var b=Sn[s];if(Sn[s++]=null,u!==null&&v!==null){var T=u.pending;T===null?v.next=v:(v.next=T.next,T.next=v),u.pending=v}b!==0&&Lx(o,v,b)}}function gp(i,s,o,u){Sn[Zl++]=i,Sn[Zl++]=s,Sn[Zl++]=o,Sn[Zl++]=u,Dy|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ly(i,s,o,u){return gp(i,s,o,u),mp(i)}function oo(i,s){return gp(i,null,null,s),mp(i)}function Lx(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var v=!1,b=i.return;b!==null;)b.childLanes|=o,u=b.alternate,u!==null&&(u.childLanes|=o),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&s!==null&&(v=31-en(o),i=b.hiddenUpdates,u=i[v],u===null?i[v]=[s]:u.push(s),s.lane=o|536870912),b):null}function mp(i){if(50<kh)throw kh=0,H0=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Jl={};function tL(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(i,s,o,u){return new tL(i,s,o,u)}function ky(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gs(i,s){var o=i.alternate;return o===null?(o=sn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function kx(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function yp(i,s,o,u,v,b){var T=0;if(u=i,typeof i=="function")ky(i)&&(T=1);else if(typeof i=="string")T=ak(i,o,st.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case j:return i=sn(31,o,s,v),i.elementType=j,i.lanes=b,i;case S:return lo(o.children,v,b,s);case C:T=8,v|=24;break;case E:return i=sn(12,o,s,v|2),i.elementType=E,i.lanes=b,i;case w:return i=sn(13,o,s,v),i.elementType=w,i.lanes=b,i;case D:return i=sn(19,o,s,v),i.elementType=D,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:T=10;break t;case O:T=9;break t;case _:T=11;break t;case N:T=14;break t;case F:T=16,u=null;break t}T=29,o=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=sn(T,o,s,v),s.elementType=i,s.type=u,s.lanes=b,s}function lo(i,s,o,u){return i=sn(7,i,u,s),i.lanes=o,i}function Py(i,s,o){return i=sn(6,i,null,s),i.lanes=o,i}function Px(i){var s=sn(18,null,null,0);return s.stateNode=i,s}function Oy(i,s,o){return s=sn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ox=new WeakMap;function Tn(i,s){if(typeof i=="object"&&i!==null){var o=Ox.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Va(s)},Ox.set(i,s),s)}return{value:i,source:s,stack:Va(s)}}var tc=[],ec=0,vp=null,hh=0,En=[],Cn=0,Ya=null,ds=1,fs="";function qs(i,s){tc[ec++]=hh,tc[ec++]=vp,vp=i,hh=s}function Nx(i,s,o){En[Cn++]=ds,En[Cn++]=fs,En[Cn++]=Ya,Ya=i;var u=ds;i=fs;var v=32-en(u)-1;u&=~(1<<v),o+=1;var b=32-en(s)+v;if(30<b){var T=v-v%5;b=(u&(1<<T)-1).toString(32),u>>=T,v-=T,ds=1<<32-en(s)+v|o<<v|u,fs=b+i}else ds=1<<b|o<<v|u,fs=i}function Ny(i){i.return!==null&&(qs(i,1),Nx(i,1,0))}function Fy(i){for(;i===vp;)vp=tc[--ec],tc[ec]=null,hh=tc[--ec],tc[ec]=null;for(;i===Ya;)Ya=En[--Cn],En[Cn]=null,fs=En[--Cn],En[Cn]=null,ds=En[--Cn],En[Cn]=null}function Fx(i,s){En[Cn++]=ds,En[Cn++]=fs,En[Cn++]=Ya,ds=s.id,fs=s.overflow,Ya=i}var oi=null,fe=null,Gt=!1,Wa=null,Mn=!1,Iy=Error(n(519));function $a(i){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dh(Tn(s,i)),Iy}function Ix(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[ri]=i,s[Bi]=u,o){case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":case"embed":Bt("load",s);break;case"video":case"audio":for(o=0;o<Oh.length;o++)Bt(Oh[o],s);break;case"source":Bt("error",s);break;case"img":case"image":case"link":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"input":Bt("invalid",s),K_(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Bt("invalid",s);break;case"textarea":Bt("invalid",s),Z_(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||t1(s.textContent,o)?(u.popover!=null&&(Bt("beforetoggle",s),Bt("toggle",s)),u.onScroll!=null&&Bt("scroll",s),u.onScrollEnd!=null&&Bt("scrollend",s),u.onClick!=null&&(s.onclick=Vs),s=!0):s=!1,s||$a(i,!0)}function jx(i){for(oi=i.return;oi;)switch(oi.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:oi=oi.return}}function ic(i){if(i!==oi)return!1;if(!Gt)return jx(i),Gt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ev(i.type,i.memoizedProps)),o=!o),o&&fe&&$a(i),jx(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));fe=c1(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));fe=c1(i)}else s===27?(s=fe,cr(i.type)?(i=rv,rv=null,fe=i):fe=s):fe=oi?Dn(i.stateNode.nextSibling):null;return!0}function co(){fe=oi=null,Gt=!1}function jy(){var i=Wa;return i!==null&&(Gi===null?Gi=i:Gi.push.apply(Gi,i),Wa=null),i}function dh(i){Wa===null?Wa=[i]:Wa.push(i)}var By=H(null),uo=null,Xs=null;function Ka(i,s,o){J(By,s._currentValue),s._currentValue=o}function Ys(i){i._currentValue=By.current,q(By)}function Hy(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function zy(i,s,o,u){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var T=v.child;b=b.firstContext;t:for(;b!==null;){var k=b;b=v;for(var B=0;B<s.length;B++)if(k.context===s[B]){b.lanes|=o,k=b.alternate,k!==null&&(k.lanes|=o),Hy(b.return,o,i),u||(T=null);break t}b=k.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=o,b=T.alternate,b!==null&&(b.lanes|=o),Hy(T,o,i),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function nc(i,s,o,u){i=null;for(var v=s,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var k=v.type;nn(v.pendingProps.value,T.value)||(i!==null?i.push(k):i=[k])}}else if(v===ut.current){if(T=v.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Bh):i=[Bh])}v=v.return}i!==null&&zy(s,i,o,u),s.flags|=262144}function bp(i){for(i=i.firstContext;i!==null;){if(!nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ho(i){uo=i,Xs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function li(i){return Bx(uo,i)}function Ap(i,s){return uo===null&&ho(i),Bx(i,s)}function Bx(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Xs===null){if(i===null)throw Error(n(308));Xs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Xs=Xs.next=s;return o}var eL=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},iL=a.unstable_scheduleCallback,nL=a.unstable_NormalPriority,Ne={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vy(){return{controller:new eL,data:new Map,refCount:0}}function fh(i){i.refCount--,i.refCount===0&&iL(nL,function(){i.controller.abort()})}var ph=null,Uy=0,sc=0,ac=null;function sL(i,s){if(ph===null){var o=ph=[];Uy=0,sc=X0(),ac={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Uy++,s.then(Hx,Hx),s}function Hx(){if(--Uy===0&&ph!==null){ac!==null&&(ac.status="fulfilled");var i=ph;ph=null,sc=0,ac=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function aL(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(v){o.push(v)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var v=0;v<o.length;v++)(0,o[v])(s)},function(v){for(u.status="rejected",u.reason=v,v=0;v<o.length;v++)(0,o[v])(void 0)}),u}var zx=U.S;U.S=function(i,s){SS=Ci(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sL(i,s),zx!==null&&zx(i,s)};var fo=H(null);function Gy(){var i=fo.current;return i!==null?i:ce.pooledCache}function _p(i,s){s===null?J(fo,fo.current):J(fo,s.pool)}function Vx(){var i=Gy();return i===null?null:{parent:Ne._currentValue,pool:i}}var rc=Error(n(460)),qy=Error(n(474)),xp=Error(n(542)),wp={then:function(){}};function Ux(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gx(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Vs,Vs),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xx(i),i;default:if(typeof s.status=="string")s.then(Vs,Vs);else{if(i=ce,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=u}},function(u){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xx(i),i}throw go=s,rc}}function po(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(go=o,rc):o}}var go=null;function qx(){if(go===null)throw Error(n(459));var i=go;return go=null,i}function Xx(i){if(i===rc||i===xp)throw Error(n(483))}var oc=null,gh=0;function Sp(i){var s=gh;return gh+=1,oc===null&&(oc=[]),Gx(oc,i,s)}function mh(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Tp(i,s){throw s.$$typeof===m?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Yx(i){function s(V,z){if(i){var X=V.deletions;X===null?(V.deletions=[z],V.flags|=16):X.push(z)}}function o(V,z){if(!i)return null;for(;z!==null;)s(V,z),z=z.sibling;return null}function u(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function v(V,z){return V=Gs(V,z),V.index=0,V.sibling=null,V}function b(V,z,X){return V.index=X,i?(X=V.alternate,X!==null?(X=X.index,X<z?(V.flags|=67108866,z):X):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function T(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function k(V,z,X,et){return z===null||z.tag!==6?(z=Py(X,V.mode,et),z.return=V,z):(z=v(z,X),z.return=V,z)}function B(V,z,X,et){var At=X.type;return At===S?tt(V,z,X.props.children,et,X.key):z!==null&&(z.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===F&&po(At)===z.type)?(z=v(z,X.props),mh(z,X),z.return=V,z):(z=yp(X.type,X.key,X.props,null,V.mode,et),mh(z,X),z.return=V,z)}function W(V,z,X,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Oy(X,V.mode,et),z.return=V,z):(z=v(z,X.children||[]),z.return=V,z)}function tt(V,z,X,et,At){return z===null||z.tag!==7?(z=lo(X,V.mode,et,At),z.return=V,z):(z=v(z,X),z.return=V,z)}function nt(V,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Py(""+z,V.mode,X),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return X=yp(z.type,z.key,z.props,null,V.mode,X),mh(X,z),X.return=V,X;case x:return z=Oy(z,V.mode,X),z.return=V,z;case F:return z=po(z),nt(V,z,X)}if(dt(z)||rt(z))return z=lo(z,V.mode,X,null),z.return=V,z;if(typeof z.then=="function")return nt(V,Sp(z),X);if(z.$$typeof===L)return nt(V,Ap(V,z),X);Tp(V,z)}return null}function $(V,z,X,et){var At=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return At!==null?null:k(V,z,""+X,et);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===At?B(V,z,X,et):null;case x:return X.key===At?W(V,z,X,et):null;case F:return X=po(X),$(V,z,X,et)}if(dt(X)||rt(X))return At!==null?null:tt(V,z,X,et,null);if(typeof X.then=="function")return $(V,z,Sp(X),et);if(X.$$typeof===L)return $(V,z,Ap(V,X),et);Tp(V,X)}return null}function Q(V,z,X,et,At){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return V=V.get(X)||null,k(z,V,""+et,At);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return V=V.get(et.key===null?X:et.key)||null,B(z,V,et,At);case x:return V=V.get(et.key===null?X:et.key)||null,W(z,V,et,At);case F:return et=po(et),Q(V,z,X,et,At)}if(dt(et)||rt(et))return V=V.get(X)||null,tt(z,V,et,At,null);if(typeof et.then=="function")return Q(V,z,X,Sp(et),At);if(et.$$typeof===L)return Q(V,z,X,Ap(z,et),At);Tp(z,et)}return null}function gt(V,z,X,et){for(var At=null,Xt=null,yt=z,kt=z=0,Vt=null;yt!==null&&kt<X.length;kt++){yt.index>kt?(Vt=yt,yt=null):Vt=yt.sibling;var Yt=$(V,yt,X[kt],et);if(Yt===null){yt===null&&(yt=Vt);break}i&&yt&&Yt.alternate===null&&s(V,yt),z=b(Yt,z,kt),Xt===null?At=Yt:Xt.sibling=Yt,Xt=Yt,yt=Vt}if(kt===X.length)return o(V,yt),Gt&&qs(V,kt),At;if(yt===null){for(;kt<X.length;kt++)yt=nt(V,X[kt],et),yt!==null&&(z=b(yt,z,kt),Xt===null?At=yt:Xt.sibling=yt,Xt=yt);return Gt&&qs(V,kt),At}for(yt=u(yt);kt<X.length;kt++)Vt=Q(yt,V,kt,X[kt],et),Vt!==null&&(i&&Vt.alternate!==null&&yt.delete(Vt.key===null?kt:Vt.key),z=b(Vt,z,kt),Xt===null?At=Vt:Xt.sibling=Vt,Xt=Vt);return i&&yt.forEach(function(pr){return s(V,pr)}),Gt&&qs(V,kt),At}function wt(V,z,X,et){if(X==null)throw Error(n(151));for(var At=null,Xt=null,yt=z,kt=z=0,Vt=null,Yt=X.next();yt!==null&&!Yt.done;kt++,Yt=X.next()){yt.index>kt?(Vt=yt,yt=null):Vt=yt.sibling;var pr=$(V,yt,Yt.value,et);if(pr===null){yt===null&&(yt=Vt);break}i&&yt&&pr.alternate===null&&s(V,yt),z=b(pr,z,kt),Xt===null?At=pr:Xt.sibling=pr,Xt=pr,yt=Vt}if(Yt.done)return o(V,yt),Gt&&qs(V,kt),At;if(yt===null){for(;!Yt.done;kt++,Yt=X.next())Yt=nt(V,Yt.value,et),Yt!==null&&(z=b(Yt,z,kt),Xt===null?At=Yt:Xt.sibling=Yt,Xt=Yt);return Gt&&qs(V,kt),At}for(yt=u(yt);!Yt.done;kt++,Yt=X.next())Yt=Q(yt,V,kt,Yt.value,et),Yt!==null&&(i&&Yt.alternate!==null&&yt.delete(Yt.key===null?kt:Yt.key),z=b(Yt,z,kt),Xt===null?At=Yt:Xt.sibling=Yt,Xt=Yt);return i&&yt.forEach(function(mk){return s(V,mk)}),Gt&&qs(V,kt),At}function re(V,z,X,et){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:t:{for(var At=X.key;z!==null;){if(z.key===At){if(At=X.type,At===S){if(z.tag===7){o(V,z.sibling),et=v(z,X.props.children),et.return=V,V=et;break t}}else if(z.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===F&&po(At)===z.type){o(V,z.sibling),et=v(z,X.props),mh(et,X),et.return=V,V=et;break t}o(V,z);break}else s(V,z);z=z.sibling}X.type===S?(et=lo(X.props.children,V.mode,et,X.key),et.return=V,V=et):(et=yp(X.type,X.key,X.props,null,V.mode,et),mh(et,X),et.return=V,V=et)}return T(V);case x:t:{for(At=X.key;z!==null;){if(z.key===At)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){o(V,z.sibling),et=v(z,X.children||[]),et.return=V,V=et;break t}else{o(V,z);break}else s(V,z);z=z.sibling}et=Oy(X,V.mode,et),et.return=V,V=et}return T(V);case F:return X=po(X),re(V,z,X,et)}if(dt(X))return gt(V,z,X,et);if(rt(X)){if(At=rt(X),typeof At!="function")throw Error(n(150));return X=At.call(X),wt(V,z,X,et)}if(typeof X.then=="function")return re(V,z,Sp(X),et);if(X.$$typeof===L)return re(V,z,Ap(V,X),et);Tp(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(o(V,z.sibling),et=v(z,X),et.return=V,V=et):(o(V,z),et=Py(X,V.mode,et),et.return=V,V=et),T(V)):o(V,z)}return function(V,z,X,et){try{gh=0;var At=re(V,z,X,et);return oc=null,At}catch(yt){if(yt===rc||yt===xp)throw yt;var Xt=sn(29,yt,null,V.mode);return Xt.lanes=et,Xt.return=V,Xt}finally{}}}var mo=Yx(!0),Wx=Yx(!1),Qa=!1;function Xy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Za(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ja(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var v=u.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),u.pending=s,s=mp(i),Lx(i,null,o),s}return gp(i,u,s,o),mp(i)}function yh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,B_(i,o)}}function Wy(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var v=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?v=b=T:b=b.next=T,o=o.next}while(o!==null);b===null?v=b=s:b=b.next=s}else v=b=s;o={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var $y=!1;function vh(){if($y){var i=ac;if(i!==null)throw i}}function bh(i,s,o,u){$y=!1;var v=i.updateQueue;Qa=!1;var b=v.firstBaseUpdate,T=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var B=k,W=B.next;B.next=null,T===null?b=W:T.next=W,T=B;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,k=tt.lastBaseUpdate,k!==T&&(k===null?tt.firstBaseUpdate=W:k.next=W,tt.lastBaseUpdate=B))}if(b!==null){var nt=v.baseState;T=0,tt=W=B=null,k=b;do{var $=k.lane&-536870913,Q=$!==k.lane;if(Q?(zt&$)===$:(u&$)===$){$!==0&&$===sc&&($y=!0),tt!==null&&(tt=tt.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var gt=i,wt=k;$=s;var re=o;switch(wt.tag){case 1:if(gt=wt.payload,typeof gt=="function"){nt=gt.call(re,nt,$);break t}nt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=wt.payload,$=typeof gt=="function"?gt.call(re,nt,$):gt,$==null)break t;nt=d({},nt,$);break t;case 2:Qa=!0}}$=k.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=v.callbacks,Q===null?v.callbacks=[$]:Q.push($))}else Q={lane:$,tag:k.tag,payload:k.payload,callback:k.callback,next:null},tt===null?(W=tt=Q,B=nt):tt=tt.next=Q,T|=$;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;Q=k,k=Q.next,Q.next=null,v.lastBaseUpdate=Q,v.shared.pending=null}}while(!0);tt===null&&(B=nt),v.baseState=B,v.firstBaseUpdate=W,v.lastBaseUpdate=tt,b===null&&(v.shared.lanes=0),sr|=T,i.lanes=T,i.memoizedState=nt}}function $x(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Kx(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)$x(o[i],s)}var lc=H(null),Ep=H(0);function Qx(i,s){i=ia,J(Ep,i),J(lc,s),ia=i|s.baseLanes}function Ky(){J(Ep,ia),J(lc,lc.current)}function Qy(){ia=Ep.current,q(lc),q(Ep)}var an=H(null),Rn=null;function tr(i){var s=i.alternate;J(De,De.current&1),J(an,i),Rn===null&&(s===null||lc.current!==null||s.memoizedState!==null)&&(Rn=i)}function Zy(i){J(De,De.current),J(an,i),Rn===null&&(Rn=i)}function Zx(i){i.tag===22?(J(De,De.current),J(an,i),Rn===null&&(Rn=i)):er()}function er(){J(De,De.current),J(an,an.current)}function rn(i){q(an),Rn===i&&(Rn=null),q(De)}var De=H(0);function Cp(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sv(o)||av(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ws=0,Mt=null,se=null,Fe=null,Mp=!1,cc=!1,yo=!1,Rp=0,Ah=0,uc=null,rL=0;function Te(){throw Error(n(321))}function Jy(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!nn(i[o],s[o]))return!1;return!0}function t0(i,s,o,u,v,b){return Ws=b,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=i===null||i.memoizedState===null?Nw:g0,yo=!1,b=o(u,v),yo=!1,cc&&(b=tw(s,o,u,v)),Jx(i),b}function Jx(i){U.H=wh;var s=se!==null&&se.next!==null;if(Ws=0,Fe=se=Mt=null,Mp=!1,Ah=0,uc=null,s)throw Error(n(300));i===null||Ie||(i=i.dependencies,i!==null&&bp(i)&&(Ie=!0))}function tw(i,s,o,u){Mt=i;var v=0;do{if(cc&&(uc=null),Ah=0,cc=!1,25<=v)throw Error(n(301));if(v+=1,Fe=se=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}U.H=Fw,b=s(o,u)}while(cc);return b}function oL(){var i=U.H,s=i.useState()[0];return s=typeof s.then=="function"?_h(s):s,i=i.useState()[0],(se!==null?se.memoizedState:null)!==i&&(Mt.flags|=1024),s}function e0(){var i=Rp!==0;return Rp=0,i}function i0(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function n0(i){if(Mp){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Mp=!1}Ws=0,Fe=se=Mt=null,cc=!1,Ah=Rp=0,uc=null}function Mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Mt.memoizedState=Fe=i:Fe=Fe.next=i,Fe}function Le(){if(se===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=se.next;var s=Fe===null?Mt.memoizedState:Fe.next;if(s!==null)Fe=s,se=i;else{if(i===null)throw Mt.alternate===null?Error(n(467)):Error(n(310));se=i,i={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Fe===null?Mt.memoizedState=Fe=i:Fe=Fe.next=i}return Fe}function Dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _h(i){var s=Ah;return Ah+=1,uc===null&&(uc=[]),i=Gx(uc,i,s),s=Mt,(Fe===null?s.memoizedState:Fe.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Nw:g0),i}function Lp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _h(i);if(i.$$typeof===L)return li(i)}throw Error(n(438,String(i)))}function s0(i){var s=null,o=Mt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dp(),Mt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=K;return s.index++,o}function $s(i,s){return typeof s=="function"?s(i):s}function kp(i){var s=Le();return a0(s,se,i)}function a0(i,s,o){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var v=i.baseQueue,b=u.pending;if(b!==null){if(v!==null){var T=v.next;v.next=b.next,b.next=T}s.baseQueue=v=b,u.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{s=v.next;var k=T=null,B=null,W=s,tt=!1;do{var nt=W.lane&-536870913;if(nt!==W.lane?(zt&nt)===nt:(Ws&nt)===nt){var $=W.revertLane;if($===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),nt===sc&&(tt=!0);else if((Ws&$)===$){W=W.next,$===sc&&(tt=!0);continue}else nt={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(k=B=nt,T=b):B=B.next=nt,Mt.lanes|=$,sr|=$;nt=W.action,yo&&o(b,nt),b=W.hasEagerState?W.eagerState:o(b,nt)}else $={lane:nt,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(k=B=$,T=b):B=B.next=$,Mt.lanes|=nt,sr|=nt;W=W.next}while(W!==null&&W!==s);if(B===null?T=b:B.next=k,!nn(b,i.memoizedState)&&(Ie=!0,tt&&(o=ac,o!==null)))throw o;i.memoizedState=b,i.baseState=T,i.baseQueue=B,u.lastRenderedState=b}return v===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function r0(i){var s=Le(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=i;var u=o.dispatch,v=o.pending,b=s.memoizedState;if(v!==null){o.pending=null;var T=v=v.next;do b=i(b,T.action),T=T.next;while(T!==v);nn(b,s.memoizedState)||(Ie=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),o.lastRenderedState=b}return[b,u]}function ew(i,s,o){var u=Mt,v=Le(),b=Gt;if(b){if(o===void 0)throw Error(n(407));o=o()}else o=s();var T=!nn((se||v).memoizedState,o);if(T&&(v.memoizedState=o,Ie=!0),v=v.queue,c0(sw.bind(null,u,v,i),[i]),v.getSnapshot!==s||T||Fe!==null&&Fe.memoizedState.tag&1){if(u.flags|=2048,hc(9,{destroy:void 0},nw.bind(null,u,v,o,s),null),ce===null)throw Error(n(349));b||(Ws&127)!==0||iw(u,s,o)}return o}function iw(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Mt.updateQueue,s===null?(s=Dp(),Mt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function nw(i,s,o,u){s.value=o,s.getSnapshot=u,aw(s)&&rw(i)}function sw(i,s,o){return o(function(){aw(s)&&rw(i)})}function aw(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!nn(i,o)}catch{return!0}}function rw(i){var s=oo(i,2);s!==null&&qi(s,i,2)}function o0(i){var s=Mi();if(typeof i=="function"){var o=i;if(i=o(),yo){Ga(!0);try{o()}finally{Ga(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:i},s}function ow(i,s,o,u){return i.baseState=o,a0(i,se,typeof u=="function"?u:$s)}function lL(i,s,o,u,v){if(Np(i))throw Error(n(485));if(i=s.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};U.T!==null?o(!0):b.isTransition=!1,u(b),o=s.pending,o===null?(b.next=s.pending=b,lw(s,b)):(b.next=o.next,s.pending=o.next=b)}}function lw(i,s){var o=s.action,u=s.payload,v=i.state;if(s.isTransition){var b=U.T,T={};U.T=T;try{var k=o(v,u),B=U.S;B!==null&&B(T,k),cw(i,s,k)}catch(W){l0(i,s,W)}finally{b!==null&&T.types!==null&&(b.types=T.types),U.T=b}}else try{b=o(v,u),cw(i,s,b)}catch(W){l0(i,s,W)}}function cw(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){uw(i,s,u)},function(u){return l0(i,s,u)}):uw(i,s,o)}function uw(i,s,o){s.status="fulfilled",s.value=o,hw(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,lw(i,o)))}function l0(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,hw(s),s=s.next;while(s!==u)}i.action=null}function hw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function dw(i,s){return s}function fw(i,s){if(Gt){var o=ce.formState;if(o!==null){t:{var u=Mt;if(Gt){if(fe){e:{for(var v=fe,b=Mn;v.nodeType!==8;){if(!b){v=null;break e}if(v=Dn(v.nextSibling),v===null){v=null;break e}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){fe=Dn(v.nextSibling),u=v.data==="F!";break t}}$a(u)}u=!1}u&&(s=o[0])}}return o=Mi(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dw,lastRenderedState:s},o.queue=u,o=kw.bind(null,Mt,u),u.dispatch=o,u=o0(!1),b=p0.bind(null,Mt,!1,u.queue),u=Mi(),v={state:s,dispatch:null,action:i,pending:null},u.queue=v,o=lL.bind(null,Mt,v,b,o),v.dispatch=o,u.memoizedState=i,[s,o,!1]}function pw(i){var s=Le();return gw(s,se,i)}function gw(i,s,o){if(s=a0(i,s,dw)[0],i=kp($s)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=_h(s)}catch(T){throw T===rc?xp:T}else u=s;s=Le();var v=s.queue,b=v.dispatch;return o!==s.memoizedState&&(Mt.flags|=2048,hc(9,{destroy:void 0},cL.bind(null,v,o),null)),[u,b,i]}function cL(i,s){i.action=s}function mw(i){var s=Le(),o=se;if(o!==null)return gw(s,o,i);Le(),s=s.memoizedState,o=Le();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function hc(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=Dp(),Mt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function yw(){return Le().memoizedState}function Pp(i,s,o,u){var v=Mi();Mt.flags|=i,v.memoizedState=hc(1|s,{destroy:void 0},o,u===void 0?null:u)}function Op(i,s,o,u){var v=Le();u=u===void 0?null:u;var b=v.memoizedState.inst;se!==null&&u!==null&&Jy(u,se.memoizedState.deps)?v.memoizedState=hc(s,b,o,u):(Mt.flags|=i,v.memoizedState=hc(1|s,b,o,u))}function vw(i,s){Pp(8390656,8,i,s)}function c0(i,s){Op(2048,8,i,s)}function uL(i){Mt.flags|=4;var s=Mt.updateQueue;if(s===null)s=Dp(),Mt.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function bw(i){var s=Le().memoizedState;return uL({ref:s,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function Aw(i,s){return Op(4,2,i,s)}function _w(i,s){return Op(4,4,i,s)}function xw(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ww(i,s,o){o=o!=null?o.concat([i]):null,Op(4,4,xw.bind(null,s,i),o)}function u0(){}function Sw(i,s){var o=Le();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Jy(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Tw(i,s){var o=Le();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Jy(s,u[1]))return u[0];if(u=i(),yo){Ga(!0);try{i()}finally{Ga(!1)}}return o.memoizedState=[u,s],u}function h0(i,s,o){return o===void 0||(Ws&1073741824)!==0&&(zt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=ES(),Mt.lanes|=i,sr|=i,o)}function Ew(i,s,o,u){return nn(o,s)?o:lc.current!==null?(i=h0(i,o,u),nn(i,s)||(Ie=!0),i):(Ws&42)===0||(Ws&1073741824)!==0&&(zt&261930)===0?(Ie=!0,i.memoizedState=o):(i=ES(),Mt.lanes|=i,sr|=i,s)}function Cw(i,s,o,u,v){var b=Y.p;Y.p=b!==0&&8>b?b:8;var T=U.T,k={};U.T=k,p0(i,!1,s,o);try{var B=v(),W=U.S;if(W!==null&&W(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var tt=aL(B,u);xh(i,s,tt,cn(i))}else xh(i,s,u,cn(i))}catch(nt){xh(i,s,{then:function(){},status:"rejected",reason:nt},cn())}finally{Y.p=b,T!==null&&k.types!==null&&(T.types=k.types),U.T=T}}function hL(){}function d0(i,s,o,u){if(i.tag!==5)throw Error(n(476));var v=Mw(i).queue;Cw(i,v,s,it,o===null?hL:function(){return Rw(i),o(u)})}function Mw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:it},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Rw(i){var s=Mw(i);s.next===null&&(s=i.alternate.memoizedState),xh(i,s.next.queue,{},cn())}function f0(){return li(Bh)}function Dw(){return Le().memoizedState}function Lw(){return Le().memoizedState}function dL(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=cn();i=Za(o);var u=Ja(s,i,o);u!==null&&(qi(u,s,o),yh(u,s,o)),s={cache:Vy()},i.payload=s;return}s=s.return}}function fL(i,s,o){var u=cn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Np(i)?Pw(s,o):(o=Ly(i,s,o,u),o!==null&&(qi(o,i,u),Ow(o,s,u)))}function kw(i,s,o){var u=cn();xh(i,s,o,u)}function xh(i,s,o,u){var v={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Np(i))Pw(s,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var T=s.lastRenderedState,k=b(T,o);if(v.hasEagerState=!0,v.eagerState=k,nn(k,T))return gp(i,s,v,0),ce===null&&pp(),!1}catch{}finally{}if(o=Ly(i,s,v,u),o!==null)return qi(o,i,u),Ow(o,s,u),!0}return!1}function p0(i,s,o,u){if(u={lane:2,revertLane:X0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Np(i)){if(s)throw Error(n(479))}else s=Ly(i,o,u,2),s!==null&&qi(s,i,2)}function Np(i){var s=i.alternate;return i===Mt||s!==null&&s===Mt}function Pw(i,s){cc=Mp=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Ow(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,B_(i,o)}}var wh={readContext:li,use:Lp,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};wh.useEffectEvent=Te;var Nw={readContext:li,use:Lp,useCallback:function(i,s){return Mi().memoizedState=[i,s===void 0?null:s],i},useContext:li,useEffect:vw,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Pp(4194308,4,xw.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Pp(4194308,4,i,s)},useInsertionEffect:function(i,s){Pp(4,2,i,s)},useMemo:function(i,s){var o=Mi();s=s===void 0?null:s;var u=i();if(yo){Ga(!0);try{i()}finally{Ga(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Mi();if(o!==void 0){var v=o(s);if(yo){Ga(!0);try{o(s)}finally{Ga(!1)}}}else v=s;return u.memoizedState=u.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},u.queue=i,i=i.dispatch=fL.bind(null,Mt,i),[u.memoizedState,i]},useRef:function(i){var s=Mi();return i={current:i},s.memoizedState=i},useState:function(i){i=o0(i);var s=i.queue,o=kw.bind(null,Mt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:u0,useDeferredValue:function(i,s){var o=Mi();return h0(o,i,s)},useTransition:function(){var i=o0(!1);return i=Cw.bind(null,Mt,i.queue,!0,!1),Mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Mt,v=Mi();if(Gt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),ce===null)throw Error(n(349));(zt&127)!==0||iw(u,s,o)}v.memoizedState=o;var b={value:o,getSnapshot:s};return v.queue=b,vw(sw.bind(null,u,b,i),[i]),u.flags|=2048,hc(9,{destroy:void 0},nw.bind(null,u,b,o,s),null),o},useId:function(){var i=Mi(),s=ce.identifierPrefix;if(Gt){var o=fs,u=ds;o=(u&~(1<<32-en(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Rp++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=rL++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:f0,useFormState:fw,useActionState:fw,useOptimistic:function(i){var s=Mi();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=p0.bind(null,Mt,!0,o),o.dispatch=s,[i,s]},useMemoCache:s0,useCacheRefresh:function(){return Mi().memoizedState=dL.bind(null,Mt)},useEffectEvent:function(i){var s=Mi(),o={impl:i};return s.memoizedState=o,function(){if((Wt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}},g0={readContext:li,use:Lp,useCallback:Sw,useContext:li,useEffect:c0,useImperativeHandle:ww,useInsertionEffect:Aw,useLayoutEffect:_w,useMemo:Tw,useReducer:kp,useRef:yw,useState:function(){return kp($s)},useDebugValue:u0,useDeferredValue:function(i,s){var o=Le();return Ew(o,se.memoizedState,i,s)},useTransition:function(){var i=kp($s)[0],s=Le().memoizedState;return[typeof i=="boolean"?i:_h(i),s]},useSyncExternalStore:ew,useId:Dw,useHostTransitionStatus:f0,useFormState:pw,useActionState:pw,useOptimistic:function(i,s){var o=Le();return ow(o,se,i,s)},useMemoCache:s0,useCacheRefresh:Lw};g0.useEffectEvent=bw;var Fw={readContext:li,use:Lp,useCallback:Sw,useContext:li,useEffect:c0,useImperativeHandle:ww,useInsertionEffect:Aw,useLayoutEffect:_w,useMemo:Tw,useReducer:r0,useRef:yw,useState:function(){return r0($s)},useDebugValue:u0,useDeferredValue:function(i,s){var o=Le();return se===null?h0(o,i,s):Ew(o,se.memoizedState,i,s)},useTransition:function(){var i=r0($s)[0],s=Le().memoizedState;return[typeof i=="boolean"?i:_h(i),s]},useSyncExternalStore:ew,useId:Dw,useHostTransitionStatus:f0,useFormState:mw,useActionState:mw,useOptimistic:function(i,s){var o=Le();return se!==null?ow(o,se,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:s0,useCacheRefresh:Lw};Fw.useEffectEvent=bw;function m0(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:d({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var y0={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=cn(),v=Za(u);v.payload=s,o!=null&&(v.callback=o),s=Ja(i,v,u),s!==null&&(qi(s,i,u),yh(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=cn(),v=Za(u);v.tag=1,v.payload=s,o!=null&&(v.callback=o),s=Ja(i,v,u),s!==null&&(qi(s,i,u),yh(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=cn(),u=Za(o);u.tag=2,s!=null&&(u.callback=s),s=Ja(i,u,o),s!==null&&(qi(s,i,o),yh(s,i,o))}};function Iw(i,s,o,u,v,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,b,T):s.prototype&&s.prototype.isPureReactComponent?!ch(o,u)||!ch(v,b):!0}function jw(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&y0.enqueueReplaceState(s,s.state,null)}function vo(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=d({},o));for(var v in i)o[v]===void 0&&(o[v]=i[v])}return o}function Bw(i){fp(i)}function Hw(i){console.error(i)}function zw(i){fp(i)}function Fp(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Vw(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function v0(i,s,o){return o=Za(o),o.tag=3,o.payload={element:null},o.callback=function(){Fp(i,s)},o}function Uw(i){return i=Za(i),i.tag=3,i}function Gw(i,s,o,u){var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var b=u.value;i.payload=function(){return v(b)},i.callback=function(){Vw(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Vw(s,o,u),typeof v!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function pL(i,s,o,u,v){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&nc(s,o,v,!0),o=an.current,o!==null){switch(o.tag){case 31:case 13:return Rn===null?Wp():o.alternate===null&&Ee===0&&(Ee=3),o.flags&=-257,o.flags|=65536,o.lanes=v,u===wp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),U0(i,u,v)),!1;case 22:return o.flags|=65536,u===wp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),U0(i,u,v)),!1}throw Error(n(435,o.tag))}return U0(i,u,v),Wp(),!1}if(Gt)return s=an.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,u!==Iy&&(i=Error(n(422),{cause:u}),dh(Tn(i,o)))):(u!==Iy&&(s=Error(n(423),{cause:u}),dh(Tn(s,o))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,u=Tn(u,o),v=v0(i.stateNode,u,v),Wy(i,v),Ee!==4&&(Ee=2)),!1;var b=Error(n(520),{cause:u});if(b=Tn(b,o),Lh===null?Lh=[b]:Lh.push(b),Ee!==4&&(Ee=2),s===null)return!0;u=Tn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=v&-v,o.lanes|=i,i=v0(o.stateNode,u,i),Wy(o,i),!1;case 1:if(s=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ar===null||!ar.has(b))))return o.flags|=65536,v&=-v,o.lanes|=v,v=Uw(v),Gw(v,i,o,u),Wy(o,v),!1}o=o.return}while(o!==null);return!1}var b0=Error(n(461)),Ie=!1;function ci(i,s,o,u){s.child=i===null?Wx(s,null,o,u):mo(s,i.child,o,u)}function qw(i,s,o,u,v){o=o.render;var b=s.ref;if("ref"in u){var T={};for(var k in u)k!=="ref"&&(T[k]=u[k])}else T=u;return ho(s),u=t0(i,s,o,T,b,v),k=e0(),i!==null&&!Ie?(i0(i,s,v),Ks(i,s,v)):(Gt&&k&&Ny(s),s.flags|=1,ci(i,s,u,v),s.child)}function Xw(i,s,o,u,v){if(i===null){var b=o.type;return typeof b=="function"&&!ky(b)&&b.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=b,Yw(i,s,b,u,v)):(i=yp(o.type,null,u,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!C0(i,v)){var T=b.memoizedProps;if(o=o.compare,o=o!==null?o:ch,o(T,u)&&i.ref===s.ref)return Ks(i,s,v)}return s.flags|=1,i=Gs(b,u),i.ref=s.ref,i.return=s,s.child=i}function Yw(i,s,o,u,v){if(i!==null){var b=i.memoizedProps;if(ch(b,u)&&i.ref===s.ref)if(Ie=!1,s.pendingProps=u=b,C0(i,v))(i.flags&131072)!==0&&(Ie=!0);else return s.lanes=i.lanes,Ks(i,s,v)}return A0(i,s,o,u,v)}function Ww(i,s,o,u){var v=u.children,b=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|o:o,i!==null){for(u=s.child=i.child,v=0;u!==null;)v=v|u.lanes|u.childLanes,u=u.sibling;u=v&~b}else u=0,s.child=null;return $w(i,s,b,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&_p(s,b!==null?b.cachePool:null),b!==null?Qx(s,b):Ky(),Zx(s);else return u=s.lanes=536870912,$w(i,s,b!==null?b.baseLanes|o:o,o,u)}else b!==null?(_p(s,b.cachePool),Qx(s,b),er(),s.memoizedState=null):(i!==null&&_p(s,null),Ky(),er());return ci(i,s,v,o),s.child}function Sh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $w(i,s,o,u,v){var b=Gy();return b=b===null?null:{parent:Ne._currentValue,pool:b},s.memoizedState={baseLanes:o,cachePool:b},i!==null&&_p(s,null),Ky(),Zx(s),i!==null&&nc(i,s,u,!0),s.childLanes=v,null}function Ip(i,s){return s=Bp({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Kw(i,s,o){return mo(s,i.child,null,o),i=Ip(s,s.pendingProps),i.flags|=2,rn(s),s.memoizedState=null,i}function gL(i,s,o){var u=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Gt){if(u.mode==="hidden")return i=Ip(s,u),s.lanes=536870912,Sh(null,i);if(Zy(s),(i=fe)?(i=l1(i,Mn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ya!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},o=Px(i),o.return=s,s.child=o,oi=s,fe=null)):i=null,i===null)throw $a(s);return s.lanes=536870912,null}return Ip(s,u)}var b=i.memoizedState;if(b!==null){var T=b.dehydrated;if(Zy(s),v)if(s.flags&256)s.flags&=-257,s=Kw(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(n(558));else if(Ie||nc(i,s,o,!1),v=(o&i.childLanes)!==0,Ie||v){if(u=ce,u!==null&&(T=H_(u,o),T!==0&&T!==b.retryLane))throw b.retryLane=T,oo(i,T),qi(u,i,T),b0;Wp(),s=Kw(i,s,o)}else i=b.treeContext,fe=Dn(T.nextSibling),oi=s,Gt=!0,Wa=null,Mn=!1,i!==null&&Fx(s,i),s=Ip(s,u),s.flags|=4096;return s}return i=Gs(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function jp(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function A0(i,s,o,u,v){return ho(s),o=t0(i,s,o,u,void 0,v),u=e0(),i!==null&&!Ie?(i0(i,s,v),Ks(i,s,v)):(Gt&&u&&Ny(s),s.flags|=1,ci(i,s,o,v),s.child)}function Qw(i,s,o,u,v,b){return ho(s),s.updateQueue=null,o=tw(s,u,o,v),Jx(i),u=e0(),i!==null&&!Ie?(i0(i,s,b),Ks(i,s,b)):(Gt&&u&&Ny(s),s.flags|=1,ci(i,s,o,b),s.child)}function Zw(i,s,o,u,v){if(ho(s),s.stateNode===null){var b=Jl,T=o.contextType;typeof T=="object"&&T!==null&&(b=li(T)),b=new o(u,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=y0,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=u,b.state=s.memoizedState,b.refs={},Xy(s),T=o.contextType,b.context=typeof T=="object"&&T!==null?li(T):Jl,b.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(m0(s,o,T,u),b.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&y0.enqueueReplaceState(b,b.state,null),bh(s,u,b,v),vh(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){b=s.stateNode;var k=s.memoizedProps,B=vo(o,k);b.props=B;var W=b.context,tt=o.contextType;T=Jl,typeof tt=="object"&&tt!==null&&(T=li(tt));var nt=o.getDerivedStateFromProps;tt=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,tt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||W!==T)&&jw(s,b,u,T),Qa=!1;var $=s.memoizedState;b.state=$,bh(s,u,b,v),vh(),W=s.memoizedState,k||$!==W||Qa?(typeof nt=="function"&&(m0(s,o,nt,u),W=s.memoizedState),(B=Qa||Iw(s,o,B,u,$,W,T))?(tt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),b.props=u,b.state=W,b.context=T,u=B):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,Yy(i,s),T=s.memoizedProps,tt=vo(o,T),b.props=tt,nt=s.pendingProps,$=b.context,W=o.contextType,B=Jl,typeof W=="object"&&W!==null&&(B=li(W)),k=o.getDerivedStateFromProps,(W=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==nt||$!==B)&&jw(s,b,u,B),Qa=!1,$=s.memoizedState,b.state=$,bh(s,u,b,v),vh();var Q=s.memoizedState;T!==nt||$!==Q||Qa||i!==null&&i.dependencies!==null&&bp(i.dependencies)?(typeof k=="function"&&(m0(s,o,k,u),Q=s.memoizedState),(tt=Qa||Iw(s,o,tt,u,$,Q,B)||i!==null&&i.dependencies!==null&&bp(i.dependencies))?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Q,B),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Q,B)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),b.props=u,b.state=Q,b.context=B,u=tt):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return b=u,jp(i,s),u=(s.flags&128)!==0,b||u?(b=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&u?(s.child=mo(s,i.child,null,v),s.child=mo(s,null,o,v)):ci(i,s,o,v),s.memoizedState=b.state,i=s.child):i=Ks(i,s,v),i}function Jw(i,s,o,u){return co(),s.flags|=256,ci(i,s,o,u),s.child}var _0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function x0(i){return{baseLanes:i,cachePool:Vx()}}function w0(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ln),i}function tS(i,s,o){var u=s.pendingProps,v=!1,b=(s.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),T&&(v=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Gt){if(v?tr(s):er(),(i=fe)?(i=l1(i,Mn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ya!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},o=Px(i),o.return=s,s.child=o,oi=s,fe=null)):i=null,i===null)throw $a(s);return av(i)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,v?(er(),v=s.mode,k=Bp({mode:"hidden",children:k},v),u=lo(u,v,o,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=x0(o),u.childLanes=w0(i,T,o),s.memoizedState=_0,Sh(null,u)):(tr(s),S0(s,k))}var B=i.memoizedState;if(B!==null&&(k=B.dehydrated,k!==null)){if(b)s.flags&256?(tr(s),s.flags&=-257,s=T0(i,s,o)):s.memoizedState!==null?(er(),s.child=i.child,s.flags|=128,s=null):(er(),k=u.fallback,v=s.mode,u=Bp({mode:"visible",children:u.children},v),k=lo(k,v,o,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,mo(s,i.child,null,o),u=s.child,u.memoizedState=x0(o),u.childLanes=w0(i,T,o),s.memoizedState=_0,s=Sh(null,u));else if(tr(s),av(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var W=T.dgst;T=W,u=Error(n(419)),u.stack="",u.digest=T,dh({value:u,source:null,stack:null}),s=T0(i,s,o)}else if(Ie||nc(i,s,o,!1),T=(o&i.childLanes)!==0,Ie||T){if(T=ce,T!==null&&(u=H_(T,o),u!==0&&u!==B.retryLane))throw B.retryLane=u,oo(i,u),qi(T,i,u),b0;sv(k)||Wp(),s=T0(i,s,o)}else sv(k)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,fe=Dn(k.nextSibling),oi=s,Gt=!0,Wa=null,Mn=!1,i!==null&&Fx(s,i),s=S0(s,u.children),s.flags|=4096);return s}return v?(er(),k=u.fallback,v=s.mode,B=i.child,W=B.sibling,u=Gs(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,W!==null?k=Gs(W,k):(k=lo(k,v,o,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,Sh(null,u),u=s.child,k=i.child.memoizedState,k===null?k=x0(o):(v=k.cachePool,v!==null?(B=Ne._currentValue,v=v.parent!==B?{parent:B,pool:B}:v):v=Vx(),k={baseLanes:k.baseLanes|o,cachePool:v}),u.memoizedState=k,u.childLanes=w0(i,T,o),s.memoizedState=_0,Sh(i.child,u)):(tr(s),o=i.child,i=o.sibling,o=Gs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function S0(i,s){return s=Bp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Bp(i,s){return i=sn(22,i,null,s),i.lanes=0,i}function T0(i,s,o){return mo(s,i.child,null,o),i=S0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function eS(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Hy(i.return,s,o)}function E0(i,s,o,u,v,b){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:v,treeForkCount:b}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=v,T.treeForkCount=b)}function iS(i,s,o){var u=s.pendingProps,v=u.revealOrder,b=u.tail;u=u.children;var T=De.current,k=(T&2)!==0;if(k?(T=T&1|2,s.flags|=128):T&=1,J(De,T),ci(i,s,u,o),u=Gt?hh:0,!k&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eS(i,o,s);else if(i.tag===19)eS(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(o=s.child,v=null;o!==null;)i=o.alternate,i!==null&&Cp(i)===null&&(v=o),o=o.sibling;o=v,o===null?(v=s.child,s.child=null):(v=o.sibling,o.sibling=null),E0(s,!1,v,o,b,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&Cp(i)===null){s.child=v;break}i=v.sibling,v.sibling=o,o=v,v=i}E0(s,!0,o,null,b,u);break;case"together":E0(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ks(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),sr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(nc(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,o=Gs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Gs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function C0(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&bp(i)))}function mL(i,s,o){switch(s.tag){case 3:Dt(s,s.stateNode.containerInfo),Ka(s,Ne,i.memoizedState.cache),co();break;case 27:case 5:Ht(s);break;case 4:Dt(s,s.stateNode.containerInfo);break;case 10:Ka(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zy(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?tS(i,s,o):(tr(s),i=Ks(i,s,o),i!==null?i.sibling:null);tr(s);break;case 19:var v=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(nc(i,s,o,!1),u=(o&s.childLanes)!==0),v){if(u)return iS(i,s,o);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),J(De,De.current),u)break;return null;case 22:return s.lanes=0,Ww(i,s,o,s.pendingProps);case 24:Ka(s,Ne,i.memoizedState.cache)}return Ks(i,s,o)}function nS(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ie=!0;else{if(!C0(i,o)&&(s.flags&128)===0)return Ie=!1,mL(i,s,o);Ie=(i.flags&131072)!==0}else Ie=!1,Gt&&(s.flags&1048576)!==0&&Nx(s,hh,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=po(s.elementType),s.type=i,typeof i=="function")ky(i)?(u=vo(i,u),s.tag=1,s=Zw(null,s,i,u,o)):(s.tag=0,s=A0(null,s,i,u,o));else{if(i!=null){var v=i.$$typeof;if(v===_){s.tag=11,s=qw(null,s,i,u,o);break t}else if(v===N){s.tag=14,s=Xw(null,s,i,u,o);break t}}throw s=at(i)||i,Error(n(306,s,""))}}return s;case 0:return A0(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,v=vo(u,s.pendingProps),Zw(i,s,u,v,o);case 3:t:{if(Dt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var b=s.memoizedState;v=b.element,Yy(i,s),bh(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Ka(s,Ne,u),u!==b.cache&&zy(s,[Ne],o,!0),vh(),u=T.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=Jw(i,s,u,o);break t}else if(u!==v){v=Tn(Error(n(424)),s),dh(v),s=Jw(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Dn(i.firstChild),oi=s,Gt=!0,Wa=null,Mn=!0,o=Wx(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(co(),u===v){s=Ks(i,s,o);break t}ci(i,s,u,o)}s=s.child}return s;case 26:return jp(i,s),i===null?(o=p1(s.type,null,s.pendingProps,null))?s.memoizedState=o:Gt||(o=s.type,i=s.pendingProps,u=eg(pt.current).createElement(o),u[ri]=s,u[Bi]=i,ui(u,o,i),Ze(u),s.stateNode=u):s.memoizedState=p1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ht(s),i===null&&Gt&&(u=s.stateNode=h1(s.type,s.pendingProps,pt.current),oi=s,Mn=!0,v=fe,cr(s.type)?(rv=v,fe=Dn(u.firstChild)):fe=v),ci(i,s,s.pendingProps.children,o),jp(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Gt&&((v=u=fe)&&(u=XL(u,s.type,s.pendingProps,Mn),u!==null?(s.stateNode=u,oi=s,fe=Dn(u.firstChild),Mn=!1,v=!0):v=!1),v||$a(s)),Ht(s),v=s.type,b=s.pendingProps,T=i!==null?i.memoizedProps:null,u=b.children,ev(v,b)?u=null:T!==null&&ev(v,T)&&(s.flags|=32),s.memoizedState!==null&&(v=t0(i,s,oL,null,null,o),Bh._currentValue=v),jp(i,s),ci(i,s,u,o),s.child;case 6:return i===null&&Gt&&((i=o=fe)&&(o=YL(o,s.pendingProps,Mn),o!==null?(s.stateNode=o,oi=s,fe=null,i=!0):i=!1),i||$a(s)),null;case 13:return tS(i,s,o);case 4:return Dt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=mo(s,null,u,o):ci(i,s,u,o),s.child;case 11:return qw(i,s,s.type,s.pendingProps,o);case 7:return ci(i,s,s.pendingProps,o),s.child;case 8:return ci(i,s,s.pendingProps.children,o),s.child;case 12:return ci(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ka(s,s.type,u.value),ci(i,s,u.children,o),s.child;case 9:return v=s.type._context,u=s.pendingProps.children,ho(s),v=li(v),u=u(v),s.flags|=1,ci(i,s,u,o),s.child;case 14:return Xw(i,s,s.type,s.pendingProps,o);case 15:return Yw(i,s,s.type,s.pendingProps,o);case 19:return iS(i,s,o);case 31:return gL(i,s,o);case 22:return Ww(i,s,o,s.pendingProps);case 24:return ho(s),u=li(Ne),i===null?(v=Gy(),v===null&&(v=ce,b=Vy(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=o),v=b),s.memoizedState={parent:u,cache:v},Xy(s),Ka(s,Ne,v)):((i.lanes&o)!==0&&(Yy(i,s),bh(s,null,null,o),vh()),v=i.memoizedState,b=s.memoizedState,v.parent!==u?(v={parent:u,cache:u},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ka(s,Ne,u)):(u=b.cache,Ka(s,Ne,u),u!==v.cache&&zy(s,[Ne],o,!0))),ci(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Qs(i){i.flags|=4}function M0(i,s,o,u,v){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(DS())i.flags|=8192;else throw go=wp,qy}else i.flags&=-16777217}function sS(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!b1(s))if(DS())i.flags|=8192;else throw go=wp,qy}function Hp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?I_():536870912,i.lanes|=s,gc|=s)}function Th(i,s){if(!Gt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pe(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var v=i.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function yL(i,s,o){var u=s.pendingProps;switch(Fy(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(s),null;case 1:return pe(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ys(Ne),Lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ic(s)?Qs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jy())),pe(s),null;case 26:var v=s.type,b=s.memoizedState;return i===null?(Qs(s),b!==null?(pe(s),sS(s,b)):(pe(s),M0(s,v,null,u,o))):b?b!==i.memoizedState?(Qs(s),pe(s),sS(s,b)):(pe(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Qs(s),pe(s),M0(s,v,i,u,o)),null;case 27:if(we(s),o=pt.current,v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Qs(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return pe(s),null}i=st.current,ic(s)?Ix(s):(i=h1(v,u,o),s.stateNode=i,Qs(s))}return pe(s),null;case 5:if(we(s),v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Qs(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return pe(s),null}if(b=st.current,ic(s))Ix(s);else{var T=eg(pt.current);switch(b){case 1:b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=T.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?T.createElement(v,{is:u.is}):T.createElement(v)}}b[ri]=s,b[Bi]=u;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)b.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=b;t:switch(ui(b,v,u),v){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Qs(s)}}return pe(s),M0(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Qs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=pt.current,ic(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,v=oi,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}i[ri]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||t1(i.nodeValue,o)),i||$a(s,!0)}else i=eg(i).createTextNode(u),i[ri]=s,s.stateNode=i}return pe(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=ic(s),o!==null){if(i===null){if(!u)throw Error(n(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[ri]=s}else co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pe(s),i=!1}else o=jy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(rn(s),s):(rn(s),null);if((s.flags&128)!==0)throw Error(n(558))}return pe(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ic(s),u!==null&&u.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[ri]=s}else co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pe(s),v=!1}else v=jy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(rn(s),s):(rn(s),null)}return rn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==v&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Hp(s,s.updateQueue),pe(s),null);case 4:return Lt(),i===null&&K0(s.stateNode.containerInfo),pe(s),null;case 10:return Ys(s.type),pe(s),null;case 19:if(q(De),u=s.memoizedState,u===null)return pe(s),null;if(v=(s.flags&128)!==0,b=u.rendering,b===null)if(v)Th(u,!1);else{if(Ee!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Cp(i),b!==null){for(s.flags|=128,Th(u,!1),i=b.updateQueue,s.updateQueue=i,Hp(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)kx(o,i),o=o.sibling;return J(De,De.current&1|2),Gt&&qs(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Ci()>qp&&(s.flags|=128,v=!0,Th(u,!1),s.lanes=4194304)}else{if(!v)if(i=Cp(b),i!==null){if(s.flags|=128,v=!0,i=i.updateQueue,s.updateQueue=i,Hp(s,i),Th(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!Gt)return pe(s),null}else 2*Ci()-u.renderingStartTime>qp&&o!==536870912&&(s.flags|=128,v=!0,Th(u,!1),s.lanes=4194304);u.isBackwards?(b.sibling=s.child,s.child=b):(i=u.last,i!==null?i.sibling=b:s.child=b,u.last=b)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ci(),i.sibling=null,o=De.current,J(De,v?o&1|2:o&1),Gt&&qs(s,u.treeForkCount),i):(pe(s),null);case 22:case 23:return rn(s),Qy(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(pe(s),s.subtreeFlags&6&&(s.flags|=8192)):pe(s),o=s.updateQueue,o!==null&&Hp(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&q(fo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ys(Ne),pe(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function vL(i,s){switch(Fy(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ys(Ne),Lt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return we(s),null;case 31:if(s.memoizedState!==null){if(rn(s),s.alternate===null)throw Error(n(340));co()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(rn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));co()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(De),null;case 4:return Lt(),null;case 10:return Ys(s.type),null;case 22:case 23:return rn(s),Qy(),i!==null&&q(fo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ys(Ne),null;case 25:return null;default:return null}}function aS(i,s){switch(Fy(s),s.tag){case 3:Ys(Ne),Lt();break;case 26:case 27:case 5:we(s);break;case 4:Lt();break;case 31:s.memoizedState!==null&&rn(s);break;case 13:rn(s);break;case 19:q(De);break;case 10:Ys(s.type);break;case 22:case 23:rn(s),Qy(),i!==null&&q(fo);break;case 24:Ys(Ne)}}function Eh(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var v=u.next;o=v;do{if((o.tag&i)===i){u=void 0;var b=o.create,T=o.inst;u=b(),T.destroy=u}o=o.next}while(o!==v)}}catch(k){Zt(s,s.return,k)}}function ir(i,s,o){try{var u=s.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var b=v.next;u=b;do{if((u.tag&i)===i){var T=u.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,v=s;var B=o,W=k;try{W()}catch(tt){Zt(v,B,tt)}}}u=u.next}while(u!==b)}}catch(tt){Zt(s,s.return,tt)}}function rS(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Kx(s,o)}catch(u){Zt(i,i.return,u)}}}function oS(i,s,o){o.props=vo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,s,u)}}function Ch(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(v){Zt(i,s,v)}}function ps(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(v){Zt(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(v){Zt(i,s,v)}else o.current=null}function lS(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(v){Zt(i,i.return,v)}}function R0(i,s,o){try{var u=i.stateNode;HL(u,i.type,o,s),u[Bi]=s}catch(v){Zt(i,i.return,v)}}function cS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&cr(i.type)||i.tag===4}function D0(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||cS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function L0(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Vs));else if(u!==4&&(u===27&&cr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(L0(i,s,o),i=i.sibling;i!==null;)L0(i,s,o),i=i.sibling}function zp(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(zp(i,s,o),i=i.sibling;i!==null;)zp(i,s,o),i=i.sibling}function uS(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);ui(s,u,o),s[ri]=i,s[Bi]=o}catch(b){Zt(i,i.return,b)}}var Zs=!1,je=!1,k0=!1,hS=typeof WeakSet=="function"?WeakSet:Set,Je=null;function bL(i,s){if(i=i.containerInfo,J0=lg,i=wx(i),Ty(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var v=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break t}var T=0,k=-1,B=-1,W=0,tt=0,nt=i,$=null;e:for(;;){for(var Q;nt!==o||v!==0&&nt.nodeType!==3||(k=T+v),nt!==b||u!==0&&nt.nodeType!==3||(B=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)$=nt,nt=Q;for(;;){if(nt===i)break e;if($===o&&++W===v&&(k=T),$===b&&++tt===u&&(B=T),(Q=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=Q}o=k===-1||B===-1?null:{start:k,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(tv={focusedElem:i,selectionRange:o},lg=!1,Je=s;Je!==null;)if(s=Je,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Je=i;else for(;Je!==null;){switch(s=Je,b=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)v=i[o],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,o=s,v=b.memoizedProps,b=b.memoizedState,u=o.stateNode;try{var gt=vo(o.type,v);i=u.getSnapshotBeforeUpdate(gt,b),u.__reactInternalSnapshotBeforeUpdate=i}catch(wt){Zt(o,o.return,wt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)nv(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":nv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Je=i;break}Je=s.return}}function dS(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ta(i,o),u&4&&Eh(5,o);break;case 1:if(ta(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var v=vo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}u&64&&rS(o),u&512&&Ch(o,o.return);break;case 3:if(ta(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Kx(i,s)}catch(T){Zt(o,o.return,T)}}break;case 27:s===null&&u&4&&uS(o);case 26:case 5:ta(i,o),s===null&&u&4&&lS(o),u&512&&Ch(o,o.return);break;case 12:ta(i,o);break;case 31:ta(i,o),u&4&&gS(i,o);break;case 13:ta(i,o),u&4&&mS(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=ML.bind(null,o),WL(i,o))));break;case 22:if(u=o.memoizedState!==null||Zs,!u){s=s!==null&&s.memoizedState!==null||je,v=Zs;var b=je;Zs=u,(je=s)&&!b?ea(i,o,(o.subtreeFlags&8772)!==0):ta(i,o),Zs=v,je=b}break;case 30:break;default:ta(i,o)}}function fS(i){var s=i.alternate;s!==null&&(i.alternate=null,fS(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ly(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var me=null,zi=!1;function Js(i,s,o){for(o=o.child;o!==null;)pS(i,s,o),o=o.sibling}function pS(i,s,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Qu,o)}catch{}switch(o.tag){case 26:je||ps(o,s),Js(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||ps(o,s);var u=me,v=zi;cr(o.type)&&(me=o.stateNode,zi=!1),Js(i,s,o),Fh(o.stateNode),me=u,zi=v;break;case 5:je||ps(o,s);case 6:if(u=me,v=zi,me=null,Js(i,s,o),me=u,zi=v,me!==null)if(zi)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(b){Zt(o,s,b)}else try{me.removeChild(o.stateNode)}catch(b){Zt(o,s,b)}break;case 18:me!==null&&(zi?(i=me,r1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),wc(i)):r1(me,o.stateNode));break;case 4:u=me,v=zi,me=o.stateNode.containerInfo,zi=!0,Js(i,s,o),me=u,zi=v;break;case 0:case 11:case 14:case 15:ir(2,o,s),je||ir(4,o,s),Js(i,s,o);break;case 1:je||(ps(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&oS(o,s,u)),Js(i,s,o);break;case 21:Js(i,s,o);break;case 22:je=(u=je)||o.memoizedState!==null,Js(i,s,o),je=u;break;default:Js(i,s,o)}}function gS(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{wc(i)}catch(o){Zt(s,s.return,o)}}}function mS(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wc(i)}catch(o){Zt(s,s.return,o)}}function AL(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new hS),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new hS),s;default:throw Error(n(435,i.tag))}}function Vp(i,s){var o=AL(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var v=RL.bind(null,i,u);u.then(v,v)}})}function Vi(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var v=o[u],b=i,T=s,k=T;t:for(;k!==null;){switch(k.tag){case 27:if(cr(k.type)){me=k.stateNode,zi=!1;break t}break;case 5:me=k.stateNode,zi=!1;break t;case 3:case 4:me=k.stateNode.containerInfo,zi=!0;break t}k=k.return}if(me===null)throw Error(n(160));pS(b,T,v),me=null,zi=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)yS(s,i),s=s.sibling}var qn=null;function yS(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vi(s,i),Ui(i),u&4&&(ir(3,i,i.return),Eh(3,i),ir(5,i,i.return));break;case 1:Vi(s,i),Ui(i),u&512&&(je||o===null||ps(o,o.return)),u&64&&Zs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var v=qn;if(Vi(s,i),Ui(i),u&512&&(je||o===null||ps(o,o.return)),u&4){var b=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,v=v.ownerDocument||v;e:switch(u){case"title":b=v.getElementsByTagName("title")[0],(!b||b[th]||b[ri]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(u),v.head.insertBefore(b,v.querySelector("head > title"))),ui(b,u,o),b[ri]=i,Ze(b),u=b;break t;case"link":var T=y1("link","href",v).get(u+(o.href||""));if(T){for(var k=0;k<T.length;k++)if(b=T[k],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(k,1);break e}}b=v.createElement(u),ui(b,u,o),v.head.appendChild(b);break;case"meta":if(T=y1("meta","content",v).get(u+(o.content||""))){for(k=0;k<T.length;k++)if(b=T[k],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(k,1);break e}}b=v.createElement(u),ui(b,u,o),v.head.appendChild(b);break;default:throw Error(n(468,u))}b[ri]=i,Ze(b),u=b}i.stateNode=u}else v1(v,i.type,i.stateNode);else i.stateNode=m1(v,u,i.memoizedProps);else b!==u?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,u===null?v1(v,i.type,i.stateNode):m1(v,u,i.memoizedProps)):u===null&&i.stateNode!==null&&R0(i,i.memoizedProps,o.memoizedProps)}break;case 27:Vi(s,i),Ui(i),u&512&&(je||o===null||ps(o,o.return)),o!==null&&u&4&&R0(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Vi(s,i),Ui(i),u&512&&(je||o===null||ps(o,o.return)),i.flags&32){v=i.stateNode;try{Xl(v,"")}catch(gt){Zt(i,i.return,gt)}}u&4&&i.stateNode!=null&&(v=i.memoizedProps,R0(i,v,o!==null?o.memoizedProps:v)),u&1024&&(k0=!0);break;case 6:if(Vi(s,i),Ui(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(gt){Zt(i,i.return,gt)}}break;case 3:if(sg=null,v=qn,qn=ig(s.containerInfo),Vi(s,i),qn=v,Ui(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{wc(s.containerInfo)}catch(gt){Zt(i,i.return,gt)}k0&&(k0=!1,vS(i));break;case 4:u=qn,qn=ig(i.stateNode.containerInfo),Vi(s,i),Ui(i),qn=u;break;case 12:Vi(s,i),Ui(i);break;case 31:Vi(s,i),Ui(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vp(i,u)));break;case 13:Vi(s,i),Ui(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gp=Ci()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vp(i,u)));break;case 22:v=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,W=Zs,tt=je;if(Zs=W||v,je=tt||B,Vi(s,i),je=tt,Zs=W,Ui(i),u&8192)t:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(o===null||B||Zs||je||bo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(b=B.stateNode,v)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=B.stateNode;var nt=B.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;k.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(gt){Zt(B,B.return,gt)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=v?"":B.memoizedProps}catch(gt){Zt(B,B.return,gt)}}}else if(s.tag===18){if(o===null){B=s;try{var Q=B.stateNode;v?o1(Q,!0):o1(B.stateNode,!1)}catch(gt){Zt(B,B.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vp(i,o))));break;case 19:Vi(s,i),Ui(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vp(i,u)));break;case 30:break;case 21:break;default:Vi(s,i),Ui(i)}}function Ui(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(cS(u)){o=u;break}u=u.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var v=o.stateNode,b=D0(i);zp(i,b,v);break;case 5:var T=o.stateNode;o.flags&32&&(Xl(T,""),o.flags&=-33);var k=D0(i);zp(i,k,T);break;case 3:case 4:var B=o.stateNode.containerInfo,W=D0(i);L0(i,W,B);break;default:throw Error(n(161))}}catch(tt){Zt(i,i.return,tt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function vS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;vS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ta(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dS(i,s.alternate,s),s=s.sibling}function bo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ir(4,s,s.return),bo(s);break;case 1:ps(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&oS(s,s.return,o),bo(s);break;case 27:Fh(s.stateNode);case 26:case 5:ps(s,s.return),bo(s);break;case 22:s.memoizedState===null&&bo(s);break;case 30:bo(s);break;default:bo(s)}i=i.sibling}}function ea(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,v=i,b=s,T=b.flags;switch(b.tag){case 0:case 11:case 15:ea(v,b,o),Eh(4,b);break;case 1:if(ea(v,b,o),u=b,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(W){Zt(u,u.return,W)}if(u=b,v=u.updateQueue,v!==null){var k=u.stateNode;try{var B=v.shared.hiddenCallbacks;if(B!==null)for(v.shared.hiddenCallbacks=null,v=0;v<B.length;v++)$x(B[v],k)}catch(W){Zt(u,u.return,W)}}o&&T&64&&rS(b),Ch(b,b.return);break;case 27:uS(b);case 26:case 5:ea(v,b,o),o&&u===null&&T&4&&lS(b),Ch(b,b.return);break;case 12:ea(v,b,o);break;case 31:ea(v,b,o),o&&T&4&&gS(v,b);break;case 13:ea(v,b,o),o&&T&4&&mS(v,b);break;case 22:b.memoizedState===null&&ea(v,b,o),Ch(b,b.return);break;case 30:break;default:ea(v,b,o)}s=s.sibling}}function P0(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&fh(o))}function O0(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&fh(i))}function Xn(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bS(i,s,o,u),s=s.sibling}function bS(i,s,o,u){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(i,s,o,u),v&2048&&Eh(9,s);break;case 1:Xn(i,s,o,u);break;case 3:Xn(i,s,o,u),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&fh(i)));break;case 12:if(v&2048){Xn(i,s,o,u),i=s.stateNode;try{var b=s.memoizedProps,T=b.id,k=b.onPostCommit;typeof k=="function"&&k(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Zt(s,s.return,B)}}else Xn(i,s,o,u);break;case 31:Xn(i,s,o,u);break;case 13:Xn(i,s,o,u);break;case 23:break;case 22:b=s.stateNode,T=s.alternate,s.memoizedState!==null?b._visibility&2?Xn(i,s,o,u):Mh(i,s):b._visibility&2?Xn(i,s,o,u):(b._visibility|=2,dc(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),v&2048&&P0(T,s);break;case 24:Xn(i,s,o,u),v&2048&&O0(s.alternate,s);break;default:Xn(i,s,o,u)}}function dc(i,s,o,u,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=i,T=s,k=o,B=u,W=T.flags;switch(T.tag){case 0:case 11:case 15:dc(b,T,k,B,v),Eh(8,T);break;case 23:break;case 22:var tt=T.stateNode;T.memoizedState!==null?tt._visibility&2?dc(b,T,k,B,v):Mh(b,T):(tt._visibility|=2,dc(b,T,k,B,v)),v&&W&2048&&P0(T.alternate,T);break;case 24:dc(b,T,k,B,v),v&&W&2048&&O0(T.alternate,T);break;default:dc(b,T,k,B,v)}s=s.sibling}}function Mh(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,v=u.flags;switch(u.tag){case 22:Mh(o,u),v&2048&&P0(u.alternate,u);break;case 24:Mh(o,u),v&2048&&O0(u.alternate,u);break;default:Mh(o,u)}s=s.sibling}}var Rh=8192;function fc(i,s,o){if(i.subtreeFlags&Rh)for(i=i.child;i!==null;)AS(i,s,o),i=i.sibling}function AS(i,s,o){switch(i.tag){case 26:fc(i,s,o),i.flags&Rh&&i.memoizedState!==null&&rk(o,qn,i.memoizedState,i.memoizedProps);break;case 5:fc(i,s,o);break;case 3:case 4:var u=qn;qn=ig(i.stateNode.containerInfo),fc(i,s,o),qn=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Rh,Rh=16777216,fc(i,s,o),Rh=u):fc(i,s,o));break;default:fc(i,s,o)}}function _S(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Dh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Je=u,wS(u,i)}_S(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xS(i),i=i.sibling}function xS(i){switch(i.tag){case 0:case 11:case 15:Dh(i),i.flags&2048&&ir(9,i,i.return);break;case 3:Dh(i);break;case 12:Dh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Up(i)):Dh(i);break;default:Dh(i)}}function Up(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Je=u,wS(u,i)}_S(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ir(8,s,s.return),Up(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Up(s));break;default:Up(s)}i=i.sibling}}function wS(i,s){for(;Je!==null;){var o=Je;switch(o.tag){case 0:case 11:case 15:ir(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fh(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Je=u;else t:for(o=i;Je!==null;){u=Je;var v=u.sibling,b=u.return;if(fS(u),u===o){Je=null;break t}if(v!==null){v.return=b,Je=v;break t}Je=b}}}var _L={getCacheForType:function(i){var s=li(Ne),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return li(Ne).controller.signal}},xL=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ce=null,jt=null,zt=0,Qt=0,on=null,nr=!1,pc=!1,N0=!1,ia=0,Ee=0,sr=0,Ao=0,F0=0,ln=0,gc=0,Lh=null,Gi=null,I0=!1,Gp=0,SS=0,qp=1/0,Xp=null,ar=null,Ge=0,rr=null,mc=null,na=0,j0=0,B0=null,TS=null,kh=0,H0=null;function cn(){return(Wt&2)!==0&&zt!==0?zt&-zt:U.T!==null?X0():z_()}function ES(){if(ln===0)if((zt&536870912)===0||Gt){var i=tp;tp<<=1,(tp&3932160)===0&&(tp=262144),ln=i}else ln=536870912;return i=an.current,i!==null&&(i.flags|=32),ln}function qi(i,s,o){(i===ce&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(yc(i,0),or(i,zt,ln,!1)),Ju(i,o),((Wt&2)===0||i!==ce)&&(i===ce&&((Wt&2)===0&&(Ao|=o),Ee===4&&or(i,zt,ln,!1)),gs(i))}function CS(i,s,o){if((Wt&6)!==0)throw Error(n(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Zu(i,s),v=u?TL(i,s):V0(i,s,!0),b=u;do{if(v===0){pc&&!u&&or(i,s,0,!1);break}else{if(o=i.current.alternate,b&&!wL(o)){v=V0(i,s,!1),b=!1;continue}if(v===2){if(b=s,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var k=i;v=Lh;var B=k.current.memoizedState.isDehydrated;if(B&&(yc(k,T).flags|=256),T=V0(k,T,!1),T!==2){if(N0&&!B){k.errorRecoveryDisabledLanes|=b,Ao|=b,v=4;break t}b=Gi,Gi=v,b!==null&&(Gi===null?Gi=b:Gi.push.apply(Gi,b))}v=T}if(b=!1,v!==2)continue}}if(v===1){yc(i,0),or(i,s,0,!0);break}t:{switch(u=i,b=v,b){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:or(u,s,ln,!nr);break t;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(v=Gp+300-Ci(),10<v)){if(or(u,s,ln,!nr),ip(u,0,!0)!==0)break t;na=s,u.timeoutHandle=s1(MS.bind(null,u,o,Gi,Xp,I0,s,ln,Ao,gc,nr,b,"Throttled",-0,0),v);break t}MS(u,o,Gi,Xp,I0,s,ln,Ao,gc,nr,b,null,-0,0)}}break}while(!0);gs(i)}function MS(i,s,o,u,v,b,T,k,B,W,tt,nt,$,Q){if(i.timeoutHandle=-1,nt=s.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vs},AS(s,b,nt);var gt=(b&62914560)===b?Gp-Ci():(b&4194048)===b?SS-Ci():0;if(gt=ok(nt,gt),gt!==null){na=b,i.cancelPendingCommit=gt(FS.bind(null,i,s,b,o,u,v,T,k,B,tt,nt,null,$,Q)),or(i,b,T,!W);return}}FS(i,s,b,o,u,v,T,k,B)}function wL(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var v=o[u],b=v.getSnapshot;v=v.value;try{if(!nn(b(),v))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function or(i,s,o,u){s&=~F0,s&=~Ao,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var v=s;0<v;){var b=31-en(v),T=1<<b;u[b]=-1,v&=~T}o!==0&&j_(i,o,s)}function Yp(){return(Wt&6)===0?(Ph(0),!1):!0}function z0(){if(jt!==null){if(Qt===0)var i=jt.return;else i=jt,Xs=uo=null,n0(i),oc=null,gh=0,i=jt;for(;i!==null;)aS(i.alternate,i),i=i.return;jt=null}}function yc(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,UL(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),na=0,z0(),ce=i,jt=o=Gs(i.current,null),zt=s,Qt=0,on=null,nr=!1,pc=Zu(i,s),N0=!1,gc=ln=F0=Ao=sr=Ee=0,Gi=Lh=null,I0=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var v=31-en(u),b=1<<v;s|=i[v],u&=~b}return ia=s,pp(),o}function RS(i,s){Mt=null,U.H=wh,s===rc||s===xp?(s=qx(),Qt=3):s===qy?(s=qx(),Qt=4):Qt=s===b0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,on=s,jt===null&&(Ee=1,Fp(i,Tn(s,i.current)))}function DS(){var i=an.current;return i===null?!0:(zt&4194048)===zt?Rn===null:(zt&62914560)===zt||(zt&536870912)!==0?i===Rn:!1}function LS(){var i=U.H;return U.H=wh,i===null?wh:i}function kS(){var i=U.A;return U.A=_L,i}function Wp(){Ee=4,nr||(zt&4194048)!==zt&&an.current!==null||(pc=!0),(sr&134217727)===0&&(Ao&134217727)===0||ce===null||or(ce,zt,ln,!1)}function V0(i,s,o){var u=Wt;Wt|=2;var v=LS(),b=kS();(ce!==i||zt!==s)&&(Xp=null,yc(i,s)),s=!1;var T=Ee;t:do try{if(Qt!==0&&jt!==null){var k=jt,B=on;switch(Qt){case 8:z0(),T=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(s=!0);var W=Qt;if(Qt=0,on=null,vc(i,k,B,W),o&&pc){T=0;break t}break;default:W=Qt,Qt=0,on=null,vc(i,k,B,W)}}SL(),T=Ee;break}catch(tt){RS(i,tt)}while(!0);return s&&i.shellSuspendCounter++,Xs=uo=null,Wt=u,U.H=v,U.A=b,jt===null&&(ce=null,zt=0,pp()),T}function SL(){for(;jt!==null;)PS(jt)}function TL(i,s){var o=Wt;Wt|=2;var u=LS(),v=kS();ce!==i||zt!==s?(Xp=null,qp=Ci()+500,yc(i,s)):pc=Zu(i,s);t:do try{if(Qt!==0&&jt!==null){s=jt;var b=on;e:switch(Qt){case 1:Qt=0,on=null,vc(i,s,b,1);break;case 2:case 9:if(Ux(b)){Qt=0,on=null,OS(s);break}s=function(){Qt!==2&&Qt!==9||ce!==i||(Qt=7),gs(i)},b.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ux(b)?(Qt=0,on=null,OS(s)):(Qt=0,on=null,vc(i,s,b,7));break;case 5:var T=null;switch(jt.tag){case 26:T=jt.memoizedState;case 5:case 27:var k=jt;if(T?b1(T):k.stateNode.complete){Qt=0,on=null;var B=k.sibling;if(B!==null)jt=B;else{var W=k.return;W!==null?(jt=W,$p(W)):jt=null}break e}}Qt=0,on=null,vc(i,s,b,5);break;case 6:Qt=0,on=null,vc(i,s,b,6);break;case 8:z0(),Ee=6;break t;default:throw Error(n(462))}}EL();break}catch(tt){RS(i,tt)}while(!0);return Xs=uo=null,U.H=u,U.A=v,Wt=o,jt!==null?0:(ce=null,zt=0,pp(),Ee)}function EL(){for(;jt!==null&&!ey();)PS(jt)}function PS(i){var s=nS(i.alternate,i,ia);i.memoizedProps=i.pendingProps,s===null?$p(i):jt=s}function OS(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Qw(o,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=Qw(o,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:n0(s);default:aS(o,s),s=jt=kx(s,ia),s=nS(o,s,ia)}i.memoizedProps=i.pendingProps,s===null?$p(i):jt=s}function vc(i,s,o,u){Xs=uo=null,n0(s),oc=null,gh=0;var v=s.return;try{if(pL(i,v,s,o,zt)){Ee=1,Fp(i,Tn(o,i.current)),jt=null;return}}catch(b){if(v!==null)throw jt=v,b;Ee=1,Fp(i,Tn(o,i.current)),jt=null;return}s.flags&32768?(Gt||u===1?i=!0:pc||(zt&536870912)!==0?i=!1:(nr=i=!0,(u===2||u===9||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),NS(s,i)):$p(s)}function $p(i){var s=i;do{if((s.flags&32768)!==0){NS(s,nr);return}i=s.return;var o=yL(s.alternate,s,ia);if(o!==null){jt=o;return}if(s=s.sibling,s!==null){jt=s;return}jt=s=i}while(s!==null);Ee===0&&(Ee=5)}function NS(i,s){do{var o=vL(i.alternate,i);if(o!==null){o.flags&=32767,jt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){jt=i;return}jt=i=o}while(i!==null);Ee=6,jt=null}function FS(i,s,o,u,v,b,T,k,B){i.cancelPendingCommit=null;do Kp();while(Ge!==0);if((Wt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(b=s.lanes|s.childLanes,b|=Dy,aD(i,o,b,T,k,B),i===ce&&(jt=ce=null,zt=0),mc=s,rr=i,na=o,j0=b,B0=v,TS=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,DL(Hs,function(){return zS(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,v=Y.p,Y.p=2,T=Wt,Wt|=4;try{bL(i,s,o)}finally{Wt=T,Y.p=v,U.T=u}}Ge=1,IS(),jS(),BS()}}function IS(){if(Ge===1){Ge=0;var i=rr,s=mc,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=Y.p;Y.p=2;var v=Wt;Wt|=4;try{yS(s,i);var b=tv,T=wx(i.containerInfo),k=b.focusedElem,B=b.selectionRange;if(T!==k&&k&&k.ownerDocument&&xx(k.ownerDocument.documentElement,k)){if(B!==null&&Ty(k)){var W=B.start,tt=B.end;if(tt===void 0&&(tt=W),"selectionStart"in k)k.selectionStart=W,k.selectionEnd=Math.min(tt,k.value.length);else{var nt=k.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var Q=$.getSelection(),gt=k.textContent.length,wt=Math.min(B.start,gt),re=B.end===void 0?wt:Math.min(B.end,gt);!Q.extend&&wt>re&&(T=re,re=wt,wt=T);var V=_x(k,wt),z=_x(k,re);if(V&&z&&(Q.rangeCount!==1||Q.anchorNode!==V.node||Q.anchorOffset!==V.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var X=nt.createRange();X.setStart(V.node,V.offset),Q.removeAllRanges(),wt>re?(Q.addRange(X),Q.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),Q.addRange(X))}}}}for(nt=[],Q=k;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<nt.length;k++){var et=nt[k];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}lg=!!J0,tv=J0=null}finally{Wt=v,Y.p=u,U.T=o}}i.current=s,Ge=2}}function jS(){if(Ge===2){Ge=0;var i=rr,s=mc,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=Y.p;Y.p=2;var v=Wt;Wt|=4;try{dS(i,s.alternate,s)}finally{Wt=v,Y.p=u,U.T=o}}Ge=3}}function BS(){if(Ge===4||Ge===3){Ge=0,iy();var i=rr,s=mc,o=na,u=TS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ge=5:(Ge=0,mc=rr=null,HS(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ar=null),ry(o),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Qu,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=U.T,v=Y.p,Y.p=2,U.T=null;try{for(var b=i.onRecoverableError,T=0;T<u.length;T++){var k=u[T];b(k.value,{componentStack:k.stack})}}finally{U.T=s,Y.p=v}}(na&3)!==0&&Kp(),gs(i),v=i.pendingLanes,(o&261930)!==0&&(v&42)!==0?i===H0?kh++:(kh=0,H0=i):kh=0,Ph(0)}}function HS(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,fh(s)))}function Kp(){return IS(),jS(),BS(),zS()}function zS(){if(Ge!==5)return!1;var i=rr,s=j0;j0=0;var o=ry(na),u=U.T,v=Y.p;try{Y.p=32>o?32:o,U.T=null,o=B0,B0=null;var b=rr,T=na;if(Ge=0,mc=rr=null,na=0,(Wt&6)!==0)throw Error(n(331));var k=Wt;if(Wt|=4,xS(b.current),bS(b,b.current,T,o),Wt=k,Ph(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Qu,b)}catch{}return!0}finally{Y.p=v,U.T=u,HS(i,s)}}function VS(i,s,o){s=Tn(o,s),s=v0(i.stateNode,s,2),i=Ja(i,s,2),i!==null&&(Ju(i,2),gs(i))}function Zt(i,s,o){if(i.tag===3)VS(i,i,o);else for(;s!==null;){if(s.tag===3){VS(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ar===null||!ar.has(u))){i=Tn(o,i),o=Uw(2),u=Ja(s,o,2),u!==null&&(Gw(o,u,s,i),Ju(u,2),gs(u));break}}s=s.return}}function U0(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new xL;var v=new Set;u.set(s,v)}else v=u.get(s),v===void 0&&(v=new Set,u.set(s,v));v.has(o)||(N0=!0,v.add(o),i=CL.bind(null,i,s,o),s.then(i,i))}function CL(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ce===i&&(zt&o)===o&&(Ee===4||Ee===3&&(zt&62914560)===zt&&300>Ci()-Gp?(Wt&2)===0&&yc(i,0):F0|=o,gc===zt&&(gc=0)),gs(i)}function US(i,s){s===0&&(s=I_()),i=oo(i,s),i!==null&&(Ju(i,s),gs(i))}function ML(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),US(i,o)}function RL(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,v=i.memoizedState;v!==null&&(o=v.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),US(i,o)}function DL(i,s){return Ku(i,s)}var Qp=null,bc=null,G0=!1,Zp=!1,q0=!1,lr=0;function gs(i){i!==bc&&i.next===null&&(bc===null?Qp=bc=i:bc=bc.next=i),Zp=!0,G0||(G0=!0,kL())}function Ph(i,s){if(!q0&&Zp){q0=!0;do for(var o=!1,u=Qp;u!==null;){if(i!==0){var v=u.pendingLanes;if(v===0)var b=0;else{var T=u.suspendedLanes,k=u.pingedLanes;b=(1<<31-en(42|i)+1)-1,b&=v&~(T&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,YS(u,b))}else b=zt,b=ip(u,u===ce?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Zu(u,b)||(o=!0,YS(u,b));u=u.next}while(o);q0=!1}}function LL(){GS()}function GS(){Zp=G0=!1;var i=0;lr!==0&&VL()&&(i=lr);for(var s=Ci(),o=null,u=Qp;u!==null;){var v=u.next,b=qS(u,s);b===0?(u.next=null,o===null?Qp=v:o.next=v,v===null&&(bc=o)):(o=u,(i!==0||(b&3)!==0)&&(Zp=!0)),u=v}Ge!==0&&Ge!==5||Ph(i),lr!==0&&(lr=0)}function qS(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-en(b),k=1<<T,B=v[T];B===-1?((k&o)===0||(k&u)!==0)&&(v[T]=sD(k,s)):B<=s&&(i.expiredLanes|=k),b&=~k}if(s=ce,o=zt,o=ip(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ua(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Zu(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ua(u),ry(o)){case 2:case 8:o=Bs;break;case 32:o=Hs;break;case 268435456:o=Bl;break;default:o=Hs}return u=XS.bind(null,i),o=Ku(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ua(u),i.callbackPriority=2,i.callbackNode=null,2}function XS(i,s){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Kp()&&i.callbackNode!==o)return null;var u=zt;return u=ip(i,i===ce?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(CS(i,u,s),qS(i,Ci()),i.callbackNode!=null&&i.callbackNode===o?XS.bind(null,i):null)}function YS(i,s){if(Kp())return null;CS(i,s,!0)}function kL(){GL(function(){(Wt&6)!==0?Ku(Zf,LL):GS()})}function X0(){if(lr===0){var i=sc;i===0&&(i=Jf,Jf<<=1,(Jf&261888)===0&&(Jf=256)),lr=i}return lr}function WS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rp(""+i)}function $S(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function PL(i,s,o,u,v){if(s==="submit"&&o&&o.stateNode===v){var b=WS((v[Bi]||null).action),T=u.submitter;T&&(s=(s=T[Bi]||null)?WS(s.formAction):T.getAttribute("formAction"),s!==null&&(b=s,T=null));var k=new up("action","action",null,u,v);i.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var B=T?$S(v,T):new FormData(v);d0(o,{pending:!0,data:B,method:v.method,action:b},null,B)}}else typeof b=="function"&&(k.preventDefault(),B=T?$S(v,T):new FormData(v),d0(o,{pending:!0,data:B,method:v.method,action:b},b,B))},currentTarget:v}]})}}for(var Y0=0;Y0<Ry.length;Y0++){var W0=Ry[Y0],OL=W0.toLowerCase(),NL=W0[0].toUpperCase()+W0.slice(1);Gn(OL,"on"+NL)}Gn(Ex,"onAnimationEnd"),Gn(Cx,"onAnimationIteration"),Gn(Mx,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(QD,"onTransitionRun"),Gn(ZD,"onTransitionStart"),Gn(JD,"onTransitionCancel"),Gn(Rx,"onTransitionEnd"),Gl("onMouseEnter",["mouseout","mouseover"]),Gl("onMouseLeave",["mouseout","mouseover"]),Gl("onPointerEnter",["pointerout","pointerover"]),Gl("onPointerLeave",["pointerout","pointerover"]),no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),no("onBeforeInput",["compositionend","keypress","textInput","paste"]),no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oh));function KS(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],v=u.event;u=u.listeners;t:{var b=void 0;if(s)for(var T=u.length-1;0<=T;T--){var k=u[T],B=k.instance,W=k.currentTarget;if(k=k.listener,B!==b&&v.isPropagationStopped())break t;b=k,v.currentTarget=W;try{b(v)}catch(tt){fp(tt)}v.currentTarget=null,b=B}else for(T=0;T<u.length;T++){if(k=u[T],B=k.instance,W=k.currentTarget,k=k.listener,B!==b&&v.isPropagationStopped())break t;b=k,v.currentTarget=W;try{b(v)}catch(tt){fp(tt)}v.currentTarget=null,b=B}}}}function Bt(i,s){var o=s[oy];o===void 0&&(o=s[oy]=new Set);var u=i+"__bubble";o.has(u)||(QS(s,i,2,!1),o.add(u))}function $0(i,s,o){var u=0;s&&(u|=4),QS(o,i,u,s)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function K0(i){if(!i[Jp]){i[Jp]=!0,G_.forEach(function(o){o!=="selectionchange"&&(FL.has(o)||$0(o,!1,i),$0(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Jp]||(s[Jp]=!0,$0("selectionchange",!1,s))}}function QS(i,s,o,u){switch(E1(s)){case 2:var v=uk;break;case 8:v=hk;break;default:v=hv}o=v.bind(null,s,o,i),v=void 0,!my||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),u?v!==void 0?i.addEventListener(s,o,{capture:!0,passive:v}):i.addEventListener(s,o,!0):v!==void 0?i.addEventListener(s,o,{passive:v}):i.addEventListener(s,o,!1)}function Q0(i,s,o,u,v){var b=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var k=u.stateNode.containerInfo;if(k===v)break;if(T===4)for(T=u.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;k!==null;){if(T=zl(k),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){u=b=T;continue t}k=k.parentNode}}u=u.return}ix(function(){var W=b,tt=py(o),nt=[];t:{var $=Dx.get(i);if($!==void 0){var Q=up,gt=i;switch(i){case"keypress":if(lp(o)===0)break t;case"keydown":case"keyup":Q=RD;break;case"focusin":gt="focus",Q=Ay;break;case"focusout":gt="blur",Q=Ay;break;case"beforeblur":case"afterblur":Q=Ay;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=yD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=kD;break;case Ex:case Cx:case Mx:Q=AD;break;case Rx:Q=OD;break;case"scroll":case"scrollend":Q=gD;break;case"wheel":Q=FD;break;case"copy":case"cut":case"paste":Q=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ox;break;case"toggle":case"beforetoggle":Q=jD}var wt=(s&4)!==0,re=!wt&&(i==="scroll"||i==="scrollend"),V=wt?$!==null?$+"Capture":null:$;wt=[];for(var z=W,X;z!==null;){var et=z;if(X=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||X===null||V===null||(et=ih(z,V),et!=null&&wt.push(Nh(z,et,X))),re)break;z=z.return}0<wt.length&&($=new Q($,gt,null,o,tt),nt.push({event:$,listeners:wt}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==fy&&(gt=o.relatedTarget||o.fromElement)&&(zl(gt)||gt[Hl]))break t;if((Q||$)&&($=tt.window===tt?tt:($=tt.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(gt=o.relatedTarget||o.toElement,Q=W,gt=gt?zl(gt):null,gt!==null&&(re=l(gt),wt=gt.tag,gt!==re||wt!==5&&wt!==27&&wt!==6)&&(gt=null)):(Q=null,gt=W),Q!==gt)){if(wt=ax,et="onMouseLeave",V="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(wt=ox,et="onPointerLeave",V="onPointerEnter",z="pointer"),re=Q==null?$:eh(Q),X=gt==null?$:eh(gt),$=new wt(et,z+"leave",Q,o,tt),$.target=re,$.relatedTarget=X,et=null,zl(tt)===W&&(wt=new wt(V,z+"enter",gt,o,tt),wt.target=X,wt.relatedTarget=re,et=wt),re=et,Q&&gt)e:{for(wt=IL,V=Q,z=gt,X=0,et=V;et;et=wt(et))X++;et=0;for(var At=z;At;At=wt(At))et++;for(;0<X-et;)V=wt(V),X--;for(;0<et-X;)z=wt(z),et--;for(;X--;){if(V===z||z!==null&&V===z.alternate){wt=V;break e}V=wt(V),z=wt(z)}wt=null}else wt=null;Q!==null&&ZS(nt,$,Q,wt,!1),gt!==null&&re!==null&&ZS(nt,re,gt,wt,!0)}}t:{if($=W?eh(W):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var Xt=gx;else if(fx($))if(mx)Xt=WD;else{Xt=XD;var yt=qD}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?W&&dy(W.elementType)&&(Xt=gx):Xt=YD;if(Xt&&(Xt=Xt(i,W))){px(nt,Xt,o,tt);break t}yt&&yt(i,$,W),i==="focusout"&&W&&$.type==="number"&&W.memoizedProps.value!=null&&hy($,"number",$.value)}switch(yt=W?eh(W):window,i){case"focusin":(fx(yt)||yt.contentEditable==="true")&&(Kl=yt,Ey=W,uh=null);break;case"focusout":uh=Ey=Kl=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,Sx(nt,o,tt);break;case"selectionchange":if(KD)break;case"keydown":case"keyup":Sx(nt,o,tt)}var kt;if(xy)t:{switch(i){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else $l?hx(i,o)&&(Vt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Vt="onCompositionStart");Vt&&(lx&&o.locale!=="ko"&&($l||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&$l&&(kt=nx()):(Xa=tt,yy="value"in Xa?Xa.value:Xa.textContent,$l=!0)),yt=tg(W,Vt),0<yt.length&&(Vt=new rx(Vt,i,null,o,tt),nt.push({event:Vt,listeners:yt}),kt?Vt.data=kt:(kt=dx(o),kt!==null&&(Vt.data=kt)))),(kt=HD?zD(i,o):VD(i,o))&&(Vt=tg(W,"onBeforeInput"),0<Vt.length&&(yt=new rx("onBeforeInput","beforeinput",null,o,tt),nt.push({event:yt,listeners:Vt}),yt.data=kt)),PL(nt,i,W,o,tt)}KS(nt,s)})}function Nh(i,s,o){return{instance:i,listener:s,currentTarget:o}}function tg(i,s){for(var o=s+"Capture",u=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=ih(i,o),v!=null&&u.unshift(Nh(i,v,b)),v=ih(i,s),v!=null&&u.push(Nh(i,v,b))),i.tag===3)return u;i=i.return}return[]}function IL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ZS(i,s,o,u,v){for(var b=s._reactName,T=[];o!==null&&o!==u;){var k=o,B=k.alternate,W=k.stateNode;if(k=k.tag,B!==null&&B===u)break;k!==5&&k!==26&&k!==27||W===null||(B=W,v?(W=ih(o,b),W!=null&&T.unshift(Nh(o,W,B))):v||(W=ih(o,b),W!=null&&T.push(Nh(o,W,B)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var jL=/\r\n?/g,BL=/\u0000|\uFFFD/g;function JS(i){return(typeof i=="string"?i:""+i).replace(jL,`
`).replace(BL,"")}function t1(i,s){return s=JS(s),JS(i)===s}function ae(i,s,o,u,v,b){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Xl(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Xl(i,""+u);break;case"className":sp(i,"class",u);break;case"tabIndex":sp(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":sp(i,o,u);break;case"style":tx(i,u,b);break;case"data":if(s!=="object"){sp(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=rp(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(s!=="input"&&ae(i,s,"name",v.name,v,null),ae(i,s,"formEncType",v.formEncType,v,null),ae(i,s,"formMethod",v.formMethod,v,null),ae(i,s,"formTarget",v.formTarget,v,null)):(ae(i,s,"encType",v.encType,v,null),ae(i,s,"method",v.method,v,null),ae(i,s,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=rp(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Vs);break;case"onScroll":u!=null&&Bt("scroll",i);break;case"onScrollEnd":u!=null&&Bt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=rp(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Bt("beforetoggle",i),Bt("toggle",i),np(i,"popover",u);break;case"xlinkActuate":zs(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zs(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zs(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zs(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zs(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zs(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zs(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":np(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fD.get(o)||o,np(i,o,u))}}function Z0(i,s,o,u,v,b){switch(o){case"style":tx(i,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Xl(i,u):(typeof u=="number"||typeof u=="bigint")&&Xl(i,""+u);break;case"onScroll":u!=null&&Bt("scroll",i);break;case"onScrollEnd":u!=null&&Bt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!q_.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(v=o.endsWith("Capture"),s=o.slice(2,v?o.length-7:void 0),b=i[Bi]||null,b=b!=null?b[o]:null,typeof b=="function"&&i.removeEventListener(s,b,v),typeof u=="function")){typeof b!="function"&&b!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,v);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):np(i,o,u)}}}function ui(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",i),Bt("load",i);var u=!1,v=!1,b;for(b in o)if(o.hasOwnProperty(b)){var T=o[b];if(T!=null)switch(b){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ae(i,s,b,T,o,null)}}v&&ae(i,s,"srcSet",o.srcSet,o,null),u&&ae(i,s,"src",o.src,o,null);return;case"input":Bt("invalid",i);var k=b=T=v=null,B=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var tt=o[u];if(tt!=null)switch(u){case"name":v=tt;break;case"type":T=tt;break;case"checked":B=tt;break;case"defaultChecked":W=tt;break;case"value":b=tt;break;case"defaultValue":k=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,s));break;default:ae(i,s,u,tt,o,null)}}K_(i,b,k,B,W,T,v,!1);return;case"select":Bt("invalid",i),u=T=b=null;for(v in o)if(o.hasOwnProperty(v)&&(k=o[v],k!=null))switch(v){case"value":b=k;break;case"defaultValue":T=k;break;case"multiple":u=k;default:ae(i,s,v,k,o,null)}s=b,o=T,i.multiple=!!u,s!=null?ql(i,!!u,s,!1):o!=null&&ql(i,!!u,o,!0);return;case"textarea":Bt("invalid",i),b=v=u=null;for(T in o)if(o.hasOwnProperty(T)&&(k=o[T],k!=null))switch(T){case"value":u=k;break;case"defaultValue":v=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:ae(i,s,T,k,o,null)}Z_(i,u,v,b);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ae(i,s,B,u,o,null)}return;case"dialog":Bt("beforetoggle",i),Bt("toggle",i),Bt("cancel",i),Bt("close",i);break;case"iframe":case"object":Bt("load",i);break;case"video":case"audio":for(u=0;u<Oh.length;u++)Bt(Oh[u],i);break;case"image":Bt("error",i),Bt("load",i);break;case"details":Bt("toggle",i);break;case"embed":case"source":case"link":Bt("error",i),Bt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ae(i,s,W,u,o,null)}return;default:if(dy(s)){for(tt in o)o.hasOwnProperty(tt)&&(u=o[tt],u!==void 0&&Z0(i,s,tt,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&ae(i,s,k,u,o,null))}function HL(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,T=null,k=null,B=null,W=null,tt=null;for(Q in o){var nt=o[Q];if(o.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":B=nt;default:u.hasOwnProperty(Q)||ae(i,s,Q,null,u,nt)}}for(var $ in u){var Q=u[$];if(nt=o[$],u.hasOwnProperty($)&&(Q!=null||nt!=null))switch($){case"type":b=Q;break;case"name":v=Q;break;case"checked":W=Q;break;case"defaultChecked":tt=Q;break;case"value":T=Q;break;case"defaultValue":k=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,s));break;default:Q!==nt&&ae(i,s,$,Q,u,nt)}}uy(i,T,k,B,W,tt,b,v);return;case"select":Q=T=k=$=null;for(b in o)if(B=o[b],o.hasOwnProperty(b)&&B!=null)switch(b){case"value":break;case"multiple":Q=B;default:u.hasOwnProperty(b)||ae(i,s,b,null,u,B)}for(v in u)if(b=u[v],B=o[v],u.hasOwnProperty(v)&&(b!=null||B!=null))switch(v){case"value":$=b;break;case"defaultValue":k=b;break;case"multiple":T=b;default:b!==B&&ae(i,s,v,b,u,B)}s=k,o=T,u=Q,$!=null?ql(i,!!o,$,!1):!!u!=!!o&&(s!=null?ql(i,!!o,s,!0):ql(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(k in o)if(v=o[k],o.hasOwnProperty(k)&&v!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ae(i,s,k,null,u,v)}for(T in u)if(v=u[T],b=o[T],u.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"value":$=v;break;case"defaultValue":Q=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==b&&ae(i,s,T,v,u,b)}Q_(i,$,Q);return;case"option":for(var gt in o)if($=o[gt],o.hasOwnProperty(gt)&&$!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":i.selected=!1;break;default:ae(i,s,gt,null,u,$)}for(B in u)if($=u[B],Q=o[B],u.hasOwnProperty(B)&&$!==Q&&($!=null||Q!=null))switch(B){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ae(i,s,B,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in o)$=o[wt],o.hasOwnProperty(wt)&&$!=null&&!u.hasOwnProperty(wt)&&ae(i,s,wt,null,u,$);for(W in u)if($=u[W],Q=o[W],u.hasOwnProperty(W)&&$!==Q&&($!=null||Q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,s));break;default:ae(i,s,W,$,u,Q)}return;default:if(dy(s)){for(var re in o)$=o[re],o.hasOwnProperty(re)&&$!==void 0&&!u.hasOwnProperty(re)&&Z0(i,s,re,void 0,u,$);for(tt in u)$=u[tt],Q=o[tt],!u.hasOwnProperty(tt)||$===Q||$===void 0&&Q===void 0||Z0(i,s,tt,$,u,Q);return}}for(var V in o)$=o[V],o.hasOwnProperty(V)&&$!=null&&!u.hasOwnProperty(V)&&ae(i,s,V,null,u,$);for(nt in u)$=u[nt],Q=o[nt],!u.hasOwnProperty(nt)||$===Q||$==null&&Q==null||ae(i,s,nt,$,u,Q)}function e1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var v=o[u],b=v.transferSize,T=v.initiatorType,k=v.duration;if(b&&k&&e1(T)){for(T=0,k=v.responseEnd,u+=1;u<o.length;u++){var B=o[u],W=B.startTime;if(W>k)break;var tt=B.transferSize,nt=B.initiatorType;tt&&e1(nt)&&(B=B.responseEnd,T+=tt*(B<k?1:(k-W)/(B-W)))}if(--u,s+=8*(b+T)/(v.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var J0=null,tv=null;function eg(i){return i.nodeType===9?i:i.ownerDocument}function i1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ev(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var iv=null;function VL(){var i=window.event;return i&&i.type==="popstate"?i===iv?!1:(iv=i,!0):(iv=null,!1)}var s1=typeof setTimeout=="function"?setTimeout:void 0,UL=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,GL=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(i){return a1.resolve(null).then(i).catch(qL)}:s1;function qL(i){setTimeout(function(){throw i})}function cr(i){return i==="head"}function r1(i,s){var o=s,u=0;do{var v=o.nextSibling;if(i.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(v),wc(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Fh(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Fh(o);for(var b=o.firstChild;b;){var T=b.nextSibling,k=b.nodeName;b[th]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=T}}else o==="body"&&Fh(i.ownerDocument.body);o=v}while(o);wc(s)}function o1(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function nv(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":nv(o),ly(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function XL(i,s,o,u){for(;i.nodeType===1;){var v=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[th])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Dn(i.nextSibling),i===null)break}return null}function YL(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Dn(i.nextSibling),i===null))return null;return i}function l1(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Dn(i.nextSibling),i===null))return null;return i}function sv(i){return i.data==="$?"||i.data==="$~"}function av(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function WL(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Dn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var rv=null;function c1(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Dn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function u1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function h1(i,s,o){switch(s=eg(o),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Fh(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ly(i)}var Ln=new Map,d1=new Set;function ig(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sa=Y.d;Y.d={f:$L,r:KL,D:QL,C:ZL,L:JL,m:tk,X:ik,S:ek,M:nk};function $L(){var i=sa.f(),s=Yp();return i||s}function KL(i){var s=Vl(i);s!==null&&s.tag===5&&s.type==="form"?Rw(s):sa.r(i)}var Ac=typeof document>"u"?null:document;function f1(i,s,o){var u=Ac;if(u&&typeof s=="string"&&s){var v=wn(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof o=="string"&&(v+='[crossorigin="'+o+'"]'),d1.has(v)||(d1.add(v),i={rel:i,crossOrigin:o,href:s},u.querySelector(v)===null&&(s=u.createElement("link"),ui(s,"link",i),Ze(s),u.head.appendChild(s)))}}function QL(i){sa.D(i),f1("dns-prefetch",i,null)}function ZL(i,s){sa.C(i,s),f1("preconnect",i,s)}function JL(i,s,o){sa.L(i,s,o);var u=Ac;if(u&&i&&s){var v='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(v+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(v+='[imagesizes="'+wn(o.imageSizes)+'"]')):v+='[href="'+wn(i)+'"]';var b=v;switch(s){case"style":b=_c(i);break;case"script":b=xc(i)}Ln.has(b)||(i=d({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Ln.set(b,i),u.querySelector(v)!==null||s==="style"&&u.querySelector(Ih(b))||s==="script"&&u.querySelector(jh(b))||(s=u.createElement("link"),ui(s,"link",i),Ze(s),u.head.appendChild(s)))}}function tk(i,s){sa.m(i,s);var o=Ac;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(i)+'"]',b=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=xc(i)}if(!Ln.has(b)&&(i=d({rel:"modulepreload",href:i},s),Ln.set(b,i),o.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(jh(b)))return}u=o.createElement("link"),ui(u,"link",i),Ze(u),o.head.appendChild(u)}}}function ek(i,s,o){sa.S(i,s,o);var u=Ac;if(u&&i){var v=Ul(u).hoistableStyles,b=_c(i);s=s||"default";var T=v.get(b);if(!T){var k={loading:0,preload:null};if(T=u.querySelector(Ih(b)))k.loading=5;else{i=d({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Ln.get(b))&&ov(i,o);var B=T=u.createElement("link");Ze(B),ui(B,"link",i),B._p=new Promise(function(W,tt){B.onload=W,B.onerror=tt}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,ng(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:k},v.set(b,T)}}}function ik(i,s){sa.X(i,s);var o=Ac;if(o&&i){var u=Ul(o).hoistableScripts,v=xc(i),b=u.get(v);b||(b=o.querySelector(jh(v)),b||(i=d({src:i,async:!0},s),(s=Ln.get(v))&&lv(i,s),b=o.createElement("script"),Ze(b),ui(b,"link",i),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function nk(i,s){sa.M(i,s);var o=Ac;if(o&&i){var u=Ul(o).hoistableScripts,v=xc(i),b=u.get(v);b||(b=o.querySelector(jh(v)),b||(i=d({src:i,async:!0,type:"module"},s),(s=Ln.get(v))&&lv(i,s),b=o.createElement("script"),Ze(b),ui(b,"link",i),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(v,b))}}function p1(i,s,o,u){var v=(v=pt.current)?ig(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=_c(o.href),o=Ul(v).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=_c(o.href);var b=Ul(v).hoistableStyles,T=b.get(i);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=v.querySelector(Ih(i)))&&!b._p&&(T.instance=b,T.state.loading=5),Ln.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ln.set(i,o),b||sk(v,i,o,T.state))),s&&u===null)throw Error(n(528,""));return T}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xc(o),o=Ul(v).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function _c(i){return'href="'+wn(i)+'"'}function Ih(i){return'link[rel="stylesheet"]['+i+"]"}function g1(i){return d({},i,{"data-precedence":i.precedence,precedence:null})}function sk(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ui(s,"link",o),Ze(s),i.head.appendChild(s))}function xc(i){return'[src="'+wn(i)+'"]'}function jh(i){return"script[async]"+i}function m1(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+wn(o.href)+'"]');if(u)return s.instance=u,Ze(u),u;var v=d({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ze(u),ui(u,"style",v),ng(u,o.precedence,i),s.instance=u;case"stylesheet":v=_c(o.href);var b=i.querySelector(Ih(v));if(b)return s.state.loading|=4,s.instance=b,Ze(b),b;u=g1(o),(v=Ln.get(v))&&ov(u,v),b=(i.ownerDocument||i).createElement("link"),Ze(b);var T=b;return T._p=new Promise(function(k,B){T.onload=k,T.onerror=B}),ui(b,"link",u),s.state.loading|=4,ng(b,o.precedence,i),s.instance=b;case"script":return b=xc(o.src),(v=i.querySelector(jh(b)))?(s.instance=v,Ze(v),v):(u=o,(v=Ln.get(b))&&(u=d({},o),lv(u,v)),i=i.ownerDocument||i,v=i.createElement("script"),Ze(v),ui(v,"link",u),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ng(u,o.precedence,i));return s.instance}function ng(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,b=v,T=0;T<u.length;T++){var k=u[T];if(k.dataset.precedence===s)b=k;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function ov(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var sg=null;function y1(i,s,o){if(sg===null){var u=new Map,v=sg=new Map;v.set(o,u)}else v=sg,u=v.get(o),u||(u=new Map,v.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),v=0;v<o.length;v++){var b=o[v];if(!(b[th]||b[ri]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(s)||"";T=i+T;var k=u.get(T);k?k.push(b):u.set(T,[b])}}return u}function v1(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function ak(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function b1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function rk(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=_c(u.href),b=s.querySelector(Ih(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ag.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=b,Ze(b);return}b=s.ownerDocument||s,u=g1(u),(v=Ln.get(v))&&ov(u,v),b=b.createElement("link"),Ze(b);var T=b;T._p=new Promise(function(k,B){T.onload=k,T.onerror=B}),ui(b,"link",u),o.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=ag.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var cv=0;function ok(i,s){return i.stylesheets&&i.count===0&&og(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&og(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+s);0<i.imgBytes&&cv===0&&(cv=62500*zL());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&og(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>cv?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(v)}}:null}function ag(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)og(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rg=null;function og(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rg=new Map,s.forEach(lk,i),rg=null,ag.call(i))}function lk(i,s){if(!(s.state.loading&4)){var o=rg.get(i);if(o)var u=o.get(null);else{o=new Map,rg.set(i,o);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var T=v[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}v=s.instance,T=v.getAttribute("data-precedence"),b=o.get(T)||u,b===u&&o.set(null,v),o.set(T,v),this.count++,u=ag.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var Bh={$$typeof:L,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function ck(i,s,o,u,v,b,T,k,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.hiddenUpdates=sy(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function A1(i,s,o,u,v,b,T,k,B,W,tt,nt){return i=new ck(i,s,o,T,B,W,tt,nt,k),s=1,b===!0&&(s|=24),b=sn(3,null,null,s),i.current=b,b.stateNode=i,s=Vy(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:u,isDehydrated:o,cache:s},Xy(b),i}function _1(i){return i?(i=Jl,i):Jl}function x1(i,s,o,u,v,b){v=_1(v),u.context===null?u.context=v:u.pendingContext=v,u=Za(s),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=Ja(i,u,s),o!==null&&(qi(o,i,s),yh(o,i,s))}function w1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function uv(i,s){w1(i,s),(i=i.alternate)&&w1(i,s)}function S1(i){if(i.tag===13||i.tag===31){var s=oo(i,67108864);s!==null&&qi(s,i,67108864),uv(i,67108864)}}function T1(i){if(i.tag===13||i.tag===31){var s=cn();s=ay(s);var o=oo(i,s);o!==null&&qi(o,i,s),uv(i,s)}}var lg=!0;function uk(i,s,o,u){var v=U.T;U.T=null;var b=Y.p;try{Y.p=2,hv(i,s,o,u)}finally{Y.p=b,U.T=v}}function hk(i,s,o,u){var v=U.T;U.T=null;var b=Y.p;try{Y.p=8,hv(i,s,o,u)}finally{Y.p=b,U.T=v}}function hv(i,s,o,u){if(lg){var v=dv(u);if(v===null)Q0(i,s,u,cg,o),C1(i,u);else if(fk(v,i,s,o,u))u.stopPropagation();else if(C1(i,u),s&4&&-1<dk.indexOf(i)){for(;v!==null;){var b=Vl(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=io(b.pendingLanes);if(T!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var B=1<<31-en(T);k.entanglements[1]|=B,T&=~B}gs(b),(Wt&6)===0&&(qp=Ci()+500,Ph(0))}}break;case 31:case 13:k=oo(b,2),k!==null&&qi(k,b,2),Yp(),uv(b,2)}if(b=dv(u),b===null&&Q0(i,s,u,cg,o),b===v)break;v=b}v!==null&&u.stopPropagation()}else Q0(i,s,u,null,o)}}function dv(i){return i=py(i),fv(i)}var cg=null;function fv(i){if(cg=null,i=zl(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return cg=i,null}function E1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ny()){case Zf:return 2;case Bs:return 8;case Hs:case jl:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var pv=!1,ur=null,hr=null,dr=null,Hh=new Map,zh=new Map,fr=[],dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C1(i,s){switch(i){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Hh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zh.delete(s.pointerId)}}function Vh(i,s,o,u,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:b,targetContainers:[v]},s!==null&&(s=Vl(s),s!==null&&S1(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function fk(i,s,o,u,v){switch(s){case"focusin":return ur=Vh(ur,i,s,o,u,v),!0;case"dragenter":return hr=Vh(hr,i,s,o,u,v),!0;case"mouseover":return dr=Vh(dr,i,s,o,u,v),!0;case"pointerover":var b=v.pointerId;return Hh.set(b,Vh(Hh.get(b)||null,i,s,o,u,v)),!0;case"gotpointercapture":return b=v.pointerId,zh.set(b,Vh(zh.get(b)||null,i,s,o,u,v)),!0}return!1}function M1(i){var s=zl(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,V_(i.priority,function(){T1(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,V_(i.priority,function(){T1(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ug(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=dv(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);fy=u,o.target.dispatchEvent(u),fy=null}else return s=Vl(o),s!==null&&S1(s),i.blockedOn=o,!1;s.shift()}return!0}function R1(i,s,o){ug(i)&&o.delete(s)}function pk(){pv=!1,ur!==null&&ug(ur)&&(ur=null),hr!==null&&ug(hr)&&(hr=null),dr!==null&&ug(dr)&&(dr=null),Hh.forEach(R1),zh.forEach(R1)}function hg(i,s){i.blockedOn===s&&(i.blockedOn=null,pv||(pv=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,pk)))}var dg=null;function D1(i){dg!==i&&(dg=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dg===i&&(dg=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],v=i[s+2];if(typeof u!="function"){if(fv(u||o)===null)continue;break}var b=Vl(o);b!==null&&(i.splice(s,3),s-=3,d0(b,{pending:!0,data:v,method:o.method,action:u},u,v))}}))}function wc(i){function s(B){return hg(B,i)}ur!==null&&hg(ur,i),hr!==null&&hg(hr,i),dr!==null&&hg(dr,i),Hh.forEach(s),zh.forEach(s);for(var o=0;o<fr.length;o++){var u=fr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fr.length&&(o=fr[0],o.blockedOn===null);)M1(o),o.blockedOn===null&&fr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var v=o[u],b=o[u+1],T=v[Bi]||null;if(typeof b=="function")T||D1(o);else if(T){var k=null;if(b&&b.hasAttribute("formAction")){if(v=b,T=b[Bi]||null)k=T.formAction;else if(fv(v)!==null)continue}else k=T.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),D1(o)}}}function L1(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function gv(i){this._internalRoot=i}fg.prototype.render=gv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var o=s.current,u=cn();x1(o,u,i,s,null,null)},fg.prototype.unmount=gv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;x1(i.current,2,null,i,null,null),Yp(),s[Hl]=null}};function fg(i){this._internalRoot=i}fg.prototype.unstable_scheduleHydration=function(i){if(i){var s=z_();i={blockedOn:null,target:i,priority:s};for(var o=0;o<fr.length&&s!==0&&s<fr[o].priority;o++);fr.splice(o,0,i),o===0&&M1(i)}};var k1=t.version;if(k1!=="19.2.4")throw Error(n(527,k1,"19.2.4"));Y.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var gk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pg.isDisabled&&pg.supportsFiber)try{Qu=pg.inject(gk),tn=pg}catch{}}return qh.createRoot=function(i,s){if(!r(i))throw Error(n(299));var o=!1,u="",v=Bw,b=Hw,T=zw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=A1(i,1,!1,null,null,o,u,null,v,b,T,L1),i[Hl]=s.current,K0(i),new gv(s)},qh.hydrateRoot=function(i,s,o){if(!r(i))throw Error(n(299));var u=!1,v="",b=Bw,T=Hw,k=zw,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),s=A1(i,1,!0,s,o??null,u,v,B,b,T,k,L1),s.context=_1(null),o=s.current,u=cn(),u=ay(u),v=Za(u),v.callback=null,Ja(o,v,u),o=u,s.current.lanes=o,Ju(s,o),gs(s),i[Hl]=s.current,K0(i),new fg(s)},qh.version="19.2.4",qh}var U1;function Ck(){if(U1)return bv.exports;U1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),bv.exports=Ek(),bv.exports}var Mk=Ck();const Rk=BA(Mk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=(...a)=>a.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=a=>{const t=Lk(a);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=G.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:l,iconNode:c,...h},f)=>G.createElement("svg",{ref:f,...kk,width:t,height:t,stroke:a,strokeWidth:n?Number(e)*24/Number(t):e,className:GE("lucide",r),...!l&&!Pk(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,y])=>G.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(a,t)=>{const e=G.forwardRef(({className:n,...r},l)=>G.createElement(Ok,{ref:l,iconNode:t,className:GE(`lucide-${Dk(G1(a))}`,`lucide-${a}`,n),...r}));return e.displayName=G1(a),e};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Fk=ie("book-open",Nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],_d=ie("bookmark",Ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qE=ie("check",jk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hk=ie("chevron-down",Bk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vk=ie("chevron-left",zk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Im=ie("chevron-right",Uk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qk=ie("clock",Gk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Yk=ie("download",Xk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],$k=ie("ellipsis-vertical",Wk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qk=ie("file-text",Kk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Jk=ie("file-up",Zk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],eP=ie("hash",tP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nP=ie("heart",iP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],aP=ie("layers",sP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],oP=ie("layout-grid",rP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],XE=ie("list",lP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uP=ie("loader-circle",cP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],dP=ie("maximize-2",hP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],pP=ie("minimize-2",fP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wv=ie("search",gP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yP=ie("share-2",mP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bP=ie("trash-2",vP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_P=ie("volume-2",AP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],wP=ie("volume-x",xP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],TP=ie("wind",SP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jm=ie("x",EP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MP=ie("zap",CP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],DP=ie("zoom-in",RP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kP=ie("zoom-out",LP),q1=a=>{let t;const e=new Set,n=(g,y)=>{const d=typeof g=="function"?g(t):g;if(!Object.is(d,t)){const m=t;t=y??(typeof d!="object"||d===null)?d:Object.assign({},t,d),e.forEach(A=>A(t,m))}},r=()=>t,h={setState:n,getState:r,getInitialState:()=>f,subscribe:g=>(e.add(g),()=>e.delete(g))},f=t=a(n,r,h);return h},PP=(a=>a?q1(a):q1),OP=a=>a;function NP(a,t=OP){const e=us.useSyncExternalStore(a.subscribe,us.useCallback(()=>t(a.getState()),[a,t]),us.useCallback(()=>t(a.getInitialState()),[a,t]));return us.useDebugValue(e),e}const X1=a=>{const t=PP(a),e=n=>NP(t,n);return Object.assign(e,t),e},FP=(a=>a?X1(a):X1),gg=(a,t)=>`lumina-${btoa(a).substring(0,16)}-${t}`,Ni=FP((a,t)=>({currentPage:1,totalPages:1,zoomLevel:100,isSoundEnabled:!0,isFullscreen:!1,viewMode:"flip",flipAnimation:"smooth",documentTitle:"Lumina Premium Showcase",pdfUrl:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/web/compressed.tracemonkey-pldi-09.pdf",nextPageTrigger:0,prevPageTrigger:0,jumpToPageTrigger:null,isSearchOpen:!1,isIndexing:!1,searchQuery:"",searchResults:[],searchIndex:[],isTOCOpen:!1,outline:[],bookmarks:[],isBookmarksOpen:!1,resumePage:null,setCurrentPage:e=>{const{pdfUrl:n}=t();a({currentPage:e}),localStorage.setItem(gg(n,"progress"),e.toString())},setTotalPages:e=>a({totalPages:e}),incrementZoom:()=>a(e=>({zoomLevel:Math.min(e.zoomLevel+25,200)})),decrementZoom:()=>a(e=>({zoomLevel:Math.max(e.zoomLevel-25,50)})),toggleSound:()=>a(e=>({isSoundEnabled:!e.isSoundEnabled})),toggleFullscreen:()=>a(e=>({isFullscreen:!e.isFullscreen})),setFullscreen:e=>a({isFullscreen:e}),toggleViewMode:()=>a(e=>({viewMode:e.viewMode==="flip"?"grid":"flip"})),setFlipAnimation:e=>a({flipAnimation:e}),setDocumentTitle:e=>a({documentTitle:e}),setPdfUrl:e=>{const n=localStorage.getItem(gg(e,"progress")),r=localStorage.getItem(gg(e,"bookmarks"));a({pdfUrl:e,currentPage:1,searchIndex:[],searchResults:[],searchQuery:"",isIndexing:!1,outline:[],isTOCOpen:!1,isSearchOpen:!1,isBookmarksOpen:!1,bookmarks:r?JSON.parse(r):[],resumePage:n?parseInt(n,10):null})},triggerNextPage:()=>a(e=>({nextPageTrigger:e.nextPageTrigger+1})),triggerPrevPage:()=>a(e=>({prevPageTrigger:e.prevPageTrigger+1})),jumpToPage:e=>a({jumpToPageTrigger:{page:e,timestamp:Date.now()}}),toggleSearch:()=>a(e=>({isSearchOpen:!e.isSearchOpen,isTOCOpen:!1,isBookmarksOpen:!1})),setSearchQuery:e=>{const{searchIndex:n}=t();if(!e.trim()){a({searchQuery:e,searchResults:[]});return}const r=n.filter(l=>l.content.toLowerCase().includes(e.toLowerCase())).map(l=>{const c=l.content.toLowerCase().indexOf(e.toLowerCase()),h=Math.max(0,c-40),f=Math.min(l.content.length,c+e.length+40);let g=l.content.substring(h,f);return h>0&&(g="..."+g),f<l.content.length&&(g=g+"..."),{pageNumber:l.pageNumber,snippet:g}});a({searchQuery:e,searchResults:r})},setSearchIndex:e=>a({searchIndex:e}),setIsIndexing:e=>a({isIndexing:e}),toggleTOC:()=>a(e=>({isTOCOpen:!e.isTOCOpen,isSearchOpen:!1,isBookmarksOpen:!1})),setOutline:e=>a({outline:e}),toggleBookmark:e=>{const{bookmarks:n,pdfUrl:r}=t(),l=n.includes(e)?n.filter(c=>c!==e):[...n,e].sort((c,h)=>c-h);a({bookmarks:l}),localStorage.setItem(gg(r,"bookmarks"),JSON.stringify(l))},toggleBookmarksSidebar:()=>a(e=>({isBookmarksOpen:!e.isBookmarksOpen,isTOCOpen:!1,isSearchOpen:!1})),clearResume:()=>a({resumePage:null}),setResumePage:e=>a({resumePage:e})})),IP=()=>{const{documentTitle:a,setPdfUrl:t,setDocumentTitle:e,toggleSearch:n,toggleTOC:r,toggleBookmarksSidebar:l,bookmarks:c,currentPage:h}=Ni(),f=G.useRef(null),[g,y]=G.useState(!1),d=x=>{var C;const S=(C=x.target.files)==null?void 0:C[0];if(S&&S.type==="application/pdf"){const E=URL.createObjectURL(S);t(E),e(S.name.replace(/\.pdf$/i,""))}},m=()=>{var x;(x=f.current)==null||x.click()},A=()=>{const x=window.location.href;navigator.clipboard.writeText(x).then(()=>{y(!0),setTimeout(()=>y(!1),2e3)})};return I.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 flex items-center justify-between px-6 z-50 glass border-b border-white/10",children:[I.jsxs("div",{className:"flex items-center space-x-4",children:[I.jsx("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center font-bold text-white text-xs shadow-lg shadow-indigo-500/20",children:"LP"}),I.jsx("h1",{className:"text-sm font-medium text-white/90 tracking-tight truncate max-w-[150px] md:max-w-md",children:a})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx("input",{type:"file",ref:f,onChange:d,accept:"application/pdf",className:"hidden"}),I.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-1.5 bg-white/5 text-white text-xs font-semibold rounded-full hover:bg-white/10 transition-all active:scale-95 border border-white/10",children:[I.jsx(Jk,{className:"w-4 h-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Open PDF"})]}),I.jsx("div",{className:"h-6 w-[1px] bg-white/10 mx-2 hidden sm:block"}),I.jsx("button",{onClick:r,className:"p-2 text-white/60 hover:text-white transition-colors rounded-full hover:bg-white/5",title:"Table of Contents",children:I.jsx(XE,{className:"w-5 h-5"})}),I.jsx("button",{onClick:n,className:"p-2 text-white/60 hover:text-white transition-colors rounded-full hover:bg-white/5",title:"Search in document",children:I.jsx(Wv,{className:"w-5 h-5"})}),I.jsxs("button",{onClick:l,className:"p-2 text-white/60 hover:text-white transition-colors rounded-full hover:bg-white/5 relative",title:"My Bookmarks",children:[I.jsx(_d,{className:"w-5 h-5"}),c.length>0&&I.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-indigo-500 rounded-full border border-black shadow-[0_0_8px_rgba(99,102,241,0.8)]"})]}),I.jsxs("button",{onClick:A,className:`p-2 transition-all rounded-full hover:bg-white/5 flex items-center gap-2 group
            ${g?"text-green-400":"text-white/60 hover:text-white"}
          `,title:"Share deep link to this page",children:[g?I.jsx(qE,{className:"w-5 h-5"}):I.jsx(yP,{className:"w-5 h-5"}),g&&I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest hidden md:inline animate-in fade-in slide-in-from-right-2",children:"Link Copied"})]}),I.jsxs("button",{className:"flex items-center space-x-2 px-4 py-1.5 bg-white text-black text-xs font-bold rounded-full hover:bg-white/90 transition-all active:scale-95 shadow-lg shadow-white/5",children:[I.jsx(Yk,{className:"w-4 h-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Download"})]}),I.jsx("button",{className:"p-2 text-white/60 hover:text-white transition-colors rounded-full hover:bg-white/5",children:I.jsx($k,{className:"w-5 h-5"})})]})]})},zA=G.createContext({});function VA(a){const t=G.useRef(null);return t.current===null&&(t.current=a()),t.current}const YE=typeof window<"u",WE=YE?G.useLayoutEffect:G.useEffect,Bm=G.createContext(null);function UA(a,t){a.indexOf(t)===-1&&a.push(t)}function GA(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const js=(a,t,e)=>e>t?t:e<a?a:e;let qA=()=>{};const ja={},$E=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function KE(a){return typeof a=="object"&&a!==null}const QE=a=>/^0[^.\s]+$/u.test(a);function XA(a){let t;return()=>(t===void 0&&(t=a()),t)}const zn=a=>a,jP=(a,t)=>e=>t(a(e)),Gf=(...a)=>a.reduce(jP),xd=(a,t,e)=>{const n=t-a;return n===0?1:(e-a)/n};class YA{constructor(){this.subscriptions=[]}add(t){return UA(this.subscriptions,t),()=>GA(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,n);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fs=a=>a*1e3,Hn=a=>a/1e3;function ZE(a,t){return t?a*(1e3/t):0}const JE=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,BP=1e-7,HP=12;function zP(a,t,e,n,r){let l,c,h=0;do c=t+(e-t)/2,l=JE(c,n,r)-a,l>0?e=c:t=c;while(Math.abs(l)>BP&&++h<HP);return c}function qf(a,t,e,n){if(a===t&&e===n)return zn;const r=l=>zP(l,0,1,a,e);return l=>l===0||l===1?l:JE(r(l),t,n)}const tC=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,eC=a=>t=>1-a(1-t),iC=qf(.33,1.53,.69,.99),WA=eC(iC),nC=tC(WA),sC=a=>(a*=2)<1?.5*WA(a):.5*(2-Math.pow(2,-10*(a-1))),$A=a=>1-Math.sin(Math.acos(a)),aC=eC($A),rC=tC($A),VP=qf(.42,0,1,1),UP=qf(0,0,.58,1),oC=qf(.42,0,.58,1),GP=a=>Array.isArray(a)&&typeof a[0]!="number",lC=a=>Array.isArray(a)&&typeof a[0]=="number",qP={linear:zn,easeIn:VP,easeInOut:oC,easeOut:UP,circIn:$A,circInOut:rC,circOut:aC,backIn:WA,backInOut:nC,backOut:iC,anticipate:sC},XP=a=>typeof a=="string",Y1=a=>{if(lC(a)){qA(a.length===4);const[t,e,n,r]=a;return qf(t,e,n,r)}else if(XP(a))return qP[a];return a},mg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YP(a,t){let e=new Set,n=new Set,r=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(g.schedule(y),a()),y(h)}const g={schedule:(y,d=!1,m=!1)=>{const x=m&&r?e:n;return d&&c.add(y),x.has(y)||x.add(y),y},cancel:y=>{n.delete(y),c.delete(y)},process:y=>{if(h=y,r){l=!0;return}r=!0,[e,n]=[n,e],e.forEach(f),e.clear(),r=!1,l&&(l=!1,g.process(y))}};return g}const WP=40;function cC(a,t){let e=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=mg.reduce((L,_)=>(L[_]=YP(l),L),{}),{setup:h,read:f,resolveKeyframes:g,preUpdate:y,update:d,preRender:m,render:A,postRender:x}=c,S=()=>{const L=ja.useManualTiming?r.timestamp:performance.now();e=!1,ja.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(L-r.timestamp,WP),1)),r.timestamp=L,r.isProcessing=!0,h.process(r),f.process(r),g.process(r),y.process(r),d.process(r),m.process(r),A.process(r),x.process(r),r.isProcessing=!1,e&&t&&(n=!1,a(S))},C=()=>{e=!0,n=!0,r.isProcessing||a(S)};return{schedule:mg.reduce((L,_)=>{const w=c[_];return L[_]=(D,N=!1,F=!1)=>(e||C(),w.schedule(D,N,F)),L},{}),cancel:L=>{for(let _=0;_<mg.length;_++)c[mg[_]].cancel(L)},state:r,steps:c}}const{schedule:de,cancel:Wr,state:gi,steps:wv}=cC(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Eg;function $P(){Eg=void 0}const Pi={now:()=>(Eg===void 0&&Pi.set(gi.isProcessing||ja.useManualTiming?gi.timestamp:performance.now()),Eg),set:a=>{Eg=a,queueMicrotask($P)}},uC=a=>t=>typeof t=="string"&&t.startsWith(a),hC=uC("--"),KP=uC("var(--"),KA=a=>KP(a)?QP.test(a.split("/*")[0].trim()):!1,QP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function W1(a){return typeof a!="string"?!1:a.split("/*")[0].includes("var(--")}const Xu={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},wd={...Xu,transform:a=>js(0,1,a)},yg={...Xu,default:1},pd=a=>Math.round(a*1e5)/1e5,QA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZP(a){return a==null}const JP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ZA=(a,t)=>e=>!!(typeof e=="string"&&JP.test(e)&&e.startsWith(a)||t&&!ZP(e)&&Object.prototype.hasOwnProperty.call(e,t)),dC=(a,t,e)=>n=>{if(typeof n!="string")return n;const[r,l,c,h]=n.match(QA);return{[a]:parseFloat(r),[t]:parseFloat(l),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},tO=a=>js(0,255,a),Sv={...Xu,transform:a=>Math.round(tO(a))},Do={test:ZA("rgb","red"),parse:dC("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:n=1})=>"rgba("+Sv.transform(a)+", "+Sv.transform(t)+", "+Sv.transform(e)+", "+pd(wd.transform(n))+")"};function eO(a){let t="",e="",n="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),n=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),n=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const $v={test:ZA("#"),parse:eO,transform:Do.transform},Xf=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),gr=Xf("deg"),Is=Xf("%"),mt=Xf("px"),iO=Xf("vh"),nO=Xf("vw"),$1={...Is,parse:a=>Is.parse(a)/100,transform:a=>Is.transform(a*100)},Oc={test:ZA("hsl","hue"),parse:dC("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(a)+", "+Is.transform(pd(t))+", "+Is.transform(pd(e))+", "+pd(wd.transform(n))+")"},ze={test:a=>Do.test(a)||$v.test(a)||Oc.test(a),parse:a=>Do.test(a)?Do.parse(a):Oc.test(a)?Oc.parse(a):$v.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Do.transform(a):Oc.transform(a),getAnimatableNone:a=>{const t=ze.parse(a);return t.alpha=0,ze.transform(t)}},sO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aO(a){var t,e;return isNaN(a)&&typeof a=="string"&&(((t=a.match(QA))==null?void 0:t.length)||0)+(((e=a.match(sO))==null?void 0:e.length)||0)>0}const fC="number",pC="color",rO="var",oO="var(",K1="${}",lO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sd(a){const t=a.toString(),e=[],n={color:[],number:[],var:[]},r=[];let l=0;const h=t.replace(lO,f=>(ze.test(f)?(n.color.push(l),r.push(pC),e.push(ze.parse(f))):f.startsWith(oO)?(n.var.push(l),r.push(rO),e.push(f)):(n.number.push(l),r.push(fC),e.push(parseFloat(f))),++l,K1)).split(K1);return{values:e,split:h,indexes:n,types:r}}function gC(a){return Sd(a).values}function mC(a){const{split:t,types:e}=Sd(a),n=t.length;return r=>{let l="";for(let c=0;c<n;c++)if(l+=t[c],r[c]!==void 0){const h=e[c];h===fC?l+=pd(r[c]):h===pC?l+=ze.transform(r[c]):l+=r[c]}return l}}const cO=a=>typeof a=="number"?0:ze.test(a)?ze.getAnimatableNone(a):a;function uO(a){const t=gC(a);return mC(a)(t.map(cO))}const $r={test:aO,parse:gC,createTransformer:mC,getAnimatableNone:uO};function Tv(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function hO({hue:a,saturation:t,lightness:e,alpha:n}){a/=360,t/=100,e/=100;let r=0,l=0,c=0;if(!t)r=l=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,f=2*e-h;r=Tv(f,h,a+1/3),l=Tv(f,h,a),c=Tv(f,h,a-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function lm(a,t){return e=>e>0?t:a}const xe=(a,t,e)=>a+(t-a)*e,Ev=(a,t,e)=>{const n=a*a,r=e*(t*t-n)+n;return r<0?0:Math.sqrt(r)},dO=[$v,Do,Oc],fO=a=>dO.find(t=>t.test(a));function Q1(a){const t=fO(a);if(!t)return!1;let e=t.parse(a);return t===Oc&&(e=hO(e)),e}const Z1=(a,t)=>{const e=Q1(a),n=Q1(t);if(!e||!n)return lm(a,t);const r={...e};return l=>(r.red=Ev(e.red,n.red,l),r.green=Ev(e.green,n.green,l),r.blue=Ev(e.blue,n.blue,l),r.alpha=xe(e.alpha,n.alpha,l),Do.transform(r))},Kv=new Set(["none","hidden"]);function pO(a,t){return Kv.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function gO(a,t){return e=>xe(a,t,e)}function JA(a){return typeof a=="number"?gO:typeof a=="string"?KA(a)?lm:ze.test(a)?Z1:vO:Array.isArray(a)?yC:typeof a=="object"?ze.test(a)?Z1:mO:lm}function yC(a,t){const e=[...a],n=e.length,r=a.map((l,c)=>JA(l)(l,t[c]));return l=>{for(let c=0;c<n;c++)e[c]=r[c](l);return e}}function mO(a,t){const e={...a,...t},n={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(n[r]=JA(a[r])(a[r],t[r]));return r=>{for(const l in n)e[l]=n[l](r);return e}}function yO(a,t){const e=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],c=a.indexes[l][n[l]],h=a.values[c]??0;e[r]=h,n[l]++}return e}const vO=(a,t)=>{const e=$r.createTransformer(t),n=Sd(a),r=Sd(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Kv.has(a)&&!r.values.length||Kv.has(t)&&!n.values.length?pO(a,t):Gf(yC(yO(n,r),r.values),e):lm(a,t)};function vC(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?xe(a,t,e):JA(a)(a,t)}const bO=a=>{const t=({timestamp:e})=>a(e);return{start:(e=!0)=>de.update(t,e),stop:()=>Wr(t),now:()=>gi.isProcessing?gi.timestamp:Pi.now()}},bC=(a,t,e=10)=>{let n="";const r=Math.max(Math.round(t/e),2);for(let l=0;l<r;l++)n+=Math.round(a(l/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},cm=2e4;function t_(a){let t=0;const e=50;let n=a.next(t);for(;!n.done&&t<cm;)t+=e,n=a.next(t);return t>=cm?1/0:t}function AO(a,t=100,e){const n=e({...a,keyframes:[0,t]}),r=Math.min(t_(n),cm);return{type:"keyframes",ease:l=>n.next(r*l).value/t,duration:Hn(r)}}const _O=5;function AC(a,t,e){const n=Math.max(t-_O,0);return ZE(e-a(n),t-n)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cv=.001;function xO({duration:a=Re.duration,bounce:t=Re.bounce,velocity:e=Re.velocity,mass:n=Re.mass}){let r,l,c=1-t;c=js(Re.minDamping,Re.maxDamping,c),a=js(Re.minDuration,Re.maxDuration,Hn(a)),c<1?(r=g=>{const y=g*c,d=y*a,m=y-e,A=Qv(g,c),x=Math.exp(-d);return Cv-m/A*x},l=g=>{const d=g*c*a,m=d*e+e,A=Math.pow(c,2)*Math.pow(g,2)*a,x=Math.exp(-d),S=Qv(Math.pow(g,2),c);return(-r(g)+Cv>0?-1:1)*((m-A)*x)/S}):(r=g=>{const y=Math.exp(-g*a),d=(g-e)*a+1;return-Cv+y*d},l=g=>{const y=Math.exp(-g*a),d=(e-g)*(a*a);return y*d});const h=5/a,f=SO(r,l,h);if(a=Fs(a),isNaN(f))return{stiffness:Re.stiffness,damping:Re.damping,duration:a};{const g=Math.pow(f,2)*n;return{stiffness:g,damping:c*2*Math.sqrt(n*g),duration:a}}}const wO=12;function SO(a,t,e){let n=e;for(let r=1;r<wO;r++)n=n-a(n)/t(n);return n}function Qv(a,t){return a*Math.sqrt(1-t*t)}const TO=["duration","bounce"],EO=["stiffness","damping","mass"];function J1(a,t){return t.some(e=>a[e]!==void 0)}function CO(a){let t={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...a};if(!J1(a,EO)&&J1(a,TO))if(a.visualDuration){const e=a.visualDuration,n=2*Math.PI/(e*1.2),r=n*n,l=2*js(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:Re.mass,stiffness:r,damping:l}}else{const e=xO(a);t={...t,...e,mass:Re.mass},t.isResolvedFromDuration=!0}return t}function um(a=Re.visualDuration,t=Re.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:n,restDelta:r}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:g,mass:y,duration:d,velocity:m,isResolvedFromDuration:A}=CO({...e,velocity:-Hn(e.velocity||0)}),x=m||0,S=g/(2*Math.sqrt(f*y)),C=c-l,E=Hn(Math.sqrt(f/y)),O=Math.abs(C)<5;n||(n=O?Re.restSpeed.granular:Re.restSpeed.default),r||(r=O?Re.restDelta.granular:Re.restDelta.default);let L;if(S<1){const w=Qv(E,S);L=D=>{const N=Math.exp(-S*E*D);return c-N*((x+S*E*C)/w*Math.sin(w*D)+C*Math.cos(w*D))}}else if(S===1)L=w=>c-Math.exp(-E*w)*(C+(x+E*C)*w);else{const w=E*Math.sqrt(S*S-1);L=D=>{const N=Math.exp(-S*E*D),F=Math.min(w*D,300);return c-N*((x+S*E*C)*Math.sinh(F)+w*C*Math.cosh(F))/w}}const _={calculatedDuration:A&&d||null,next:w=>{const D=L(w);if(A)h.done=w>=d;else{let N=w===0?x:0;S<1&&(N=w===0?Fs(x):AC(L,w,D));const F=Math.abs(N)<=n,j=Math.abs(c-D)<=r;h.done=F&&j}return h.value=h.done?c:D,h},toString:()=>{const w=Math.min(t_(_),cm),D=bC(N=>_.next(w*N).value,w,30);return w+"ms "+D},toTransition:()=>{}};return _}um.applyToOptions=a=>{const t=AO(a,100,um);return a.ease=t.ease,a.duration=Fs(t.duration),a.type="keyframes",a};function Zv({keyframes:a,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:g=.5,restSpeed:y}){const d=a[0],m={done:!1,value:d},A=F=>h!==void 0&&F<h||f!==void 0&&F>f,x=F=>h===void 0?f:f===void 0||Math.abs(h-F)<Math.abs(f-F)?h:f;let S=e*t;const C=d+S,E=c===void 0?C:c(C);E!==C&&(S=E-d);const O=F=>-S*Math.exp(-F/n),L=F=>E+O(F),_=F=>{const j=O(F),K=L(F);m.done=Math.abs(j)<=g,m.value=m.done?E:K};let w,D;const N=F=>{A(m.value)&&(w=F,D=um({keyframes:[m.value,x(m.value)],velocity:AC(L,F,m.value),damping:r,stiffness:l,restDelta:g,restSpeed:y}))};return N(0),{calculatedDuration:null,next:F=>{let j=!1;return!D&&w===void 0&&(j=!0,_(F),N(F)),w!==void 0&&F>=w?D.next(F-w):(!j&&_(F),m)}}}function MO(a,t,e){const n=[],r=e||ja.mix||vC,l=a.length-1;for(let c=0;c<l;c++){let h=r(a[c],a[c+1]);if(t){const f=Array.isArray(t)?t[c]||zn:t;h=Gf(f,h)}n.push(h)}return n}function RO(a,t,{clamp:e=!0,ease:n,mixer:r}={}){const l=a.length;if(qA(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const h=MO(t,n,r),f=h.length,g=y=>{if(c&&y<a[0])return t[0];let d=0;if(f>1)for(;d<a.length-2&&!(y<a[d+1]);d++);const m=xd(a[d],a[d+1],y);return h[d](m)};return e?y=>g(js(a[0],a[l-1],y)):g}function DO(a,t){const e=a[a.length-1];for(let n=1;n<=t;n++){const r=xd(0,t,n);a.push(xe(e,1,r))}}function LO(a){const t=[0];return DO(t,a.length-1),t}function kO(a,t){return a.map(e=>e*t)}function PO(a,t){return a.map(()=>t||oC).splice(0,a.length-1)}function gd({duration:a=300,keyframes:t,times:e,ease:n="easeInOut"}){const r=GP(n)?n.map(Y1):Y1(n),l={done:!1,value:t[0]},c=kO(e&&e.length===t.length?e:LO(t),a),h=RO(c,t,{ease:Array.isArray(r)?r:PO(t,r)});return{calculatedDuration:a,next:f=>(l.value=h(f),l.done=f>=a,l)}}const OO=a=>a!==null;function e_(a,{repeat:t,repeatType:e="loop"},n,r=1){const l=a.filter(OO),h=r<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||n===void 0?l[h]:n}const NO={decay:Zv,inertia:Zv,tween:gd,keyframes:gd,spring:um};function _C(a){typeof a.type=="string"&&(a.type=NO[a.type])}class i_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const FO=a=>a/100;class n_ extends i_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:e}=this.options;e&&e.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_C(t);const{type:e=gd,repeat:n=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const f=e||gd;f!==gd&&typeof h[0]!="number"&&(this.mixKeyframes=Gf(FO,vC(h[0],h[1])),h=[0,100]);const g=f({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...h].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=t_(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return n.next(0);const{delay:g=0,keyframes:y,repeat:d,repeatType:m,repeatDelay:A,type:x,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const E=this.currentTime-g*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let L=this.currentTime,_=n;if(d){const F=Math.min(this.currentTime,r)/h;let j=Math.floor(F),K=F%1;!K&&F>=1&&(K=1),K===1&&j--,j=Math.min(j,d+1),!!(j%2)&&(m==="reverse"?(K=1-K,A&&(K-=A/h)):m==="mirror"&&(_=c)),L=js(0,1,K)*h}const w=O?{done:!1,value:y[0]}:_.next(L);l&&(w.value=l(w.value));let{done:D}=w;!O&&f!==null&&(D=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return N&&x!==Zv&&(w.value=e_(y,this.options,C,this.speed)),S&&S(w.value),N&&this.finish(),w}then(t,e){return this.finished.then(t,e)}get duration(){return Hn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Hn(t)}get time(){return Hn(this.currentTime)}set time(t){var e;t=Fs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pi.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Hn(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:t=bO,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function IO(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const Lo=a=>a*180/Math.PI,Jv=a=>{const t=Lo(Math.atan2(a[1],a[0]));return tb(t)},jO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Jv,rotateZ:Jv,skewX:a=>Lo(Math.atan(a[1])),skewY:a=>Lo(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},tb=a=>(a=a%360,a<0&&(a+=360),a),tT=Jv,eT=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),iT=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),BO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eT,scaleY:iT,scale:a=>(eT(a)+iT(a))/2,rotateX:a=>tb(Lo(Math.atan2(a[6],a[5]))),rotateY:a=>tb(Lo(Math.atan2(-a[2],a[0]))),rotateZ:tT,rotate:tT,skewX:a=>Lo(Math.atan(a[4])),skewY:a=>Lo(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function eb(a){return a.includes("scale")?1:0}function ib(a,t){if(!a||a==="none")return eb(t);const e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(e)n=BO,r=e;else{const h=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=jO,r=h}if(!r)return eb(t);const l=n[t],c=r[1].split(",").map(zO);return typeof l=="function"?l(c):c[l]}const HO=(a,t)=>{const{transform:e="none"}=getComputedStyle(a);return ib(e,t)};function zO(a){return parseFloat(a.trim())}const Yu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wu=new Set(Yu),nT=a=>a===Xu||a===mt,VO=new Set(["x","y","z"]),UO=Yu.filter(a=>!VO.has(a));function GO(a){const t=[];return UO.forEach(e=>{const n=a.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const Yr={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>ib(t,"x"),y:(a,{transform:t})=>ib(t,"y")};Yr.translateX=Yr.x;Yr.translateY=Yr.y;const Ml=new Set;let nb=!1,sb=!1,ab=!1;function xC(){if(sb){const a=Array.from(Ml).filter(n=>n.needsMeasurement),t=new Set(a.map(n=>n.element)),e=new Map;t.forEach(n=>{const r=GO(n);r.length&&(e.set(n,r),n.render())}),a.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=e.get(n);r&&r.forEach(([l,c])=>{var h;(h=n.getValue(l))==null||h.set(c)})}),a.forEach(n=>n.measureEndState()),a.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}sb=!1,nb=!1,Ml.forEach(a=>a.complete(ab)),Ml.clear()}function wC(){Ml.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(sb=!0)})}function qO(){ab=!0,wC(),xC(),ab=!1}class s_{constructor(t,e,n,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ml.add(this),nb||(nb=!0,de.read(wC),de.resolveKeyframes(xC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(t[0]===null){const l=r==null?void 0:r.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(n&&e){const h=n.readValue(e,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),r&&l===void 0&&r.set(t[0])}IO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ml.delete(this)}cancel(){this.state==="scheduled"&&(Ml.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XO=a=>a.startsWith("--");function YO(a,t,e){XO(t)?a.style.setProperty(t,e):a.style[t]=e}const WO=XA(()=>window.ScrollTimeline!==void 0),$O={};function KO(a,t){const e=XA(a);return()=>$O[t]??e()}const SC=KO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kh=([a,t,e,n])=>`cubic-bezier(${a}, ${t}, ${e}, ${n})`,sT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kh([0,.65,.55,1]),circOut:Kh([.55,0,1,.45]),backIn:Kh([.31,.01,.66,-.59]),backOut:Kh([.33,1.53,.69,.99])};function TC(a,t){if(a)return typeof a=="function"?SC()?bC(a,t):"ease-out":lC(a)?Kh(a):Array.isArray(a)?a.map(e=>TC(e,t)||sT.easeOut):sT[a]}function QO(a,t,e,{delay:n=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},g=void 0){const y={[t]:e};f&&(y.offset=f);const d=TC(h,r);Array.isArray(d)&&(y.easing=d);const m={delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(m.pseudoElement=g),a.animate(y,m)}function EC(a){return typeof a=="function"&&"applyToOptions"in a}function ZO({type:a,...t}){return EC(a)&&SC()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class JO extends i_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,qA(typeof t.type!="string");const g=ZO(t);this.animation=QO(e,n,r,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=e_(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):YO(e,n,y),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n,r;const t=(e=this.options)==null?void 0:e.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((r=(n=this.animation).commitStyles)==null||r.call(n))}get duration(){var e,n;const t=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Hn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Hn(t)}get time(){return Hn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Fs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&WO()?(this.animation.timeline=t,zn):e(this)}}const CC={anticipate:sC,backInOut:nC,circInOut:rC};function tN(a){return a in CC}function eN(a){typeof a.ease=="string"&&tN(a.ease)&&(a.ease=CC[a.ease])}const Mv=10;class iN extends JO{constructor(t){eN(t),_C(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new n_({...c,autoplay:!1}),f=Math.max(Mv,Pi.now()-this.startTime),g=js(0,Mv,f-Mv);e.setWithVelocity(h.sample(Math.max(0,f-g)).value,h.sample(f).value,g),h.stop()}}const aT=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&($r.test(a)||a==="0")&&!a.startsWith("url("));function nN(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function sN(a,t,e,n){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],c=aT(r,t),h=aT(l,t);return!c||!h?!1:nN(a)||(e==="spring"||EC(e))&&n}function rb(a){a.duration=0,a.type="keyframes"}const aN=new Set(["opacity","clipPath","filter","transform"]),rN=XA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oN(a){var y;const{motionValue:t,name:e,repeatDelay:n,repeatType:r,damping:l,type:c}=a;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=t.owner.getProps();return rN()&&e&&aN.has(e)&&(e!=="transform"||!g)&&!f&&!n&&r!=="mirror"&&l!==0&&c!=="inertia"}const lN=40;class cN extends i_{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:g,element:y,...d}){var x;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Pi.now();const m={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:l,repeatType:c,name:f,motionValue:g,element:y,...d},A=(y==null?void 0:y.KeyframeResolver)||s_;this.keyframeResolver=new A(h,(S,C,E)=>this.onKeyframesResolved(S,C,m,!E),f,g,y),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,e,n,r){var C,E;this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:g,onUpdate:y}=n;this.resolvedAt=Pi.now(),sN(t,l,c,h)||((ja.instantAnimations||!f)&&(y==null||y(e_(t,n,e))),t[0]=t[t.length-1],rb(n),n.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>lN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},A=!g&&oN(m),x=(E=(C=m.motionValue)==null?void 0:C.owner)==null?void 0:E.current,S=A?new iN({...m,element:x}):new n_(m);S.finished.then(()=>{this.notifyFinished()}).catch(zn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),qO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function MC(a,t,e,n=0,r=1){const l=Array.from(a).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=a.size,h=(c-1)*n;return typeof e=="function"?e(l,c):r===1?l*n:h-l*n}const uN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hN(a){const t=uN.exec(a);if(!t)return[,];const[,e,n,r]=t;return[`--${e??n}`,r]}function RC(a,t,e=1){const[n,r]=hN(a);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const c=l.trim();return $E(c)?parseFloat(c):c}return KA(r)?RC(r,t,e+1):r}const dN={type:"spring",stiffness:500,damping:25,restSpeed:10},fN=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),pN={type:"keyframes",duration:.8},gN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mN=(a,{keyframes:t})=>t.length>2?pN:Wu.has(a)?a.startsWith("scale")?fN(t[1]):dN:gN,yN=a=>a!==null;function vN(a,{repeat:t,repeatType:e="loop"},n){const r=a.filter(yN),l=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[l]}function DC(a,t){if(a!=null&&a.inherit&&t){const{inherit:e,...n}=a;return{...t,...n}}return a}function a_(a,t){const e=(a==null?void 0:a[t])??(a==null?void 0:a.default)??a;return e!==a?DC(e,a):e}function bN({when:a,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:g,...y}){return!!Object.keys(y).length}const r_=(a,t,e,n={},r,l)=>c=>{const h=a_(n,a)||{},f=h.delay||n.delay||0;let{elapsed:g=0}=n;g=g-Fs(f);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-g,onUpdate:m=>{t.set(m),h.onUpdate&&h.onUpdate(m)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:a,motionValue:t,element:l?void 0:r};bN(h)||Object.assign(y,mN(a,y)),y.duration&&(y.duration=Fs(y.duration)),y.repeatDelay&&(y.repeatDelay=Fs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let d=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(rb(y),y.delay===0&&(d=!0)),(ja.instantAnimations||ja.skipAnimations||r!=null&&r.shouldSkipAnimations)&&(d=!0,rb(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,d&&!l&&t.get()!==void 0){const m=vN(y.keyframes,h);if(m!==void 0){de.update(()=>{y.onUpdate(m),y.onComplete()});return}}return h.isSync?new n_(y):new cN(y)};function rT(a){const t=[{},{}];return a==null||a.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function o_(a,t,e,n){if(typeof t=="function"){const[r,l]=rT(n);t=t(e!==void 0?e:a.custom,r,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,l]=rT(n);t=t(e!==void 0?e:a.custom,r,l)}return t}function Hc(a,t,e){const n=a.getProps();return o_(n,t,e!==void 0?e:n.custom,a)}const LC=new Set(["width","height","top","left","right","bottom",...Yu]),oT=30,AN=a=>!isNaN(parseFloat(a));class _N{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var l;const r=Pi.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=AN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new YA);const n=this.events[t].add(e);return t==="change"?()=>{n(),de.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oT)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,oT);return ZE(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(a,t){return new _N(a,t)}const ob=a=>Array.isArray(a);function xN(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,Uu(e))}function wN(a){return ob(a)?a[a.length-1]||0:a}function SN(a,t){const e=Hc(a,t);let{transitionEnd:n={},transition:r={},...l}=e||{};l={...l,...n};for(const c in l){const h=wN(l[c]);xN(a,c,h)}}const Ti=a=>!!(a&&a.getVelocity);function TN(a){return!!(Ti(a)&&a.add)}function lb(a,t){const e=a.getValue("willChange");if(TN(e))return e.add(t);if(!e&&ja.WillChange){const n=new ja.WillChange("auto");a.addValue("willChange",n),n.add(t)}}function l_(a){return a.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const EN="framerAppearId",kC="data-"+l_(EN);function PC(a){return a.props[kC]}function CN({protectedKeys:a,needsAnimating:t},e){const n=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function OC(a,t,{delay:e=0,transitionOverride:n,type:r}={}){let{transition:l,transitionEnd:c,...h}=t;const f=a.getDefaultTransition();l=l?DC(l,f):f;const g=l==null?void 0:l.reduceMotion;n&&(l=n);const y=[],d=r&&a.animationState&&a.animationState.getState()[r];for(const m in h){const A=a.getValue(m,a.latestValues[m]??null),x=h[m];if(x===void 0||d&&CN(d,m))continue;const S={delay:e,...a_(l||{},m)},C=A.get();if(C!==void 0&&!A.isAnimating&&!Array.isArray(x)&&x===C&&!S.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const _=PC(a);if(_){const w=window.MotionHandoffAnimation(_,m,de);w!==null&&(S.startTime=w,E=!0)}}lb(a,m);const O=g??a.shouldReduceMotion;A.start(r_(m,A,x,O&&LC.has(m)?{type:!1}:S,a,E));const L=A.animation;L&&y.push(L)}if(c){const m=()=>de.update(()=>{c&&SN(a,c)});y.length?Promise.all(y).then(m):m()}return y}function cb(a,t,e={}){var f;const n=Hc(a,t,e.type==="exit"?(f=a.presenceContext)==null?void 0:f.custom:void 0);let{transition:r=a.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(r=e.transitionOverride);const l=n?()=>Promise.all(OC(a,n,e)):()=>Promise.resolve(),c=a.variantChildren&&a.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:d,staggerDirection:m}=r;return MN(a,t,g,y,d,m,e)}:()=>Promise.resolve(),{when:h}=r;if(h){const[g,y]=h==="beforeChildren"?[l,c]:[c,l];return g().then(()=>y())}else return Promise.all([l(),c(e.delay)])}function MN(a,t,e=0,n=0,r=0,l=1,c){const h=[];for(const f of a.variantChildren)f.notify("AnimationStart",t),h.push(cb(f,t,{...c,delay:e+(typeof n=="function"?0:n)+MC(a.variantChildren,f,n,r,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(h)}function RN(a,t,e={}){a.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(l=>cb(a,l,e));n=Promise.all(r)}else if(typeof t=="string")n=cb(a,t,e);else{const r=typeof t=="function"?Hc(a,t,e.custom):t;n=Promise.all(OC(a,r,e))}return n.then(()=>{a.notify("AnimationComplete",t)})}const DN={test:a=>a==="auto",parse:a=>a},NC=a=>t=>t.test(a),FC=[Xu,mt,Is,gr,nO,iO,DN],lT=a=>FC.find(NC(a));function LN(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||QE(a):!0}const kN=new Set(["brightness","contrast","saturate","opacity"]);function PN(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[n]=e.match(QA)||[];if(!n)return a;const r=e.replace(n,"");let l=kN.has(t)?1:0;return n!==e&&(l*=100),t+"("+l+r+")"}const ON=/\b([a-z-]*)\(.*?\)/gu,ub={...$r,getAnimatableNone:a=>{const t=a.match(ON);return t?t.map(PN).join(" "):a}},cT={...Xu,transform:Math.round},NN={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:yg,scaleX:yg,scaleY:yg,scaleZ:yg,skew:gr,skewX:gr,skewY:gr,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:wd,originX:$1,originY:$1,originZ:mt},c_={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,fontSize:mt,backgroundPositionX:mt,backgroundPositionY:mt,...NN,zIndex:cT,fillOpacity:wd,strokeOpacity:wd,numOctaves:cT},FN={...c_,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:ub,WebkitFilter:ub},IC=a=>FN[a];function jC(a,t){let e=IC(a);return e!==ub&&(e=$r),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const IN=new Set(["auto","none","0"]);function jN(a,t,e){let n=0,r;for(;n<a.length&&!r;){const l=a[n];typeof l=="string"&&!IN.has(l)&&Sd(l).values.length&&(r=a[n]),n++}if(r&&e)for(const l of t)a[l]=jC(e,r)}class BN extends s_{constructor(t,e,n,r,l){super(t,e,n,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let d=t[y];if(typeof d=="string"&&(d=d.trim(),KA(d))){const m=RC(d,e.current);m!==void 0&&(t[y]=m),y===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!LC.has(n)||t.length!==2)return;const[r,l]=t,c=lT(r),h=lT(l),f=W1(r),g=W1(l);if(f!==g&&Yr[n]){this.needsMeasurement=!0;return}if(c!==h)if(nT(c)&&nT(h))for(let y=0;y<t.length;y++){const d=t[y];typeof d=="string"&&(t[y]=parseFloat(d))}else Yr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||LN(t[r]))&&n.push(r);n.length&&jN(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var h;const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=Yr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,g])=>{t.getValue(f).set(g)}),this.resolveNoneKeyframes()}}function BC(a,t,e){if(a==null)return[];if(a instanceof EventTarget)return[a];if(typeof a=="string"){let n=document;const r=(e==null?void 0:e[a])??n.querySelectorAll(a);return r?Array.from(r):[]}return Array.from(a).filter(n=>n!=null)}const HC=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function hb(a){return KE(a)&&"offsetHeight"in a}const{schedule:u_}=cC(queueMicrotask,!1),Wn={x:!1,y:!1};function zC(){return Wn.x||Wn.y}function HN(a){return a==="x"||a==="y"?Wn[a]?null:(Wn[a]=!0,()=>{Wn[a]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function VC(a,t){const e=BC(a),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[e,r,()=>n.abort()]}function zN(a){return!(a.pointerType==="touch"||zC())}function VN(a,t,e={}){const[n,r,l]=VC(a,e);return n.forEach(c=>{let h=!1,f=!1,g;const y=()=>{c.removeEventListener("pointerleave",x)},d=C=>{g&&(g(C),g=void 0),y()},m=C=>{h=!1,window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",m),f&&(f=!1,d(C))},A=()=>{h=!0,window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",m,r)},x=C=>{if(C.pointerType!=="touch"){if(h){f=!0;return}d(C)}},S=C=>{if(!zN(C))return;f=!1;const E=t(c,C);typeof E=="function"&&(g=E,c.addEventListener("pointerleave",x,r))};c.addEventListener("pointerenter",S,r),c.addEventListener("pointerdown",A,r)}),l}const UC=(a,t)=>t?a===t?!0:UC(a,t.parentElement):!1,h_=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,UN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GN(a){return UN.has(a.tagName)||a.isContentEditable===!0}const qN=new Set(["INPUT","SELECT","TEXTAREA"]);function XN(a){return qN.has(a.tagName)||a.isContentEditable===!0}const Cg=new WeakSet;function uT(a){return t=>{t.key==="Enter"&&a(t)}}function Rv(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const YN=(a,t)=>{const e=a.currentTarget;if(!e)return;const n=uT(()=>{if(Cg.has(e))return;Rv(e,"down");const r=uT(()=>{Rv(e,"up")}),l=()=>Rv(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function hT(a){return h_(a)&&!zC()}const dT=new WeakSet;function WN(a,t,e={}){const[n,r,l]=VC(a,e),c=h=>{const f=h.currentTarget;if(!hT(h)||dT.has(h))return;Cg.add(f),e.stopPropagation&&dT.add(h);const g=t(f,h),y=(A,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Cg.has(f)&&Cg.delete(f),hT(A)&&typeof g=="function"&&g(A,{success:x})},d=A=>{y(A,f===window||f===document||e.useGlobalTarget||UC(f,A.target))},m=A=>{y(A,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",m,r)};return n.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),hb(h)&&(h.addEventListener("focus",g=>YN(g,r)),!GN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function d_(a){return KE(a)&&"ownerSVGElement"in a}const Mg=new WeakMap;let mr;const GC=(a,t,e)=>(n,r)=>r&&r[0]?r[0][a+"Size"]:d_(n)&&"getBBox"in n?n.getBBox()[t]:n[e],$N=GC("inline","width","offsetWidth"),KN=GC("block","height","offsetHeight");function QN({target:a,borderBoxSize:t}){var e;(e=Mg.get(a))==null||e.forEach(n=>{n(a,{get width(){return $N(a,t)},get height(){return KN(a,t)}})})}function ZN(a){a.forEach(QN)}function JN(){typeof ResizeObserver>"u"||(mr=new ResizeObserver(ZN))}function t3(a,t){mr||JN();const e=BC(a);return e.forEach(n=>{let r=Mg.get(n);r||(r=new Set,Mg.set(n,r)),r.add(t),mr==null||mr.observe(n)}),()=>{e.forEach(n=>{const r=Mg.get(n);r==null||r.delete(t),r!=null&&r.size||mr==null||mr.unobserve(n)})}}const Rg=new Set;let Nc;function e3(){Nc=()=>{const a={get width(){return window.innerWidth},get height(){return window.innerHeight}};Rg.forEach(t=>t(a))},window.addEventListener("resize",Nc)}function i3(a){return Rg.add(a),Nc||e3(),()=>{Rg.delete(a),!Rg.size&&typeof Nc=="function"&&(window.removeEventListener("resize",Nc),Nc=void 0)}}function fT(a,t){return typeof a=="function"?i3(a):t3(a,t)}function n3(a){return d_(a)&&a.tagName==="svg"}const s3=[...FC,ze,$r],a3=a=>s3.find(NC(a)),pT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fc=()=>({x:pT(),y:pT()}),gT=()=>({min:0,max:0}),$e=()=>({x:gT(),y:gT()}),db={current:null},qC={current:!1},r3=typeof window<"u";function o3(){if(qC.current=!0,!!r3)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>db.current=a.matches;a.addEventListener("change",t),t()}else db.current=!1}const l3=new WeakMap;function Hm(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Td(a){return typeof a=="string"||Array.isArray(a)}const f_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p_=["initial",...f_];function zm(a){return Hm(a.animate)||p_.some(t=>Td(a[t]))}function XC(a){return!!(zm(a)||a.variants)}function c3(a,t,e){for(const n in t){const r=t[n],l=e[n];if(Ti(r))a.addValue(n,r);else if(Ti(l))a.addValue(n,Uu(r,{owner:a}));else if(l!==r)if(a.hasValue(n)){const c=a.getValue(n);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(n);a.addValue(n,Uu(c!==void 0?c:r,{owner:a}))}}for(const n in e)t[n]===void 0&&a.removeValue(n);return t}const mT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hm={};function YC(a){hm=a}function u3(){return hm}class h3{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,skipAnimations:l,blockInitialAnimation:c,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=s_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Pi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,de.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=e.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=zm(e),this.isVariantNode=XC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in m){const x=m[A];g[A]!==void 0&&Ti(x)&&x.set(g[A])}}mount(t){var e,n;if(this.hasBeenMounted)for(const r in this.initialValues)(e=this.values.get(r))==null||e.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,l3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,l)=>this.bindToMotionValue(l,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(qC.current||o3(),this.shouldReduceMotion=db.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Wr(this.notifyUpdate),Wr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Wu.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&de.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hm){const e=hm[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<mT.length;n++){const r=mT[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=c3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=Uu(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&($E(n)||QE(n))?n=parseFloat(n):!a3(n)&&$r.test(e)&&(n=jC(t,e)),this.setBaseTarget(t,Ti(n)?n.get():n)),Ti(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var l;const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const c=o_(this.props,e,(l=this.presenceContext)==null?void 0:l.custom);c&&(n=c[t])}if(e&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ti(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new YA),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){u_.render(this.render)}}class WC extends h3{constructor(){super(...arguments),this.KeyframeResolver=BN}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const n=t.style;return n?n[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ti(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}function $C({top:a,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:a,max:n}}}function d3({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function f3(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),n=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function Dv(a){return a===void 0||a===1}function fb({scale:a,scaleX:t,scaleY:e}){return!Dv(a)||!Dv(t)||!Dv(e)}function wo(a){return fb(a)||KC(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function KC(a){return yT(a.x)||yT(a.y)}function yT(a){return a&&a!=="0%"}function dm(a,t,e){const n=a-e,r=t*n;return e+r}function vT(a,t,e,n,r){return r!==void 0&&(a=dm(a,r,n)),dm(a,e,n)+t}function pb(a,t=0,e=1,n,r){a.min=vT(a.min,t,e,n,r),a.max=vT(a.max,t,e,n,r)}function QC(a,{x:t,y:e}){pb(a.x,t.translate,t.scale,t.originPoint),pb(a.y,e.translate,e.scale,e.originPoint)}const bT=.999999999999,AT=1.0000000000001;function p3(a,t,e,n=!1){const r=e.length;if(!r)return;t.x=t.y=1;let l,c;for(let h=0;h<r;h++){l=e[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&jc(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,QC(a,c)),n&&wo(l.latestValues)&&jc(a,l.latestValues))}t.x<AT&&t.x>bT&&(t.x=1),t.y<AT&&t.y>bT&&(t.y=1)}function Ic(a,t){a.min=a.min+t,a.max=a.max+t}function _T(a,t,e,n,r=.5){const l=xe(a.min,a.max,r);pb(a,t,e,l,n)}function jc(a,t){_T(a.x,t.x,t.scaleX,t.scale,t.originX),_T(a.y,t.y,t.scaleY,t.scale,t.originY)}function ZC(a,t){return $C(f3(a.getBoundingClientRect(),t))}function g3(a,t,e){const n=ZC(a,e),{scroll:r}=t;return r&&(Ic(n.x,r.offset.x),Ic(n.y,r.offset.y)),n}const m3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y3=Yu.length;function v3(a,t,e){let n="",r=!0;for(let l=0;l<y3;l++){const c=Yu[l],h=a[c];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(c.startsWith("scale")?1:0);else{const g=parseFloat(h);f=c.startsWith("scale")?g===1:g===0}if(!f||e){const g=HC(h,c_[c]);if(!f){r=!1;const y=m3[c]||c;n+=`${y}(${g}) `}e&&(t[c]=g)}}return n=n.trim(),e?n=e(t,r?"":n):r&&(n="none"),n}function g_(a,t,e){const{style:n,vars:r,transformOrigin:l}=a;let c=!1,h=!1;for(const f in t){const g=t[f];if(Wu.has(f)){c=!0;continue}else if(hC(f)){r[f]=g;continue}else{const y=HC(g,c_[f]);f.startsWith("origin")?(h=!0,l[f]=y):n[f]=y}}if(t.transform||(c||e?n.transform=v3(t,a.transform,e):n.transform&&(n.transform="none")),h){const{originX:f="50%",originY:g="50%",originZ:y=0}=l;n.transformOrigin=`${f} ${g} ${y}`}}function JC(a,{style:t,vars:e},n,r){const l=a.style;let c;for(c in t)l[c]=t[c];r==null||r.applyProjectionStyles(l,n);for(c in e)l.setProperty(c,e[c])}function xT(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Xh={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(mt.test(a))a=parseFloat(a);else return a;const e=xT(a,t.target.x),n=xT(a,t.target.y);return`${e}% ${n}%`}},b3={correct:(a,{treeScale:t,projectionDelta:e})=>{const n=a,r=$r.parse(a);if(r.length>5)return n;const l=$r.createTransformer(a),c=typeof r[0]!="number"?1:0,h=e.x.scale*t.x,f=e.y.scale*t.y;r[0+c]/=h,r[1+c]/=f;const g=xe(h,f,.5);return typeof r[2+c]=="number"&&(r[2+c]/=g),typeof r[3+c]=="number"&&(r[3+c]/=g),l(r)}},gb={borderRadius:{...Xh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xh,borderTopRightRadius:Xh,borderBottomLeftRadius:Xh,borderBottomRightRadius:Xh,boxShadow:b3};function tM(a,{layout:t,layoutId:e}){return Wu.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!gb[a]||a==="opacity")}function m_(a,t,e){var c;const n=a.style,r=t==null?void 0:t.style,l={};if(!n)return l;for(const h in n)(Ti(n[h])||r&&Ti(r[h])||tM(h,a)||((c=e==null?void 0:e.getValue(h))==null?void 0:c.liveStyle)!==void 0)&&(l[h]=n[h]);return l}function A3(a){return window.getComputedStyle(a)}class _3 extends WC{constructor(){super(...arguments),this.type="html",this.renderInstance=JC}readValueFromInstance(t,e){var n;if(Wu.has(e))return(n=this.projection)!=null&&n.isProjecting?eb(e):HO(t,e);{const r=A3(t),l=(hC(e)?r.getPropertyValue(e):r[e])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ZC(t,e)}build(t,e,n){g_(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return m_(t,e,n)}}const x3={offset:"stroke-dashoffset",array:"stroke-dasharray"},w3={offset:"strokeDashoffset",array:"strokeDasharray"};function S3(a,t,e=1,n=0,r=!0){a.pathLength=1;const l=r?x3:w3;a[l.offset]=`${-n}`,a[l.array]=`${t} ${e}`}const T3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eM(a,{attrX:t,attrY:e,attrScale:n,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...h},f,g,y){if(g_(a,h,g),f){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:d,style:m}=a;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete d.transformBox);for(const A of T3)d[A]!==void 0&&(m[A]=d[A],delete d[A]);t!==void 0&&(d.x=t),e!==void 0&&(d.y=e),n!==void 0&&(d.scale=n),r!==void 0&&S3(d,r,l,c,!1)}const iM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nM=a=>typeof a=="string"&&a.toLowerCase()==="svg";function E3(a,t,e,n){JC(a,t,void 0,n);for(const r in t.attrs)a.setAttribute(iM.has(r)?r:l_(r),t.attrs[r])}function sM(a,t,e){const n=m_(a,t,e);for(const r in a)if(Ti(a[r])||Ti(t[r])){const l=Yu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=a[r]}return n}class C3 extends WC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Wu.has(e)){const n=IC(e);return n&&n.default||0}return e=iM.has(e)?e:l_(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return sM(t,e,n)}build(t,e,n){eM(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){E3(t,e,n,r)}mount(t){this.isSVGTag=nM(t.tagName),super.mount(t)}}const M3=p_.length;function aM(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?aM(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<M3;e++){const n=p_[e],r=a.props[n];(Td(r)||r===!1)&&(t[n]=r)}return t}function rM(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let n=0;n<e;n++)if(t[n]!==a[n])return!1;return!0}const R3=[...f_].reverse(),D3=f_.length;function L3(a){return t=>Promise.all(t.map(({animation:e,options:n})=>RN(a,e,n)))}function k3(a){let t=L3(a),e=wT(),n=!0;const r=f=>(g,y)=>{var m;const d=Hc(a,y,f==="exit"?(m=a.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:A,transitionEnd:x,...S}=d;g={...g,...S,...x}}return g};function l(f){t=f(a)}function c(f){const{props:g}=a,y=aM(a.parent)||{},d=[],m=new Set;let A={},x=1/0;for(let C=0;C<D3;C++){const E=R3[C],O=e[E],L=g[E]!==void 0?g[E]:y[E],_=Td(L),w=E===f?O.isActive:null;w===!1&&(x=C);let D=L===y[E]&&L!==g[E]&&_;if(D&&n&&a.manuallyAnimateOnMount&&(D=!1),O.protectedKeys={...A},!O.isActive&&w===null||!L&&!O.prevProp||Hm(L)||typeof L=="boolean")continue;const N=P3(O.prevProp,L);let F=N||E===f&&O.isActive&&!D&&_||C>x&&_,j=!1;const K=Array.isArray(L)?L:[L];let Z=K.reduce(r(E),{});w===!1&&(Z={});const{prevResolvedValues:rt={}}=O,ot={...rt,...Z},at=Y=>{F=!0,m.has(Y)&&(j=!0,m.delete(Y)),O.needsAnimating[Y]=!0;const it=a.getValue(Y);it&&(it.liveStyle=!1)};for(const Y in ot){const it=Z[Y],bt=rt[Y];if(A.hasOwnProperty(Y))continue;let xt=!1;ob(it)&&ob(bt)?xt=!rM(it,bt):xt=it!==bt,xt?it!=null?at(Y):m.add(Y):it!==void 0&&m.has(Y)?at(Y):O.protectedKeys[Y]=!0}O.prevProp=L,O.prevResolvedValues=Z,O.isActive&&(A={...A,...Z}),n&&a.blockInitialAnimation&&(F=!1);const dt=D&&N;F&&(!dt||j)&&d.push(...K.map(Y=>{const it={type:E};if(typeof Y=="string"&&n&&!dt&&a.manuallyAnimateOnMount&&a.parent){const{parent:bt}=a,xt=Hc(bt,Y);if(bt.enteringChildren&&xt){const{delayChildren:H}=xt.transition||{};it.delay=MC(bt.enteringChildren,a,H)}}return{animation:Y,options:it}}))}if(m.size){const C={};if(typeof g.initial!="boolean"){const E=Hc(a,Array.isArray(g.initial)?g.initial[0]:g.initial);E&&E.transition&&(C.transition=E.transition)}m.forEach(E=>{const O=a.getBaseTarget(E),L=a.getValue(E);L&&(L.liveStyle=!0),C[E]=O??null}),d.push({animation:C})}let S=!!d.length;return n&&(g.initial===!1||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(S=!1),n=!1,S?t(d):Promise.resolve()}function h(f,g){var d;if(e[f].isActive===g)return Promise.resolve();(d=a.variantChildren)==null||d.forEach(m=>{var A;return(A=m.animationState)==null?void 0:A.setActive(f,g)}),e[f].isActive=g;const y=c(f);for(const m in e)e[m].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=wT()}}}function P3(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!rM(t,a):!1}function _o(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wT(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}function ST(a,t){a.min=t.min,a.max=t.max}function Yn(a,t){ST(a.x,t.x),ST(a.y,t.y)}function TT(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}const oM=1e-4,O3=1-oM,N3=1+oM,lM=.01,F3=0-lM,I3=0+lM;function Oi(a){return a.max-a.min}function j3(a,t,e){return Math.abs(a-t)<=e}function ET(a,t,e,n=.5){a.origin=n,a.originPoint=xe(t.min,t.max,a.origin),a.scale=Oi(e)/Oi(t),a.translate=xe(e.min,e.max,a.origin)-a.originPoint,(a.scale>=O3&&a.scale<=N3||isNaN(a.scale))&&(a.scale=1),(a.translate>=F3&&a.translate<=I3||isNaN(a.translate))&&(a.translate=0)}function md(a,t,e,n){ET(a.x,t.x,e.x,n?n.originX:void 0),ET(a.y,t.y,e.y,n?n.originY:void 0)}function CT(a,t,e){a.min=e.min+t.min,a.max=a.min+Oi(t)}function B3(a,t,e){CT(a.x,t.x,e.x),CT(a.y,t.y,e.y)}function MT(a,t,e){a.min=t.min-e.min,a.max=a.min+Oi(t)}function fm(a,t,e){MT(a.x,t.x,e.x),MT(a.y,t.y,e.y)}function RT(a,t,e,n,r){return a-=t,a=dm(a,1/e,n),r!==void 0&&(a=dm(a,1/r,n)),a}function H3(a,t=0,e=1,n=.5,r,l=a,c=a){if(Is.test(t)&&(t=parseFloat(t),t=xe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=xe(l.min,l.max,n);a===l&&(h-=t),a.min=RT(a.min,t,e,h,r),a.max=RT(a.max,t,e,h,r)}function DT(a,t,[e,n,r],l,c){H3(a,t[e],t[n],t[r],t.scale,l,c)}const z3=["x","scaleX","originX"],V3=["y","scaleY","originY"];function LT(a,t,e,n){DT(a.x,t,z3,e?e.x:void 0,n?n.x:void 0),DT(a.y,t,V3,e?e.y:void 0,n?n.y:void 0)}function kT(a){return a.translate===0&&a.scale===1}function cM(a){return kT(a.x)&&kT(a.y)}function PT(a,t){return a.min===t.min&&a.max===t.max}function U3(a,t){return PT(a.x,t.x)&&PT(a.y,t.y)}function OT(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function uM(a,t){return OT(a.x,t.x)&&OT(a.y,t.y)}function NT(a){return Oi(a.x)/Oi(a.y)}function FT(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}function ys(a){return[a("x"),a("y")]}function G3(a,t,e){let n="";const r=a.x.translate/t.x,l=a.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((r||l||c)&&(n=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:d,rotateY:m,skewX:A,skewY:x}=e;g&&(n=`perspective(${g}px) ${n}`),y&&(n+=`rotate(${y}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `),A&&(n+=`skewX(${A}deg) `),x&&(n+=`skewY(${x}deg) `)}const h=a.x.scale*t.x,f=a.y.scale*t.y;return(h!==1||f!==1)&&(n+=`scale(${h}, ${f})`),n||"none"}const hM=["TopLeft","TopRight","BottomLeft","BottomRight"],q3=hM.length,IT=a=>typeof a=="string"?parseFloat(a):a,jT=a=>typeof a=="number"||mt.test(a);function X3(a,t,e,n,r,l){r?(a.opacity=xe(0,e.opacity??1,Y3(n)),a.opacityExit=xe(t.opacity??1,0,W3(n))):l&&(a.opacity=xe(t.opacity??1,e.opacity??1,n));for(let c=0;c<q3;c++){const h=`border${hM[c]}Radius`;let f=BT(t,h),g=BT(e,h);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||jT(f)===jT(g)?(a[h]=Math.max(xe(IT(f),IT(g),n),0),(Is.test(g)||Is.test(f))&&(a[h]+="%")):a[h]=g}(t.rotate||e.rotate)&&(a.rotate=xe(t.rotate||0,e.rotate||0,n))}function BT(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const Y3=dM(0,.5,aC),W3=dM(.5,.95,zn);function dM(a,t,e){return n=>n<a?0:n>t?1:e(xd(a,t,n))}function $3(a,t,e){const n=Ti(a)?a:Uu(a);return n.start(r_("",n,t,e)),n.animation}function Ed(a,t,e,n={passive:!0}){return a.addEventListener(t,e,n),()=>a.removeEventListener(t,e)}const K3=(a,t)=>a.depth-t.depth;class Q3{constructor(){this.children=[],this.isDirty=!1}add(t){UA(this.children,t),this.isDirty=!0}remove(t){GA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(K3),this.isDirty=!1,this.children.forEach(t)}}function Z3(a,t){const e=Pi.now(),n=({timestamp:r})=>{const l=r-e;l>=t&&(Wr(n),a(l-t))};return de.setup(n,!0),()=>Wr(n)}function Dg(a){return Ti(a)?a.get():a}class J3{constructor(){this.members=[]}add(t){UA(this.members,t),t.scheduleRender()}remove(t){if(GA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let n;for(let r=e;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const r=n.options.layoutDependency,l=t.options.layoutDependency;r!==void 0&&l!==void 0&&r===l||(t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:h}=t.options;h===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Lg={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Lv=["","X","Y","Z"],tF=1e3;let eF=0;function kv(a,t,e,n){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),n&&(n[a]=0))}function fM(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=PC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",de,!(r||l))}const{parent:n}=a;n&&!n.hasCheckedOptimisedAppear&&fM(n)}function pM({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(c={},h=t==null?void 0:t()){this.id=eF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sF),this.nodes.forEach(lF),this.nodes.forEach(cF),this.nodes.forEach(aF)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new YA),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=d_(c)&&!n3(c),this.instance=c;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),a){let y,d=0;const m=()=>this.root.updateBlockedByResize=!1;de.read(()=>{d=window.innerWidth}),a(c,()=>{const A=window.innerWidth;A!==d&&(d=A,this.root.updateBlockedByResize=!0,y&&y(),y=Z3(m,250),Lg.hasAnimatedSinceResize&&(Lg.hasAnimatedSinceResize=!1,this.nodes.forEach(VT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||pF,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=g.getProps(),E=!this.targetLayout||!uM(this.targetLayout,A),O=!d&&m;if(this.options.layoutRoot||this.resumeFrom||O||d&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...a_(x,"layout"),onPlay:S,onComplete:C};(g.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(y,O)}else d||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uF),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const d=this.path[y];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oF),this.nodes.forEach(iF),this.nodes.forEach(nF)):this.nodes.forEach(zT),this.clearAllSnapshots();const h=Pi.now();gi.delta=js(0,1e3/60,h-gi.timestamp),gi.timestamp=h,gi.isProcessing=!0,wv.update.process(gi),wv.preRender.process(gi),wv.render.process(gi),gi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rF),this.sharedNodes.forEach(hF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oi(this.snapshot.measuredBox.x)&&!Oi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!cM(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(h||wo(this.latestValues)||y)&&(r(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),gF(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return $e();const h=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(mF))){const{scroll:y}=this.root;y&&(Ic(h.x,y.offset.x),Ic(h.y,y.offset.y))}return h}removeElementScroll(c){var f;const h=$e();if(Yn(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:d,options:m}=y;y!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Yn(h,c),Ic(h.x,d.offset.x),Ic(h.y,d.offset.y))}return h}applyTransform(c,h=!1){const f=$e();Yn(f,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&jc(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),wo(y.latestValues)&&jc(f,y.latestValues)}return wo(this.latestValues)&&jc(f,this.latestValues),f}removeTransform(c){const h=$e();Yn(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!wo(g.latestValues))continue;fb(g.latestValues)&&g.updateSnapshot();const y=$e(),d=g.measurePageBox();Yn(y,d),LT(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return wo(this.latestValues)&&LT(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:d}=this.options;if(!this.layout||!(y||d))return;this.resolvedRelativeTargetAt=gi.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),QC(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fb(this.parent.latestValues)||KC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),fm(this.relativeTargetOrigin,h,f),Yn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===gi.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Yn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;p3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$e());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TT(this.prevProjectionDelta.x,this.projectionDelta.x),TT(this.prevProjectionDelta.y,this.projectionDelta.y)),md(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!FT(this.projectionDelta.x,this.prevProjectionDelta.x)||!FT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fc(),this.projectionDelta=Fc(),this.projectionDeltaWithTransform=Fc()}setAnimationOrigin(c,h=!1){const f=this.snapshot,g=f?f.latestValues:{},y={...this.latestValues},d=Fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const m=$e(),A=f?f.source:void 0,x=this.layout?this.layout.source:void 0,S=A!==x,C=this.getStack(),E=!C||C.members.length<=1,O=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(fF));this.animationProgress=0;let L;this.mixTargetDelta=_=>{const w=_/1e3;UT(d.x,c.x,w),UT(d.y,c.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fm(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dF(this.relativeTarget,this.relativeTargetOrigin,m,w),L&&U3(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=$e()),Yn(L,this.relativeTarget)),S&&(this.animationValues=y,X3(y,g,this.latestValues,w,O,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,g;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(g=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{Lg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uu(0)),this.currentAnimation=$3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:g,latestValues:y}=c;if(!(!h||!f||!g)){if(this!==c&&this.layout&&g&&gM(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||$e();const d=Oi(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+d;const m=Oi(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+m}Yn(h,f),jc(h,y),md(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new J3),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const g={};f.z&&kv("z",c,g,this.animationValues);for(let y=0;y<Lv.length;y++)kv(`rotate${Lv[y]}`,c,g,this.animationValues),kv(`skew${Lv[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Dg(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Dg(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let d=G3(this.projectionDeltaWithTransform,this.treeScale,y);f&&(d=f(y,d)),c.transform=d;const{x:m,y:A}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${A.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in gb){if(y[x]===void 0)continue;const{correct:S,applyTo:C,isCSSVariable:E}=gb[x],O=d==="none"?y[x]:S(y[x],g);if(C){const L=C.length;for(let _=0;_<L;_++)c[C[_]]=O}else E?this.options.visualElement.renderState.vars[x]=O:c[x]=O}this.options.layoutId&&(c.pointerEvents=g===this?Dg(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(HT),this.root.sharedNodes.clear()}}}function iF(a){a.updateLayout()}function nF(a){var e;const t=((e=a.resumeFrom)==null?void 0:e.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=a.layout,{animationType:l}=a.options,c=t.source!==a.layout.source;l==="size"?ys(d=>{const m=c?t.measuredBox[d]:t.layoutBox[d],A=Oi(m);m.min=n[d].min,m.max=m.min+A}):gM(l,t.layoutBox,n)&&ys(d=>{const m=c?t.measuredBox[d]:t.layoutBox[d],A=Oi(n[d]);m.max=m.min+A,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+A)});const h=Fc();md(h,n,t.layoutBox);const f=Fc();c?md(f,a.applyTransform(r,!0),t.measuredBox):md(f,n,t.layoutBox);const g=!cM(h);let y=!1;if(!a.resumeFrom){const d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:A}=d;if(m&&A){const x=$e();fm(x,t.layoutBox,m.layoutBox);const S=$e();fm(S,n,A.layoutBox),uM(x,S)||(y=!0),d.options.layoutRoot&&(a.relativeTarget=S,a.relativeTargetOrigin=x,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(a.isLead()){const{onExitComplete:n}=a.options;n&&n()}a.options.transition=void 0}function sF(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function aF(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function rF(a){a.clearSnapshot()}function HT(a){a.clearMeasurements()}function zT(a){a.isLayoutDirty=!1}function oF(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function VT(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function lF(a){a.resolveTargetDelta()}function cF(a){a.calcProjection()}function uF(a){a.resetSkewAndRotation()}function hF(a){a.removeLeadSnapshot()}function UT(a,t,e){a.translate=xe(t.translate,0,e),a.scale=xe(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function GT(a,t,e,n){a.min=xe(t.min,e.min,n),a.max=xe(t.max,e.max,n)}function dF(a,t,e,n){GT(a.x,t.x,e.x,n),GT(a.y,t.y,e.y,n)}function fF(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const pF={duration:.45,ease:[.4,0,.1,1]},qT=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),XT=qT("applewebkit/")&&!qT("chrome/")?Math.round:zn;function YT(a){a.min=XT(a.min),a.max=XT(a.max)}function gF(a){YT(a.x),YT(a.y)}function gM(a,t,e){return a==="position"||a==="preserve-aspect"&&!j3(NT(t),NT(e),.2)}function mF(a){var t;return a!==a.root&&((t=a.scroll)==null?void 0:t.wasRoot)}const yF=pM({attachResizeListener:(a,t)=>Ed(a,"resize",t),measureScroll:()=>{var a,t;return{x:document.documentElement.scrollLeft||((a=document.body)==null?void 0:a.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Pv={current:void 0},mM=pM({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Pv.current){const a=new yF({});a.mount(window),a.setOptions({layoutScroll:!0}),Pv.current=a}return Pv.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),y_=G.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function WT(a,t){if(typeof a=="function")return a(t);a!=null&&(a.current=t)}function vF(...a){return t=>{let e=!1;const n=a.map(r=>{const l=WT(r,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let r=0;r<n.length;r++){const l=n[r];typeof l=="function"?l():WT(a[r],null)}}}}function bF(...a){return G.useCallback(vF(...a),a)}class AF extends G.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=e.offsetParent,r=hb(n)&&n.offsetWidth||0,l=hb(n)&&n.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=r-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function _F({children:a,isPresent:t,anchorX:e,anchorY:n,root:r,pop:l}){var m;const c=G.useId(),h=G.useRef(null),f=G.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=G.useContext(y_),y=((m=a.props)==null?void 0:m.ref)??(a==null?void 0:a.ref),d=bF(h,y);return G.useInsertionEffect(()=>{const{width:A,height:x,top:S,left:C,right:E,bottom:O}=f.current;if(t||l===!1||!h.current||!A||!x)return;const L=e==="left"?`left: ${C}`:`right: ${E}`,_=n==="bottom"?`bottom: ${O}`:`top: ${S}`;h.current.dataset.motionPopId=c;const w=document.createElement("style");g&&(w.nonce=g);const D=r??document.head;return D.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${x}px !important;
            ${L}px !important;
            ${_}px !important;
          }
        `),()=>{D.contains(w)&&D.removeChild(w)}},[t]),I.jsx(AF,{isPresent:t,childRef:h,sizeRef:f,pop:l,children:l===!1?a:G.cloneElement(a,{ref:d})})}const xF=({children:a,initial:t,isPresent:e,onExitComplete:n,custom:r,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:f,root:g})=>{const y=VA(wF),d=G.useId();let m=!0,A=G.useMemo(()=>(m=!1,{id:d,initial:t,isPresent:e,custom:r,onExitComplete:x=>{y.set(x,!0);for(const S of y.values())if(!S)return;n&&n()},register:x=>(y.set(x,!1),()=>y.delete(x))}),[e,y,n]);return l&&m&&(A={...A}),G.useMemo(()=>{y.forEach((x,S)=>y.set(S,!1))},[e]),G.useEffect(()=>{!e&&!y.size&&n&&n()},[e]),a=I.jsx(_F,{pop:c==="popLayout",isPresent:e,anchorX:h,anchorY:f,root:g,children:a}),I.jsx(Bm.Provider,{value:A,children:a})};function wF(){return new Map}function yM(a=!0){const t=G.useContext(Bm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,l=G.useId();G.useEffect(()=>{if(a)return r(l)},[a]);const c=G.useCallback(()=>a&&n&&n(l),[l,n,a]);return!e&&n?[!1,c]:[!0]}const vg=a=>a.key||"";function $T(a){const t=[];return G.Children.forEach(a,e=>{G.isValidElement(e)&&t.push(e)}),t}const Gu=({children:a,custom:t,initial:e=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:f="top",root:g})=>{const[y,d]=yM(c),m=G.useMemo(()=>$T(a),[a]),A=c&&!y?[]:m.map(vg),x=G.useRef(!0),S=G.useRef(m),C=VA(()=>new Map),E=G.useRef(new Set),[O,L]=G.useState(m),[_,w]=G.useState(m);WE(()=>{x.current=!1,S.current=m;for(let F=0;F<_.length;F++){const j=vg(_[F]);A.includes(j)?(C.delete(j),E.current.delete(j)):C.get(j)!==!0&&C.set(j,!1)}},[_,A.length,A.join("-")]);const D=[];if(m!==O){let F=[...m];for(let j=0;j<_.length;j++){const K=_[j],Z=vg(K);A.includes(Z)||(F.splice(j,0,K),D.push(K))}return l==="wait"&&D.length&&(F=D),w($T(F)),L(m),null}const{forceRender:N}=G.useContext(zA);return I.jsx(I.Fragment,{children:_.map(F=>{const j=vg(F),K=c&&!y?!1:m===_||A.includes(j),Z=()=>{if(E.current.has(j))return;if(E.current.add(j),C.has(j))C.set(j,!0);else return;let rt=!0;C.forEach(ot=>{ot||(rt=!1)}),rt&&(N==null||N(),w(S.current),c&&(d==null||d()),n&&n())};return I.jsx(xF,{isPresent:K,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:l,root:g,onExitComplete:K?void 0:Z,anchorX:h,anchorY:f,children:F},j)})})},vM=G.createContext({strict:!1}),KT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let QT=!1;function SF(){if(QT)return;const a={};for(const t in KT)a[t]={isEnabled:e=>KT[t].some(n=>!!e[n])};YC(a),QT=!0}function bM(){return SF(),u3()}function TF(a){const t=bM();for(const e in a)t[e]={...t[e],...a[e]};YC(t)}const EF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function pm(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||EF.has(a)}let AM=a=>!pm(a);function CF(a){typeof a=="function"&&(AM=t=>t.startsWith("on")?!pm(t):a(t))}try{CF(require("@emotion/is-prop-valid").default)}catch{}function MF(a,t,e){const n={};for(const r in a)r==="values"&&typeof a.values=="object"||(AM(r)||e===!0&&pm(r)||!t&&!pm(r)||a.draggable&&r.startsWith("onDrag"))&&(n[r]=a[r]);return n}const Vm=G.createContext({});function RF(a,t){if(zm(a)){const{initial:e,animate:n}=a;return{initial:e===!1||Td(e)?e:void 0,animate:Td(n)?n:void 0}}return a.inherit!==!1?t:{}}function DF(a){const{initial:t,animate:e}=RF(a,G.useContext(Vm));return G.useMemo(()=>({initial:t,animate:e}),[ZT(t),ZT(e)])}function ZT(a){return Array.isArray(a)?a.join(" "):a}const v_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _M(a,t,e){for(const n in t)!Ti(t[n])&&!tM(n,e)&&(a[n]=t[n])}function LF({transformTemplate:a},t){return G.useMemo(()=>{const e=v_();return g_(e,t,a),Object.assign({},e.vars,e.style)},[t])}function kF(a,t){const e=a.style||{},n={};return _M(n,e,a),Object.assign(n,LF(a,t)),n}function PF(a,t){const e={},n=kF(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=n,e}const xM=()=>({...v_(),attrs:{}});function OF(a,t,e,n){const r=G.useMemo(()=>{const l=xM();return eM(l,t,nM(n),a.transformTemplate,a.style),{...l.attrs,style:{...l.style}}},[t]);if(a.style){const l={};_M(l,a.style,a),r.style={...l,...r.style}}return r}const NF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b_(a){return typeof a!="string"||a.includes("-")?!1:!!(NF.indexOf(a)>-1||/[A-Z]/u.test(a))}function FF(a,t,e,{latestValues:n},r,l=!1,c){const f=(c??b_(a)?OF:PF)(t,n,r,a),g=MF(t,typeof a=="string",l),y=a!==G.Fragment?{...g,...f,ref:e}:{},{children:d}=t,m=G.useMemo(()=>Ti(d)?d.get():d,[d]);return G.createElement(a,{...y,children:m})}function IF({scrapeMotionValuesFromProps:a,createRenderState:t},e,n,r){return{latestValues:jF(e,n,r,a),renderState:t()}}function jF(a,t,e,n){const r={},l=n(a,{});for(const m in l)r[m]=Dg(l[m]);let{initial:c,animate:h}=a;const f=zm(a),g=XC(a);t&&g&&!f&&a.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const d=y?h:c;if(d&&typeof d!="boolean"&&!Hm(d)){const m=Array.isArray(d)?d:[d];for(let A=0;A<m.length;A++){const x=o_(a,m[A]);if(x){const{transitionEnd:S,transition:C,...E}=x;for(const O in E){let L=E[O];if(Array.isArray(L)){const _=y?L.length-1:0;L=L[_]}L!==null&&(r[O]=L)}for(const O in S)r[O]=S[O]}}}return r}const wM=a=>(t,e)=>{const n=G.useContext(Vm),r=G.useContext(Bm),l=()=>IF(a,t,n,r);return e?l():VA(l)},BF=wM({scrapeMotionValuesFromProps:m_,createRenderState:v_}),HF=wM({scrapeMotionValuesFromProps:sM,createRenderState:xM}),zF=Symbol.for("motionComponentSymbol");function VF(a,t,e){const n=G.useRef(e);G.useInsertionEffect(()=>{n.current=e});const r=G.useRef(null);return G.useCallback(l=>{var h;l&&((h=a.onMount)==null||h.call(a,l)),t&&(l?t.mount(l):t.unmount());const c=n.current;if(typeof c=="function")if(l){const f=c(l);typeof f=="function"&&(r.current=f)}else r.current?(r.current(),r.current=null):c(l);else c&&(c.current=l)},[t])}const SM=G.createContext({});function Tc(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function UF(a,t,e,n,r,l){var L,_;const{visualElement:c}=G.useContext(Vm),h=G.useContext(vM),f=G.useContext(Bm),g=G.useContext(y_),y=g.reducedMotion,d=g.skipAnimations,m=G.useRef(null),A=G.useRef(!1);n=n||h.renderer,!m.current&&n&&(m.current=n(a,{visualState:t,parent:c,props:e,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:y,skipAnimations:d,isSVG:l}),A.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));const x=m.current,S=G.useContext(SM);x&&!x.projection&&r&&(x.type==="html"||x.type==="svg")&&GF(m.current,e,r,S);const C=G.useRef(!1);G.useInsertionEffect(()=>{x&&C.current&&x.update(e,f)});const E=e[kC],O=G.useRef(!!E&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,E))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,E)));return WE(()=>{A.current=!0,x&&(C.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),O.current&&x.animationState&&x.animationState.animateChanges())}),G.useEffect(()=>{x&&(!O.current&&x.animationState&&x.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,E)}),O.current=!1),x.enteringChildren=void 0)}),x}function GF(a,t,e,n){const{layoutId:r,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:g,layoutCrossfade:y}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:TM(a.parent)),a.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||h&&Tc(h),visualElement:a,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:y,layoutScroll:f,layoutRoot:g})}function TM(a){if(a)return a.options.allowProjection!==!1?a.projection:TM(a.parent)}function Ov(a,{forwardMotionProps:t=!1,type:e}={},n,r){n&&TF(n);const l=e?e==="svg":b_(a),c=l?HF:BF;function h(g,y){let d;const m={...G.useContext(y_),...g,layoutId:qF(g)},{isStatic:A}=m,x=DF(g),S=c(g,A);if(!A&&YE){XF();const C=YF(m);d=C.MeasureLayout,x.visualElement=UF(a,S,m,r,C.ProjectionNode,l)}return I.jsxs(Vm.Provider,{value:x,children:[d&&x.visualElement?I.jsx(d,{visualElement:x.visualElement,...m}):null,FF(a,g,VF(S,x.visualElement,y),S,A,t,l)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=G.forwardRef(h);return f[zF]=a,f}function qF({layoutId:a}){const t=G.useContext(zA).id;return t&&a!==void 0?t+"-"+a:a}function XF(a,t){G.useContext(vM).strict}function YF(a){const t=bM(),{drag:e,layout:n}=t;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(a)||n!=null&&n.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WF(a,t){if(typeof Proxy>"u")return Ov;const e=new Map,n=(l,c)=>Ov(l,c,a,t),r=(l,c)=>n(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?n:(e.has(c)||e.set(c,Ov(c,void 0,a,t)),e.get(c))})}const $F=(a,t)=>t.isSVG??b_(a)?new C3(t):new _3(t,{allowProjection:a!==G.Fragment});class KF extends to{constructor(t){super(t),t.animationState||(t.animationState=k3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let QF=0;class ZF extends to{constructor(){super(...arguments),this.id=QF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const JF={animation:{Feature:KF},exit:{Feature:ZF}};function Yf(a){return{point:{x:a.pageX,y:a.pageY}}}const tI=a=>t=>h_(t)&&a(t,Yf(t));function yd(a,t,e,n){return Ed(a,t,tI(e),n)}const EM=({current:a})=>a?a.ownerDocument.defaultView:null,JT=(a,t)=>Math.abs(a-t);function eI(a,t){const e=JT(a.x,t.x),n=JT(a.y,t.y);return Math.sqrt(e**2+n**2)}const tE=new Set(["auto","scroll"]);class CM{constructor(t,e,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Fv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=eI(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!S)return;const{point:C}=A,{timestamp:E}=gi;this.history.push({...C,timestamp:E});const{onStart:O,onMove:L}=this.handlers;x||(O&&O(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,A)},this.handlePointerMove=(A,x)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Nv(x,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(A,x)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:E}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Fv(A.type==="pointercancel"?this.lastMoveEventInfo:Nv(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(A,O),C&&C(A,O)},!h_(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=r||window;const f=Yf(t),g=Nv(f,this.transformPagePoint),{point:y}=g,{timestamp:d}=gi;this.history=[{...y,timestamp:d}];const{onSessionStart:m}=e;m&&m(t,Fv(g,this.history)),this.removeListeners=Gf(yd(this.contextWindow,"pointermove",this.handlePointerMove),yd(this.contextWindow,"pointerup",this.handlePointerUp),yd(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let e=t.parentElement;for(;e;){const n=getComputedStyle(e);(tE.has(n.overflowX)||tE.has(n.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const n=t===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:r.x-e.x,y:r.y-e.y};l.x===0&&l.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,r),de.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Wr(this.updatePoint)}}function Nv(a,t){return t?{point:t(a.point)}:a}function eE(a,t){return{x:a.x-t.x,y:a.y-t.y}}function Fv({point:a},t){return{point:a,delta:eE(a,MM(t)),offset:eE(a,iI(t)),velocity:nI(t,.1)}}function iI(a){return a[0]}function MM(a){return a[a.length-1]}function nI(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,n=null;const r=MM(a);for(;e>=0&&(n=a[e],!(r.timestamp-n.timestamp>Fs(t)));)e--;if(!n)return{x:0,y:0};n===a[0]&&a.length>2&&r.timestamp-n.timestamp>Fs(t)*2&&(n=a[1]);const l=Hn(r.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-n.x)/l,y:(r.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function sI(a,{min:t,max:e},n){return t!==void 0&&a<t?a=n?xe(t,a,n.min):Math.max(a,t):e!==void 0&&a>e&&(a=n?xe(e,a,n.max):Math.min(a,e)),a}function iE(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function aI(a,{top:t,left:e,bottom:n,right:r}){return{x:iE(a.x,e,r),y:iE(a.y,t,n)}}function nE(a,t){let e=t.min-a.min,n=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,n]=[n,e]),{min:e,max:n}}function rI(a,t){return{x:nE(a.x,t.x),y:nE(a.y,t.y)}}function oI(a,t){let e=.5;const n=Oi(a),r=Oi(t);return r>n?e=xd(t.min,t.max-n,a.min):n>r&&(e=xd(a.min,a.max-r,t.min)),js(0,1,e)}function lI(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const mb=.35;function cI(a=mb){return a===!1?a=0:a===!0&&(a=mb),{x:sE(a,"left","right"),y:sE(a,"top","bottom")}}function sE(a,t,e){return{min:aE(a,t),max:aE(a,e)}}function aE(a,t){return typeof a=="number"?a:a[t]||0}const uI=new WeakMap;class hI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=d=>{e&&this.snapToCursor(Yf(d).point),this.stopAnimation()},c=(d,m)=>{const{drag:A,dragPropagation:x,onDragStart:S}=this.getProps();if(A&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HN(A),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(E=>{let O=this.getAxisMotionValue(E).get()||0;if(Is.test(O)){const{projection:L}=this.visualElement;if(L&&L.layout){const _=L.layout.layoutBox[E];_&&(O=Oi(_)*(parseFloat(O)/100))}}this.originPoint[E]=O}),S&&de.update(()=>S(d,m),!1,!0),lb(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},h=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:A,dragDirectionLock:x,onDirectionLock:S,onDrag:C}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:E}=m;if(x&&this.currentDirection===null){this.currentDirection=fI(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),C&&de.update(()=>C(d,m),!1,!0)},f=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new CM(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:n,contextWindow:EM(this.visualElement),element:this.visualElement.current})}stop(t,e){const n=t||this.latestPointerEvent,r=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!n)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&de.postRender(()=>h(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!bg(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=sI(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;t&&Tc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=aI(n.layoutBox,t):this.constraints=!1,this.elastic=cI(e),r!==this.constraints&&!Tc(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&ys(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=lI(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Tc(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=g3(n,r.root,this.visualElement.getTransformPagePoint());let c=rI(r.layout.layoutBox,l);if(e){const h=e(d3(c));this.hasMutatedConstraints=!!h,h&&(c=$C(h))}return c}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},g=ys(y=>{if(!bg(y,e,this.currentDirection))return;let d=f&&f[y]||{};c&&(d={min:0,max:0});const m=r?200:1e6,A=r?40:1e7,x={type:"inertia",velocity:n?t[y]:0,bounceStiffness:m,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...d};return this.startAxisValueAnimation(y,x)});return Promise.all(g).then(h)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return lb(this.visualElement,t),n.start(r_(t,n,0,e,this.visualElement,!1))}stopAnimation(){ys(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ys(e=>{const{drag:n}=this.getProps();if(!bg(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[e],f=l.get()||0;l.set(t[e]-xe(c,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Tc(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ys(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();r[c]=oI({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),ys(c=>{if(!bg(c,t,null))return;const h=this.getAxisMotionValue(c),{min:f,max:g}=this.constraints[c];h.set(xe(f,g,r[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;uI.set(this.visualElement,this);const t=this.visualElement.current,e=yd(t,"pointerdown",g=>{const{drag:y,dragListener:d=!0}=this.getProps(),m=g.target,A=m!==t&&XN(m);y&&d&&!A&&this.start(g)});let n;const r=()=>{const{dragConstraints:g}=this.getProps();Tc(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),n||(n=dI(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),de.read(r);const h=Ed(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(ys(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=g[d].translate,m.set(m.get()+g[d].translate))}),this.visualElement.render())}));return()=>{h(),e(),c(),f&&f(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=mb,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function rE(a){let t=!0;return()=>{if(t){t=!1;return}a()}}function dI(a,t,e){const n=fT(a,rE(e)),r=fT(t,rE(e));return()=>{n(),r()}}function bg(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function fI(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class pI extends to{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new hI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Iv=a=>(t,e)=>{a&&de.update(()=>a(t,e),!1,!0)};class gI extends to{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new CM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Iv(t),onStart:Iv(e),onMove:Iv(n),onEnd:(l,c)=>{delete this.session,r&&de.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=yd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jv=!1;class mI extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),n&&n.register&&r&&n.register(l),jv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Lg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:l}=this.props,{projection:c}=n;return c&&(c.isPresent=l,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),jv=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||de.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;jv=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RM(a){const[t,e]=yM(),n=G.useContext(zA);return I.jsx(mI,{...a,layoutGroup:n,switchLayoutGroup:G.useContext(SM),isPresent:t,safeToRemove:e})}const yI={pan:{Feature:gI},drag:{Feature:pI,ProjectionNode:mM,MeasureLayout:RM}};function oE(a,t,e){const{props:n}=a;a.animationState&&n.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,l=n[r];l&&de.postRender(()=>l(t,Yf(t)))}class vI extends to{mount(){const{current:t}=this.node;t&&(this.unmount=VN(t,(e,n)=>(oE(this.node,n,"Start"),r=>oE(this.node,r,"End"))))}unmount(){}}class bI extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gf(Ed(this.node.current,"focus",()=>this.onFocus()),Ed(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lE(a,t,e){const{props:n}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&n.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),l=n[r];l&&de.postRender(()=>l(t,Yf(t)))}class AI extends to{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:n}=this.node.props;this.unmount=WN(t,(r,l)=>(lE(this.node,l,"Start"),(c,{success:h})=>lE(this.node,c,h?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const yb=new WeakMap,Bv=new WeakMap,_I=a=>{const t=yb.get(a.target);t&&t(a)},xI=a=>{a.forEach(_I)};function wI({root:a,...t}){const e=a||document;Bv.has(e)||Bv.set(e,{});const n=Bv.get(e),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(xI,{root:a,...t})),n[r]}function SI(a,t,e){const n=wI(t);return yb.set(a,e),n.observe(a),()=>{yb.delete(a),n.unobserve(a)}}const TI={some:0,all:1};class EI extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:TI[r]},h=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:d}=this.node.getProps(),m=g?y:d;m&&m(f)};return SI(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(CI(t,e))&&this.startObserver()}unmount(){}}function CI({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const MI={inView:{Feature:EI},tap:{Feature:AI},focus:{Feature:bI},hover:{Feature:vI}},RI={layout:{ProjectionNode:mM,MeasureLayout:RM}},DI={...JF,...MI,...yI,...RI},Ji=WF(DI,$F),Sc=({onClick:a,icon:t,label:e,active:n,disabled:r,tooltip:l})=>I.jsxs("button",{onClick:a,disabled:r,title:l,className:`p-3 flex flex-col items-center justify-center rounded-xl transition-all duration-200 group
      ${n?"bg-white text-black":"text-white/60 hover:text-white hover:bg-white/5"}
      ${r?"opacity-20 cursor-not-allowed":"active:scale-90"}
    `,children:[t,e&&I.jsx("span",{className:"text-[10px] mt-1 uppercase tracking-widest font-bold opacity-60 group-hover:opacity-100",children:e})]}),LI=()=>{const{currentPage:a,totalPages:t,isSoundEnabled:e,isFullscreen:n,viewMode:r,flipAnimation:l,incrementZoom:c,decrementZoom:h,toggleSound:f,toggleFullscreen:g,toggleViewMode:y,setFlipAnimation:d,triggerNextPage:m,triggerPrevPage:A}=Ni(),x=()=>{const C=["smooth","quick","instant"],O=(C.indexOf(l)+1)%C.length;d(C[O])},S=()=>{switch(l){case"instant":return I.jsx(MP,{className:"w-5 h-5"});case"quick":return I.jsx(TP,{className:"w-5 h-5"});default:return I.jsx(aP,{className:"w-5 h-5"})}};return I.jsx(Ji.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 w-full max-w-fit px-4",children:I.jsxs("div",{className:"glass px-2 py-2 rounded-2xl flex items-center space-x-1 shadow-2xl ring-1 ring-white/10",children:[I.jsxs("div",{className:"flex items-center space-x-1 border-r border-white/10 pr-2 hidden sm:flex",children:[I.jsx(Sc,{icon:I.jsx(kP,{className:"w-5 h-5"}),onClick:h}),I.jsxs("div",{className:"px-2 text-[10px] font-bold text-white/40 tabular-nums",children:[Ni.getState().zoomLevel,"%"]}),I.jsx(Sc,{icon:I.jsx(DP,{className:"w-5 h-5"}),onClick:c})]}),I.jsxs("div",{className:"flex items-center space-x-3 px-4",children:[I.jsx("button",{onClick:A,disabled:a<=1||r==="grid",className:"p-2 rounded-full hover:bg-white/10 disabled:opacity-10 text-white transition-all active:scale-75",children:I.jsx(Vk,{className:"w-6 h-6"})}),I.jsxs("div",{className:"flex flex-col items-center min-w-[100px] select-none",children:[I.jsxs("div",{className:"flex items-baseline space-x-1",children:[I.jsx("span",{className:"text-white text-sm font-bold",children:a}),I.jsx("span",{className:"text-white/40 text-[10px] font-medium uppercase tracking-tighter",children:"of"}),I.jsx("span",{className:"text-white/60 text-sm font-medium",children:t})]}),I.jsx("div",{className:"w-full h-1 bg-white/5 rounded-full overflow-hidden mt-1.5 relative",children:I.jsx(Ji.div,{className:"absolute inset-y-0 left-0 bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]",initial:!1,animate:{width:`${a/t*100}%`},transition:{type:"spring",stiffness:300,damping:30}})})]}),I.jsx("button",{onClick:m,disabled:a>=t||r==="grid",className:"p-2 rounded-full hover:bg-white/10 disabled:opacity-10 text-white transition-all active:scale-75",children:I.jsx(Im,{className:"w-6 h-6"})})]}),I.jsxs("div",{className:"flex items-center space-x-1 border-l border-white/10 pl-2",children:[I.jsx(Sc,{icon:S(),onClick:x,tooltip:`Animation: ${l}`}),I.jsx(Sc,{icon:r==="flip"?I.jsx(oP,{className:"w-5 h-5"}):I.jsx(Fk,{className:"w-5 h-5"}),onClick:y,active:r==="grid"}),I.jsx(Sc,{icon:e?I.jsx(_P,{className:"w-5 h-5"}):I.jsx(wP,{className:"w-5 h-5"}),onClick:f,active:!e}),I.jsx(Sc,{icon:n?I.jsx(pP,{className:"w-5 h-5"}):I.jsx(dP,{className:"w-5 h-5"}),onClick:g,tooltip:n?"Exit Fullscreen":"Enter Fullscreen"})]})]})})},kI=()=>{const{isSearchOpen:a,toggleSearch:t,searchQuery:e,setSearchQuery:n,searchResults:r,isIndexing:l,jumpToPage:c,totalPages:h}=Ni(),f=G.useRef(null);return G.useEffect(()=>{a&&f.current&&f.current.focus()},[a]),I.jsx(Gu,{children:a&&I.jsxs(I.Fragment,{children:[I.jsx(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60]"}),I.jsxs(Ji.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-sm glass z-[70] border-l border-white/10 shadow-2xl flex flex-col",children:[I.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[I.jsx(Wv,{className:"w-5 h-5 text-indigo-400"}),"Smart Search"]}),I.jsx("p",{className:"text-[10px] text-white/40 uppercase tracking-[0.2em] font-bold mt-1",children:l?"Indexing Document...":`${h} Pages Indexed`})]}),I.jsx("button",{onClick:t,className:"p-2 text-white/40 hover:text-white hover:bg-white/5 rounded-full transition-all",children:I.jsx(jm,{className:"w-5 h-5"})})]}),I.jsx("div",{className:"p-6",children:I.jsxs("div",{className:"relative group",children:[I.jsx(Wv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-white/20 group-focus-within:text-indigo-400 transition-colors"}),I.jsx("input",{ref:f,type:"text",placeholder:"Find in document...",value:e,onChange:g=>n(g.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-11 pr-4 text-sm text-white placeholder:text-white/20 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all"}),l&&I.jsx(uP,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-indigo-400 animate-spin"})]})}),I.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar",children:e&&e.length>0?r&&r.length>0?r.map((g,y)=>I.jsxs(Ji.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.05},onClick:()=>{c(g.pageNumber),t()},className:"w-full text-left p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/10 transition-all group",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-indigo-400 uppercase tracking-widest",children:[I.jsx(eP,{className:"w-3 h-3"}),"Page ",g.pageNumber]}),I.jsx(Im,{className:"w-3 h-3 text-white/20 group-hover:text-white/60 transition-colors"})]}),I.jsx("p",{className:"text-xs text-white/60 leading-relaxed line-clamp-2 italic",children:g.snippet})]},`${g.pageNumber}-${y}`)):I.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[I.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-4",children:I.jsx(Qk,{className:"w-6 h-6 text-white/20"})}),I.jsxs("p",{className:"text-sm text-white/40",children:['No matches found for "',e,'"']})]}):I.jsx("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:I.jsx("p",{className:"text-xs text-white/20 uppercase tracking-[0.2em] font-bold",children:"Start typing to search"})})})]})]})})},DM=({item:a,level:t})=>{const[e,n]=G.useState(!0),r=Ni(h=>h.jumpToPage);Ni(h=>h.toggleTOC);const l=a.items&&a.items.length>0,c=()=>{a.pageNumber!==null&&r(a.pageNumber)};return I.jsxs("div",{className:"mb-1",children:[I.jsxs("div",{className:`flex items-center group rounded-lg transition-all cursor-pointer py-2 px-3
          ${a.pageNumber!==null?"hover:bg-white/10":""}
        `,style:{paddingLeft:`${t*16+12}px`},children:[l?I.jsx("button",{onClick:h=>{h.stopPropagation(),n(!e)},className:"mr-2 text-white/20 hover:text-white/60 transition-colors",children:e?I.jsx(Hk,{className:"w-4 h-4"}):I.jsx(Im,{className:"w-4 h-4"})}):I.jsx("div",{className:"w-4 h-4 mr-2"}),I.jsx("span",{onClick:c,className:`flex-1 text-sm truncate transition-colors
            ${a.pageNumber!==null?"text-white/80 group-hover:text-white":"text-white/40 font-medium"}
          `,children:a.title}),a.pageNumber!==null&&I.jsx("span",{className:"text-[10px] font-bold text-white/20 group-hover:text-indigo-400 ml-2 transition-colors tabular-nums",children:a.pageNumber})]}),I.jsx(Gu,{children:e&&l&&I.jsx(Ji.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.items.map((h,f)=>I.jsx(DM,{item:h,level:t+1},`${h.title}-${f}`))})})]})},PI=()=>{const{isTOCOpen:a,toggleTOC:t,outline:e}=Ni();return I.jsx(Gu,{children:a&&I.jsxs(I.Fragment,{children:[I.jsx(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60]"}),I.jsxs(Ji.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 left-0 h-full w-full max-w-sm glass z-[70] border-r border-white/10 shadow-2xl flex flex-col",children:[I.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[I.jsx(_d,{className:"w-5 h-5 text-indigo-400"}),"Outline"]}),I.jsx("p",{className:"text-[10px] text-white/40 uppercase tracking-[0.2em] font-bold mt-1",children:"Document Chapters"})]}),I.jsx("button",{onClick:t,className:"p-2 text-white/40 hover:text-white hover:bg-white/5 rounded-full transition-all",children:I.jsx(jm,{className:"w-5 h-5"})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:e&&e.length>0?e.map((n,r)=>I.jsx(DM,{item:n,level:0},`${n.title}-${r}`)):I.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center px-10",children:[I.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-4",children:I.jsx(XE,{className:"w-6 h-6 text-white/20"})}),I.jsx("p",{className:"text-sm text-white/40",children:"No outline found in this document."})]})})]})]})})},OI=()=>{const{isBookmarksOpen:a,toggleBookmarksSidebar:t,bookmarks:e,toggleBookmark:n,jumpToPage:r}=Ni();return I.jsx(Gu,{children:a&&I.jsxs(I.Fragment,{children:[I.jsx(Ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60]"}),I.jsxs(Ji.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-sm glass z-[70] border-l border-white/10 shadow-2xl flex flex-col",children:[I.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[I.jsx(nP,{className:"w-5 h-5 text-red-400"}),"My Library"]}),I.jsxs("p",{className:"text-[10px] text-white/40 uppercase tracking-[0.2em] font-bold mt-1",children:[e.length," Bookmarks Saved"]})]}),I.jsx("button",{onClick:t,className:"p-2 text-white/40 hover:text-white hover:bg-white/5 rounded-full transition-all",children:I.jsx(jm,{className:"w-5 h-5"})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3 custom-scrollbar",children:e.length>0?e.map((l,c)=>I.jsxs(Ji.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:c*.05},className:"group relative",children:[I.jsxs("button",{onClick:()=>{r(l),t()},className:"w-full text-left p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/10 transition-all flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-500/10 flex items-center justify-center text-indigo-400",children:I.jsx(_d,{className:"w-4 h-4 fill-current"})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-bold text-white",children:"Bookmarked Page"}),I.jsxs("p",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold",children:["Page ",l]})]})]}),I.jsx(Im,{className:"w-4 h-4 text-white/20 group-hover:text-white transition-colors"})]}),I.jsx("button",{onClick:h=>{h.stopPropagation(),n(l)},className:"absolute -top-2 -right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all hover:scale-110 shadow-lg",title:"Remove Bookmark",children:I.jsx(bP,{className:"w-3 h-3"})})]},`bookmark-${l}`)):I.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[I.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-6",children:I.jsx(_d,{className:"w-8 h-8 text-white/10"})}),I.jsx("h3",{className:"text-white font-medium mb-2",children:"No bookmarks yet"}),I.jsx("p",{className:"text-sm text-white/40 max-w-[200px]",children:"Click the bookmark icon on any page to save it for later."})]})})]})]})})},NI=({children:a})=>{const t=G.useRef(null),{isFullscreen:e,setFullscreen:n,resumePage:r,clearResume:l,jumpToPage:c,pdfUrl:h}=Ni(),[f,g]=G.useState(!1);G.useEffect(()=>{Ni.getState().setPdfUrl(h);const d=new URLSearchParams(window.location.search);g(d.has("page"))},[h]),G.useEffect(()=>{if(!t.current)return;const d=()=>{const m=!!document.fullscreenElement;m!==e&&n(m)};return document.addEventListener("fullscreenchange",d),e&&!document.fullscreenElement?t.current.requestFullscreen().catch(m=>{console.error(`Error attempting to enable fullscreen: ${m.message}`),n(!1)}):!e&&document.fullscreenElement&&document.exitFullscreen(),()=>{document.removeEventListener("fullscreenchange",d)}},[e,n]);const y=r&&r>1&&!f;return I.jsxs("div",{ref:t,className:"relative w-full h-screen overflow-hidden bg-[#0c0c0c] text-neutral-100 flex flex-col",children:[I.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[I.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-500/10 blur-[120px] rounded-full"}),I.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 blur-[120px] rounded-full"})]}),I.jsx(IP,{}),I.jsx(kI,{}),I.jsx(PI,{}),I.jsx(OI,{}),I.jsx(Gu,{children:y&&I.jsx(Ji.div,{initial:{y:-50,opacity:0,x:"-50%"},animate:{y:0,opacity:1,x:"-50%"},exit:{y:-50,opacity:0,x:"-50%"},className:"fixed top-24 left-1/2 z-[100] w-full max-w-sm px-4 pointer-events-none",children:I.jsxs("div",{className:"glass p-4 rounded-2xl flex items-center justify-between shadow-2xl ring-1 ring-white/10 pointer-events-auto",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-500/10 flex items-center justify-center text-indigo-400",children:I.jsx(qk,{className:"w-5 h-5"})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-bold text-white",children:"Resume Progress?"}),I.jsxs("p",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold",children:["You were on Page ",r]})]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("button",{onClick:()=>{c(r),l()},className:"p-2 bg-white text-black rounded-full hover:bg-neutral-200 transition-all active:scale-90",title:"Resume",children:I.jsx(qE,{className:"w-4 h-4"})}),I.jsx("button",{onClick:l,className:"p-2 bg-white/5 text-white/40 rounded-full hover:bg-white/10 hover:text-white transition-all",title:"Dismiss",children:I.jsx(jm,{className:"w-4 h-4"})})]})]})})}),I.jsx("main",{className:"relative flex-1 w-full flex items-center justify-center p-4 md:p-8 z-10 pt-20 pb-28",children:I.jsx(Gu,{mode:"wait",children:I.jsx(Ji.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.02},transition:{duration:.4,ease:[.22,1,.36,1]},className:"w-full h-full flex items-center justify-center",children:a},"viewer-content")})}),I.jsx(LI,{})]})},FI="modulepreload",II=function(a){return"/"+a},cE={},Ag=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(e.map(g=>{if(g=II(g),g in cE)return;cE[g]=!0;const y=g.endsWith(".css"),d=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${d}`))return;const m=document.createElement("link");if(m.rel=y?"stylesheet":FI,y||(m.as="script"),m.crossOrigin="",m.href=g,f&&m.setAttribute("nonce",f),document.head.appendChild(m),y)return new Promise((A,x)=>{m.addEventListener("load",A),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};var vd={};vd.d=(a,t)=>{for(var e in t)vd.o(t,e)&&!vd.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};vd.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var Ct=globalThis.pdfjsLib={};vd.d(Ct,{AbortException:()=>Fl,AnnotationEditorLayer:()=>RA,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Pt,AnnotationEditorUIManager:()=>Dl,AnnotationLayer:()=>Nj,AnnotationMode:()=>br,ColorPicker:()=>vm,DOMSVGFactory:()=>L_,DrawLayer:()=>PA,FeatureTest:()=>Fi,GlobalWorkerOptions:()=>Oa,ImageKind:()=>kg,InvalidPDFException:()=>kM,MissingPDFException:()=>Nl,OPS:()=>Kn,OutputScale:()=>xb,PDFDataRangeTransport:()=>MR,PDFDateString:()=>S_,PDFWorker:()=>Vc,PasswordResponses:()=>zI,PermissionFlag:()=>HI,PixelsPerInch:()=>Kr,RenderingCancelledException:()=>x_,TextLayer:()=>Kb,UnexpectedResponseException:()=>Xm,Util:()=>vt,VerbosityLevel:()=>Um,XfaLayer:()=>DR,build:()=>gj,createValidAbsoluteUrl:()=>qI,fetchData:()=>Wm,getDocument:()=>rj,getFilenameFromUrl:()=>t5,getPdfFilenameFromUrl:()=>e5,getXfaPageViewport:()=>i5,isDataScheme:()=>$m,isPdfFile:()=>w_,noContextMenu:()=>Un,normalizeUnicode:()=>QI,setLayerDimensions:()=>Rl,shadow:()=>qt,version:()=>pj});const Ei=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),LM=[1,0,0,1,0,0],vb=[.001,0,0,.001,0,0],jI=1e7,Hv=1.35,bn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},br={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},BI="pdfjs_internal_editor_",Pt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},HI={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},kg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Yh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Um={ERRORS:0,WARNINGS:1,INFOS:5},Kn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},zI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Gm=Um.WARNINGS;function VI(a){Number.isInteger(a)&&(Gm=a)}function UI(){return Gm}function qm(a){Gm>=Um.INFOS&&console.log(`Info: ${a}`)}function Ft(a){Gm>=Um.WARNINGS&&console.log(`Warning: ${a}`)}function ge(a){throw new Error(a)}function Ke(a,t){a||ge(t)}function GI(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qI(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=KI(a)}catch{}}const n=t?new URL(a,t):new URL(a);if(GI(n))return n}catch{}return null}function qt(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const eo=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class bb extends eo{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ab extends eo{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class kM extends eo{constructor(t){super(t,"InvalidPDFException")}}class Nl extends eo{constructor(t){super(t,"MissingPDFException")}}class Xm extends eo{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class XI extends eo{constructor(t){super(t,"FormatError")}}class Fl extends eo{constructor(t){super(t,"AbortException")}}function PM(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&ge("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=a.subarray(r,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Ym(a){typeof a!="string"&&ge("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function YI(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function A_(a){const t=Object.create(null);for(const[e,n]of a)t[e]=n;return t}function WI(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function $I(){try{return new Function(""),!0}catch{return!1}}class Fi{static get isLittleEndian(){return qt(this,"isLittleEndian",WI())}static get isEvalSupported(){return qt(this,"isEvalSupported",$I())}static get isOffscreenCanvasSupported(){return qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const zv=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var Fa,Pg,_b;class vt{static makeHexColor(t,e,n){return`#${zv[t]}${zv[e]}${zv[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,l]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],l[0],c[0]),Math.min(n[1],r[1],l[1],c[1]),Math.max(n[0],r[0],l[0],c[0]),Math.max(n[1],r[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(n+c)/2,f=Math.sqrt((n+c)**2-4*(n*c-l*r))/2,g=h+f||1,y=h-f||1;return[Math.sqrt(g),Math.sqrt(y)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[n,l,r,c]}static bezierBoundingBox(t,e,n,r,l,c,h,f,g){return g?(g[0]=Math.min(g[0],t,h),g[1]=Math.min(g[1],e,f),g[2]=Math.max(g[2],t,h),g[3]=Math.max(g[3],e,f)):g=[Math.min(t,h),Math.min(e,f),Math.max(t,h),Math.max(e,f)],R(this,Fa,_b).call(this,t,n,l,h,e,r,c,f,3*(-t+3*(n-l)+h),6*(t-2*n+l),3*(n-t),g),R(this,Fa,_b).call(this,t,n,l,h,e,r,c,f,3*(-e+3*(r-c)+f),6*(e-2*r+c),3*(r-e),g),g}}Fa=new WeakSet,Pg=function(t,e,n,r,l,c,h,f,g,y){if(g<=0||g>=1)return;const d=1-g,m=g*g,A=m*g,x=d*(d*(d*t+3*g*e)+3*m*n)+A*r,S=d*(d*(d*l+3*g*c)+3*m*h)+A*f;y[0]=Math.min(y[0],x),y[1]=Math.min(y[1],S),y[2]=Math.max(y[2],x),y[3]=Math.max(y[3],S)},_b=function(t,e,n,r,l,c,h,f,g,y,d,m){if(Math.abs(g)<1e-12){Math.abs(y)>=1e-12&&R(this,Fa,Pg).call(this,t,e,n,r,l,c,h,f,-d/y,m);return}const A=y**2-4*d*g;if(A<0)return;const x=Math.sqrt(A),S=2*g;R(this,Fa,Pg).call(this,t,e,n,r,l,c,h,f,(-y+x)/S,m),R(this,Fa,Pg).call(this,t,e,n,r,l,c,h,f,(-y-x)/S,m)},P(vt,Fa);function KI(a){return decodeURIComponent(escape(a))}let Vv=null,uE=null;function QI(a){return Vv||(Vv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uE=new Map([["","t"]])),a.replaceAll(Vv,(t,e,n)=>e?e.normalize("NFKC"):uE.get(n))}function ZI(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let t=0;t<32;t++)a[t]=Math.floor(Math.random()*255);return PM(a)}const __="pdfjs_internal_id_",aa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function JI(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(PM(a))}const oa="http://www.w3.org/2000/svg",Mo=class Mo{};St(Mo,"CSS",96),St(Mo,"PDF",72),St(Mo,"PDF_TO_CSS_UNITS",Mo.CSS/Mo.PDF);let Kr=Mo;async function Wm(a,t="text"){if(Qh(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Wf{constructor({viewBox:t,scale:e,rotation:n,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=l;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,y,d,m;switch(n%=360,n<0&&(n+=360),n){case 180:g=-1,y=0,d=0,m=1;break;case 90:g=0,y=1,d=1,m=0;break;case 270:g=0,y=-1,d=-1,m=0;break;case 0:g=1,y=0,d=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(d=-d,m=-m);let A,x,S,C;g===0?(A=Math.abs(f-t[1])*e+r,x=Math.abs(h-t[0])*e+l,S=(t[3]-t[1])*e,C=(t[2]-t[0])*e):(A=Math.abs(h-t[0])*e+r,x=Math.abs(f-t[1])*e+l,S=(t[2]-t[0])*e,C=(t[3]-t[1])*e),this.transform=[g*e,y*e,d*e,m*e,A-g*e*h-d*e*f,x-y*e*h-m*e*f],this.width=S,this.height=C}get rawDims(){const{viewBox:t}=this;return qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Wf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return vt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=vt.applyTransform([t[0],t[1]],this.transform),n=vt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return vt.applyInverseTransform([t,e],this.transform)}}class x_ extends eo{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function $m(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function w_(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function t5(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function e5(a,t="document.pdf"){if(typeof a!="string")return t;if($m(a))return Ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let l=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class hE{constructor(){St(this,"started",Object.create(null));St(this,"times",[])}time(t){t in this.started&&Ft(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ft(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-r}ms
`);return t.join("")}}function Qh(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function Un(a){a.preventDefault()}function dE(a){console.log("Deprecated API usage: "+a)}var Md;class S_{static toDateObject(t){if(!t||typeof t!="string")return null;p(this,Md)||M(this,Md,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=p(this,Md).exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const g=e[7]||"Z";let y=parseInt(e[8],10);y=y>=0&&y<=23?y:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,g==="-"?(c+=y,h+=d):g==="+"&&(c-=y,h-=d),new Date(Date.UTC(n,r,l,c,h,f))}}Md=new WeakMap,P(S_,Md);function i5(a,{scale:t=1,rotation:e=0}){const{width:n,height:r}=a.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new Wf({viewBox:l,scale:t,rotation:e})}function T_(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ft(`Not a valid color format: "${a}"`),[0,0,0])}function n5(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,T_(n))}t.remove()}function _e(a){const{a:t,b:e,c:n,d:r,e:l,f:c}=a.getTransform();return[t,e,n,r,l,c]}function ra(a){const{a:t,b:e,c:n,d:r,e:l,f:c}=a.getTransform().invertSelf();return[t,e,n,r,l,c]}function Rl(a,t,e=!1,n=!0){if(t instanceof Wf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=a,h=Fi.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${l}px`,y=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,d=h?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(c.width=y,c.height=d):(c.width=d,c.height=y)}n&&a.setAttribute("data-main-rotation",t.rotation)}class xb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ar,ko,Qn,Po,Rd,Dd,Am,OM,Ii,NM,FM,Og,IM,Sb;const la=class la{constructor(t){P(this,Ii);P(this,Ar,null);P(this,ko,null);P(this,Qn);P(this,Po,null);P(this,Rd,null);M(this,Qn,t),p(la,Dd)||M(la,Dd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=M(this,Ar,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=p(this,Qn)._uiManager._signal;t.addEventListener("contextmenu",Un,{signal:e}),t.addEventListener("pointerdown",R(la,Am,OM),{signal:e});const n=M(this,Po,document.createElement("div"));n.className="buttons",t.append(n);const r=p(this,Qn).toolbarPosition;if(r){const{style:l}=t,c=p(this,Qn)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return R(this,Ii,IM).call(this),t}get div(){return p(this,Ar)}hide(){var t;p(this,Ar).classList.add("hidden"),(t=p(this,ko))==null||t.hideDropdown()}show(){var t;p(this,Ar).classList.remove("hidden"),(t=p(this,Rd))==null||t.shown()}async addAltText(t){const e=await t.render();R(this,Ii,Og).call(this,e),p(this,Po).prepend(e,p(this,Ii,Sb)),M(this,Rd,t)}addColorPicker(t){M(this,ko,t);const e=t.renderButton();R(this,Ii,Og).call(this,e),p(this,Po).prepend(e,p(this,Ii,Sb))}remove(){var t;p(this,Ar).remove(),(t=p(this,ko))==null||t.destroy(),M(this,ko,null)}};Ar=new WeakMap,ko=new WeakMap,Qn=new WeakMap,Po=new WeakMap,Rd=new WeakMap,Dd=new WeakMap,Am=new WeakSet,OM=function(t){t.stopPropagation()},Ii=new WeakSet,NM=function(t){p(this,Qn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},FM=function(t){p(this,Qn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Og=function(t){const e=p(this,Qn)._uiManager._signal;t.addEventListener("focusin",R(this,Ii,NM).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",R(this,Ii,FM).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Un,{signal:e})},IM=function(){const{editorType:t,_uiManager:e}=p(this,Qn),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",p(la,Dd)[t]),R(this,Ii,Og).call(this,n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),p(this,Po).append(n)},Sb=function(){const t=document.createElement("div");return t.className="divider",t},P(la,Am),P(la,Dd,null);let wb=la;var Ld,Oo,No,Zr,jM,BM,HM;class s5{constructor(t){P(this,Zr);P(this,Ld,null);P(this,Oo,null);P(this,No);M(this,No,t)}show(t,e,n){const[r,l]=R(this,Zr,BM).call(this,e,n),{style:c}=p(this,Oo)||M(this,Oo,R(this,Zr,jM).call(this));t.append(p(this,Oo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,Oo).remove()}}Ld=new WeakMap,Oo=new WeakMap,No=new WeakMap,Zr=new WeakSet,jM=function(){const t=M(this,Oo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Un,{signal:p(this,No)._signal});const e=M(this,Ld,document.createElement("div"));return e.className="buttons",t.append(e),R(this,Zr,HM).call(this),t},BM=function(t,e){let n=0,r=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const h=l.x+(e?l.width:0);if(c>n){r=h,n=c;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,n]},HM=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=p(this,No)._signal;t.addEventListener("contextmenu",Un,{signal:n}),t.addEventListener("click",()=>{p(this,No).highlightSelection("floating_button")},{signal:n}),p(this,Ld).append(t)};function gm(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}function a5(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var _m;class r5{constructor(){P(this,_m,0)}get id(){return`${BI}${Ri(this,_m)._++}`}}_m=new WeakMap;var qc,kd,Ai,Xc,Ng;const O_=class O_{constructor(){P(this,Xc);P(this,qc,ZI());P(this,kd,0);P(this,Ai,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return qt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:n,size:r,type:l}=t;return R(this,Xc,Ng).call(this,`${e}_${n}_${r}_${l}`,t)}async getFromUrl(t){return R(this,Xc,Ng).call(this,t,t)}async getFromBlob(t,e){const n=await e;return R(this,Xc,Ng).call(this,t,n)}async getFromId(t){p(this,Ai)||M(this,Ai,new Map);const e=p(this,Ai).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){p(this,Ai)||M(this,Ai,new Map);let n=p(this,Ai).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${p(this,qc)}_${Ri(this,kd)._++}`,refCounter:1,isSvg:!1},p(this,Ai).set(t,n),p(this,Ai).set(n.id,n),n}getSvgUrl(t){const e=p(this,Ai).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;p(this,Ai)||M(this,Ai,new Map);const e=p(this,Ai).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(n.width,n.height);l.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=l.convertToBlob()}(r=n.close)==null||r.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${p(this,qc)}_`)}};qc=new WeakMap,kd=new WeakMap,Ai=new WeakMap,Xc=new WeakSet,Ng=async function(t,e){p(this,Ai)||M(this,Ai,new Map);let n=p(this,Ai).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${p(this,qc)}_${Ri(this,kd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(n.url=e,r=await Wm(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=O_._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((g,y)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,g()},c.onload=async()=>{const d=n.svgUrl=c.result;h.src=await l?`${d}#svgView(preserveAspectRatio(none))`:d},h.onerror=c.onerror=y});c.readAsDataURL(r),await f}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return p(this,Ai).set(t,n),n&&p(this,Ai).set(n.id,n),n};let Tb=O_;var ei,_r,Pd,ii;class o5{constructor(t=128){P(this,ei,[]);P(this,_r,!1);P(this,Pd);P(this,ii,-1);M(this,Pd,t)}add({cmd:t,undo:e,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),p(this,_r))return;const f={cmd:t,undo:e,post:n,type:l};if(p(this,ii)===-1){p(this,ei).length>0&&(p(this,ei).length=0),M(this,ii,0),p(this,ei).push(f);return}if(c&&p(this,ei)[p(this,ii)].type===l){h&&(f.undo=p(this,ei)[p(this,ii)].undo),p(this,ei)[p(this,ii)]=f;return}const g=p(this,ii)+1;g===p(this,Pd)?p(this,ei).splice(0,1):(M(this,ii,g),g<p(this,ei).length&&p(this,ei).splice(g)),p(this,ei).push(f)}undo(){if(p(this,ii)===-1)return;M(this,_r,!0);const{undo:t,post:e}=p(this,ei)[p(this,ii)];t(),e==null||e(),M(this,_r,!1),M(this,ii,p(this,ii)-1)}redo(){if(p(this,ii)<p(this,ei).length-1){M(this,ii,p(this,ii)+1),M(this,_r,!0);const{cmd:t,post:e}=p(this,ei)[p(this,ii)];t(),e==null||e(),M(this,_r,!1)}}hasSomethingToUndo(){return p(this,ii)!==-1}hasSomethingToRedo(){return p(this,ii)<p(this,ei).length-1}destroy(){M(this,ei,null)}}ei=new WeakMap,_r=new WeakMap,Pd=new WeakMap,ii=new WeakMap;var xm,zM;class $f{constructor(t){P(this,xm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Fi.platform;for(const[n,r,l={}]of t)for(const c of n){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(R(this,xm,zM).call(this,e));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=n;h&&!h(t,e)||(r.bind(t,...c,e)(),l||(e.stopPropagation(),e.preventDefault()))}}xm=new WeakSet,zM=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const wm=class wm{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return n5(t),qt(this,"_colors",t)}convert(t){const e=T_(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((l,c)=>l===e[c]))return wm._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?vt.makeHexColor(...e):t}};St(wm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Eb=wm;var Yc,hn,Xe,di,Wc,ua,$c,Zn,xr,Kc,Fo,vs,Jn,Io,Od,Nd,Qc,Fd,bs,wr,Zc,Sr,As,Sm,Tr,Id,Er,jo,jd,Bd,ni,Jt,ha,Bo,Hd,zd,Cr,_s,da,Vd,Pn,ct,Fg,Cb,VM,UM,Ig,GM,qM,XM,Mb,YM,Rb,Db,WM,Di,yr,$M,KM,Lb,QM,Zh,kb;const Bc=class Bc{constructor(t,e,n,r,l,c,h,f,g,y,d){P(this,ct);P(this,Yc,new AbortController);P(this,hn,null);P(this,Xe,new Map);P(this,di,new Map);P(this,Wc,null);P(this,ua,null);P(this,$c,null);P(this,Zn,new o5);P(this,xr,null);P(this,Kc,0);P(this,Fo,new Set);P(this,vs,null);P(this,Jn,null);P(this,Io,new Set);P(this,Od,!1);P(this,Nd,!1);P(this,Qc,!1);P(this,Fd,null);P(this,bs,null);P(this,wr,null);P(this,Zc,null);P(this,Sr,!1);P(this,As,null);P(this,Sm,new r5);P(this,Tr,!1);P(this,Id,!1);P(this,Er,null);P(this,jo,null);P(this,jd,null);P(this,Bd,null);P(this,ni,Pt.NONE);P(this,Jt,new Set);P(this,ha,null);P(this,Bo,null);P(this,Hd,null);P(this,zd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});P(this,Cr,[0,0]);P(this,_s,null);P(this,da,null);P(this,Vd,null);P(this,Pn,null);const m=this._signal=p(this,Yc).signal;M(this,da,t),M(this,Vd,e),M(this,Wc,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:m}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),r._on("setpreference",this.onSetPreference.bind(this),{signal:m}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:m}),R(this,ct,GM).call(this),R(this,ct,WM).call(this),R(this,ct,Mb).call(this),M(this,ua,l.annotationStorage),M(this,Fd,l.filterFactory),M(this,Bo,c),M(this,Zc,h||null),M(this,Od,f),M(this,Nd,g),M(this,Qc,y),M(this,Bd,d||null),this.viewParameters={realScale:Kr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Bc.prototype,e=c=>p(c,da).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return qt(this,"_keyboardManager",new $f([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&p(c,da).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&p(c,da).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,n,r;(t=p(this,Pn))==null||t.resolve(),M(this,Pn,null),(e=p(this,Yc))==null||e.abort(),M(this,Yc,null),this._signal=null;for(const l of p(this,di).values())l.destroy();p(this,di).clear(),p(this,Xe).clear(),p(this,Io).clear(),M(this,hn,null),p(this,Jt).clear(),p(this,Zn).destroy(),(n=p(this,Wc))==null||n.destroy(),(r=p(this,As))==null||r.hide(),M(this,As,null),p(this,bs)&&(clearTimeout(p(this,bs)),M(this,bs,null)),p(this,_s)&&(clearTimeout(p(this,_s)),M(this,_s,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return p(this,Bd)}get useNewAltTextFlow(){return p(this,Nd)}get useNewAltTextWhenAddingImage(){return p(this,Qc)}get hcmFilter(){return qt(this,"hcmFilter",p(this,Bo)?p(this,Fd).addHCMFilter(p(this,Bo).foreground,p(this,Bo).background):"none")}get direction(){return qt(this,"direction",getComputedStyle(p(this,da)).direction)}get highlightColors(){return qt(this,"highlightColors",p(this,Zc)?new Map(p(this,Zc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){M(this,jd,t)}editAltText(t,e=!1){var n;(n=p(this,Wc))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":M(this,Qc,e);break}}onPageChanging({pageNumber:t}){M(this,Kc,t-1)}focusMainContainer(){p(this,da).focus()}findParent(t,e){for(const n of p(this,di).values()){const{x:r,y:l,width:c,height:h}=n.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+h)return n}return null}disableUserSelect(t=!1){p(this,Vd).classList.toggle("noUserSelect",t)}addShouldRescale(t){p(this,Io).add(t)}removeShouldRescale(t){p(this,Io).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Kr.PDF_TO_CSS_UNITS;for(const e of p(this,Io))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c}=e,h=e.toString(),g=R(this,ct,Fg).call(this,e).closest(".textLayer"),y=this.getSelectionBoxes(g);if(!y)return;e.empty();const d=R(this,ct,Cb).call(this,g),m=p(this,ni)===Pt.NONE,A=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:y,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(Pt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&p(this,ua)&&!p(this,ua).has(t.id)&&p(this,ua).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,p(this,Sr)&&(M(this,Sr,!1),R(this,ct,Ig).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of p(this,Jt))if(e.div.contains(t)){M(this,jo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!p(this,jo))return;const[t,e]=p(this,jo);M(this,jo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){R(this,ct,Mb).call(this),R(this,ct,Rb).call(this)}removeEditListeners(){R(this,ct,YM).call(this),R(this,ct,Db).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of p(this,Jn))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of p(this,Jn))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=p(this,hn))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of p(this,Jt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of p(this,Jn))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){Ft(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of n){const g=await r.deserialize(f);if(!g)return;l.push(g)}const c=()=>{for(const f of l)R(this,ct,Lb).call(this,f);R(this,ct,kb).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Ft(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,ni)!==Pt.NONE&&!this.isEditorHandlingKeyboard&&Bc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,Sr)&&(M(this,Sr,!1),R(this,ct,Ig).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(R(this,ct,qM).call(this),R(this,ct,Rb).call(this),R(this,ct,Di).call(this,{isEditing:p(this,ni)!==Pt.NONE,isEmpty:R(this,ct,Zh).call(this),hasSomethingToUndo:p(this,Zn).hasSomethingToUndo(),hasSomethingToRedo:p(this,Zn).hasSomethingToRedo(),hasSelectedEditor:!1})):(R(this,ct,XM).call(this),R(this,ct,Db).call(this),R(this,ct,Di).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!p(this,Jn)){M(this,Jn,t);for(const e of p(this,Jn))R(this,ct,yr).call(this,e.defaultPropertiesToUpdate)}}getId(){return p(this,Sm).id}get currentLayer(){return p(this,di).get(p(this,Kc))}getLayer(t){return p(this,di).get(t)}get currentPageIndex(){return p(this,Kc)}addLayer(t){p(this,di).set(t.pageIndex,t),p(this,Tr)?t.enable():t.disable()}removeLayer(t){p(this,di).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(p(this,ni)!==t&&!(p(this,Pn)&&(await p(this,Pn).promise,!p(this,Pn)))){if(M(this,Pn,Promise.withResolvers()),M(this,ni,t),t===Pt.NONE){this.setEditingState(!1),R(this,ct,KM).call(this),p(this,Pn).resolve();return}this.setEditingState(!0),await R(this,ct,$M).call(this),this.unselectAll();for(const r of p(this,di).values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),p(this,Pn).resolve();return}for(const r of p(this,Xe).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();p(this,Pn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==p(this,ni)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(p(this,Jn)){switch(t){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(n=p(this,jd))==null||n.updateColor(e);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,Hd)||M(this,Hd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of p(this,Jt))r.updateParams(t,e);for(const r of p(this,Jn))r.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var l;for(const c of p(this,Xe).values())c.editorType===t&&c.show(e);(((l=p(this,Hd))==null?void 0:l.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&R(this,ct,yr).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(p(this,Id)!==t){M(this,Id,t);for(const e of p(this,di).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of p(this,Xe).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return p(this,Xe).get(t)}addEditor(t){p(this,Xe).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(p(this,bs)&&clearTimeout(p(this,bs)),M(this,bs,setTimeout(()=>{this.focusMainContainer(),M(this,bs,null)},0))),p(this,Xe).delete(t.id),this.unselect(t),(!t.annotationElementId||!p(this,Fo).has(t.annotationElementId))&&((e=p(this,ua))==null||e.remove(t.id))}addDeletedAnnotationElement(t){p(this,Fo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return p(this,Fo).has(t)}removeDeletedAnnotationElement(t){p(this,Fo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){p(this,hn)!==t&&(M(this,hn,t),t&&R(this,ct,yr).call(this,t.propertiesToUpdate))}updateUI(t){p(this,ct,QM)===t&&R(this,ct,yr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(p(this,Jt).has(t)){p(this,Jt).delete(t),t.unselect(),R(this,ct,Di).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,Jt).add(t),t.select(),R(this,ct,yr).call(this,t.propertiesToUpdate),R(this,ct,Di).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of p(this,Jt))e!==t&&e.unselect();p(this,Jt).clear(),p(this,Jt).add(t),t.select(),R(this,ct,yr).call(this,t.propertiesToUpdate),R(this,ct,Di).call(this,{hasSelectedEditor:!0})}isSelected(t){return p(this,Jt).has(t)}get firstSelectedEditor(){return p(this,Jt).values().next().value}unselect(t){t.unselect(),p(this,Jt).delete(t),R(this,ct,Di).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,Jt).size!==0}get isEnterHandled(){return p(this,Jt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){p(this,Zn).undo(),R(this,ct,Di).call(this,{hasSomethingToUndo:p(this,Zn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:R(this,ct,Zh).call(this)})}redo(){p(this,Zn).redo(),R(this,ct,Di).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,Zn).hasSomethingToRedo(),isEmpty:R(this,ct,Zh).call(this)})}addCommands(t){p(this,Zn).add(t),R(this,ct,Di).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:R(this,ct,Zh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...p(this,Jt)],e=()=>{for(const r of t)r.remove()},n=()=>{for(const r of t)R(this,ct,Lb).call(this,r)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=p(this,hn))==null||t.commitOrRemove()}hasSomethingToControl(){return p(this,hn)||this.hasSelection}selectAll(){for(const t of p(this,Jt))t.commit();R(this,ct,kb).call(this,p(this,Xe).values())}unselectAll(){if(!(p(this,hn)&&(p(this,hn).commitOrRemove(),p(this,ni)!==Pt.NONE))&&this.hasSelection){for(const t of p(this,Jt))t.unselect();p(this,Jt).clear(),R(this,ct,Di).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;p(this,Cr)[0]+=t,p(this,Cr)[1]+=e;const[r,l]=p(this,Cr),c=[...p(this,Jt)],h=1e3;p(this,_s)&&clearTimeout(p(this,_s)),M(this,_s,setTimeout(()=>{M(this,_s,null),p(this,Cr)[0]=p(this,Cr)[1]=0,this.addCommands({cmd:()=>{for(const f of c)p(this,Xe).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)p(this,Xe).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,vs,new Map);for(const t of p(this,Jt))p(this,vs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,vs))return!1;this.disableUserSelect(!1);const t=p(this,vs);M(this,vs,null);let e=!1;for(const[{x:r,y:l,pageIndex:c},h]of t)h.newX=r,h.newY=l,h.newPageIndex=c,e||(e=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const n=(r,l,c,h)=>{if(p(this,Xe).has(r.id)){const f=p(this,di).get(h);f?r._setParentAndPosition(f,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of t)n(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of t)n(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(p(this,vs))for(const n of p(this,vs).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||p(this,Jt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return p(this,hn)===t}getActive(){return p(this,hn)}getMode(){return p(this,ni)}get imageManager(){return qt(this,"imageManager",new Tb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,y=e.rangeCount;g<y;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(g,y,d,m)=>({x:(y-r)/c,y:1-(g+d-n)/l,width:m/c,height:d/l});break;case"180":h=(g,y,d,m)=>({x:1-(g+d-n)/l,y:1-(y+m-r)/c,width:d/l,height:m/c});break;case"270":h=(g,y,d,m)=>({x:1-(y+m-r)/c,y:(g-n)/l,width:m/c,height:d/l});break;default:h=(g,y,d,m)=>({x:(g-n)/l,y:(y-r)/c,width:d/l,height:m/c});break}const f=[];for(let g=0,y=e.rangeCount;g<y;g++){const d=e.getRangeAt(g);if(!d.collapsed)for(const{x:m,y:A,width:x,height:S}of d.getClientRects())x===0||S===0||f.push(h(m,A,x,S))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(p(this,$c)||M(this,$c,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=p(this,$c))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=p(this,$c))==null?void 0:r.get(t.data.id);if(!e)return;const n=p(this,ua).getRawValue(e);n&&(p(this,ni)===Pt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Yc=new WeakMap,hn=new WeakMap,Xe=new WeakMap,di=new WeakMap,Wc=new WeakMap,ua=new WeakMap,$c=new WeakMap,Zn=new WeakMap,xr=new WeakMap,Kc=new WeakMap,Fo=new WeakMap,vs=new WeakMap,Jn=new WeakMap,Io=new WeakMap,Od=new WeakMap,Nd=new WeakMap,Qc=new WeakMap,Fd=new WeakMap,bs=new WeakMap,wr=new WeakMap,Zc=new WeakMap,Sr=new WeakMap,As=new WeakMap,Sm=new WeakMap,Tr=new WeakMap,Id=new WeakMap,Er=new WeakMap,jo=new WeakMap,jd=new WeakMap,Bd=new WeakMap,ni=new WeakMap,Jt=new WeakMap,ha=new WeakMap,Bo=new WeakMap,Hd=new WeakMap,zd=new WeakMap,Cr=new WeakMap,_s=new WeakMap,da=new WeakMap,Vd=new WeakMap,Pn=new WeakMap,ct=new WeakSet,Fg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Cb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of p(this,di).values())if(n.hasTextLayer(t))return n;return null},VM=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=R(this,ct,Fg).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(p(this,As)||M(this,As,new s5(this)),p(this,As).show(n,r,this.direction==="ltr"))},UM=function(){var l,c,h;const t=document.getSelection();if(!t||t.isCollapsed){p(this,ha)&&((l=p(this,As))==null||l.hide(),M(this,ha,null),R(this,ct,Di).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===p(this,ha))return;const r=R(this,ct,Fg).call(this,t).closest(".textLayer");if(!r){p(this,ha)&&((c=p(this,As))==null||c.hide(),M(this,ha,null),R(this,ct,Di).call(this,{hasSelectedText:!1}));return}if((h=p(this,As))==null||h.hide(),M(this,ha,e),R(this,ct,Di).call(this,{hasSelectedText:!0}),!(p(this,ni)!==Pt.HIGHLIGHT&&p(this,ni)!==Pt.NONE)&&(p(this,ni)===Pt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,Sr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=p(this,ni)===Pt.HIGHLIGHT?R(this,ct,Cb).call(this,r):null;f==null||f.toggleDrawing();const g=new AbortController,y=this.combinedSignal(g),d=m=>{m.type==="pointerup"&&m.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),m.type==="pointerup"&&R(this,ct,Ig).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:y}),window.addEventListener("blur",d,{signal:y})}},Ig=function(t=""){p(this,ni)===Pt.HIGHLIGHT?this.highlightSelection(t):p(this,Od)&&R(this,ct,VM).call(this)},GM=function(){document.addEventListener("selectionchange",R(this,ct,UM).bind(this),{signal:this._signal})},qM=function(){if(p(this,wr))return;M(this,wr,new AbortController);const t=this.combinedSignal(p(this,wr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},XM=function(){var t;(t=p(this,wr))==null||t.abort(),M(this,wr,null)},Mb=function(){if(p(this,Er))return;M(this,Er,new AbortController);const t=this.combinedSignal(p(this,Er));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},YM=function(){var t;(t=p(this,Er))==null||t.abort(),M(this,Er,null)},Rb=function(){if(p(this,xr))return;M(this,xr,new AbortController);const t=this.combinedSignal(p(this,xr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Db=function(){var t;(t=p(this,xr))==null||t.abort(),M(this,xr,null)},WM=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Di=function(t){Object.entries(t).some(([n,r])=>p(this,zd)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,zd),t)}),p(this,ni)===Pt.HIGHLIGHT&&t.hasSelectedEditor===!1&&R(this,ct,yr).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},yr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},$M=async function(){if(!p(this,Tr)){M(this,Tr,!0);const t=[];for(const e of p(this,di).values())t.push(e.enable());await Promise.all(t);for(const e of p(this,Xe).values())e.enable()}},KM=function(){if(this.unselectAll(),p(this,Tr)){M(this,Tr,!1);for(const t of p(this,di).values())t.disable();for(const t of p(this,Xe).values())t.disable()}},Lb=function(t){const e=p(this,di).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},QM=function(){let t=null;for(t of p(this,Jt));return t},Zh=function(){if(p(this,Xe).size===0)return!0;if(p(this,Xe).size===1)for(const t of p(this,Xe).values())return t.isEmpty();return!1},kb=function(t){for(const e of p(this,Jt))e.unselect();p(this,Jt).clear();for(const e of t)e.isEmpty()||(p(this,Jt).add(e),e.select());R(this,ct,Di).call(this,{hasSelectedEditor:this.hasSelection})},St(Bc,"TRANSLATE_SMALL",1),St(Bc,"TRANSLATE_BIG",10);let Dl=Bc;var si,xs,ts,Jc,ws,dn,tu,Ss,Wi,fa,Ho,Ts,Mr,hs,Jh,jg;const Li=class Li{constructor(t){P(this,hs);P(this,si,null);P(this,xs,!1);P(this,ts,null);P(this,Jc,null);P(this,ws,null);P(this,dn,null);P(this,tu,!1);P(this,Ss,null);P(this,Wi,null);P(this,fa,null);P(this,Ho,null);P(this,Ts,!1);M(this,Wi,t),M(this,Ts,t._uiManager.useNewAltTextFlow),p(Li,Mr)||M(Li,Mr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Li._l10n??(Li._l10n=t)}async render(){const t=M(this,ts,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=M(this,Jc,document.createElement("span"));t.append(e),p(this,Ts)?(t.classList.add("new"),t.setAttribute("data-l10n-id",p(Li,Mr).missing),e.setAttribute("data-l10n-id",p(Li,Mr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=p(this,Wi)._uiManager._signal;t.addEventListener("contextmenu",Un,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),p(this,Wi)._uiManager.editAltText(p(this,Wi)),p(this,Ts)&&p(this,Wi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,hs,Jh)}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(M(this,tu,!0),r(l))},{signal:n}),await R(this,hs,jg).call(this),t}finish(){p(this,ts)&&(p(this,ts).focus({focusVisible:p(this,tu)}),M(this,tu,!1))}isEmpty(){return p(this,Ts)?p(this,si)===null:!p(this,si)&&!p(this,xs)}hasData(){return p(this,Ts)?p(this,si)!==null||!!p(this,fa):this.isEmpty()}get guessedText(){return p(this,fa)}async setGuessedText(t){p(this,si)===null&&(M(this,fa,t),M(this,Ho,await Li._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),R(this,hs,jg).call(this))}toggleAltTextBadge(t=!1){var e;if(!p(this,Ts)||p(this,si)){(e=p(this,Ss))==null||e.remove(),M(this,Ss,null);return}if(!p(this,Ss)){const n=M(this,Ss,document.createElement("div"));n.className="noAltTextBadge",p(this,Wi).div.append(n)}p(this,Ss).classList.toggle("hidden",!t)}serialize(t){let e=p(this,si);return!t&&p(this,fa)===e&&(e=p(this,Ho)),{altText:e,decorative:p(this,xs),guessedText:p(this,fa),textWithDisclaimer:p(this,Ho)}}get data(){return{altText:p(this,si),decorative:p(this,xs)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(M(this,fa,n),M(this,Ho,r)),!(p(this,si)===t&&p(this,xs)===e)&&(l||(M(this,si,t),M(this,xs,e)),R(this,hs,jg).call(this))}toggle(t=!1){p(this,ts)&&(!t&&p(this,dn)&&(clearTimeout(p(this,dn)),M(this,dn,null)),p(this,ts).disabled=!t)}shown(){p(this,Wi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,hs,Jh)}})}destroy(){var t,e;(t=p(this,ts))==null||t.remove(),M(this,ts,null),M(this,Jc,null),M(this,ws,null),(e=p(this,Ss))==null||e.remove(),M(this,Ss,null)}};si=new WeakMap,xs=new WeakMap,ts=new WeakMap,Jc=new WeakMap,ws=new WeakMap,dn=new WeakMap,tu=new WeakMap,Ss=new WeakMap,Wi=new WeakMap,fa=new WeakMap,Ho=new WeakMap,Ts=new WeakMap,Mr=new WeakMap,hs=new WeakSet,Jh=function(){return p(this,si)&&"added"||p(this,si)===null&&this.guessedText&&"review"||"missing"},jg=async function(){var r,l,c;const t=p(this,ts);if(!t)return;if(p(this,Ts)){if(t.classList.toggle("done",!!p(this,si)),t.setAttribute("data-l10n-id",p(Li,Mr)[p(this,hs,Jh)]),(r=p(this,Jc))==null||r.setAttribute("data-l10n-id",p(Li,Mr)[`${p(this,hs,Jh)}-label`]),!p(this,si)){(l=p(this,ws))==null||l.remove();return}}else{if(!p(this,si)&&!p(this,xs)){t.classList.remove("done"),(c=p(this,ws))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=p(this,ws);if(!e){M(this,ws,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${p(this,Wi).id}`;const h=100,f=p(this,Wi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(p(this,dn)),M(this,dn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{M(this,dn,setTimeout(()=>{M(this,dn,null),p(this,ws).classList.add("show"),p(this,Wi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),t.addEventListener("mouseleave",()=>{var g;p(this,dn)&&(clearTimeout(p(this,dn)),M(this,dn,null)),(g=p(this,ws))==null||g.classList.remove("show")},{signal:f})}p(this,xs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=p(this,si)),e.parentNode||t.append(e);const n=p(this,Wi).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},P(Li,Mr,null),St(Li,"_l10n",null);let mm=Li;var zo,es,be,eu,Vo,fi,Uo,Rr,Ud,Go,Dr,Gd,qo,pa,Es,iu,nu,On,qd,Tm,Nt,Pb,Xd,Ob,Nb,ZM,JM,Fb,Ib,jb,tR,Bb,eR,iR,nR,Hb,td;const Kt=class Kt{constructor(t){P(this,Nt);P(this,zo,null);P(this,es,null);P(this,be,null);P(this,eu,!1);P(this,Vo,!1);P(this,fi,null);P(this,Uo,null);P(this,Rr,null);P(this,Ud,"");P(this,Go,!1);P(this,Dr,null);P(this,Gd,!1);P(this,qo,!1);P(this,pa,!1);P(this,Es,null);P(this,iu,0);P(this,nu,0);P(this,On,null);St(this,"_editToolbar",null);St(this,"_initialOptions",Object.create(null));St(this,"_initialData",null);St(this,"_isVisible",!0);St(this,"_uiManager",null);St(this,"_focusEventsAllowed",!0);P(this,qd,!1);P(this,Tm,Kt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Kt.prototype._resizeWithKeyboard,e=Dl.TRANSLATE_SMALL,n=Dl.TRANSLATE_BIG;return qt(this,"_resizerKeyboardManager",new $f([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Kt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new l5({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Kt._l10n??(Kt._l10n=t),Kt._l10nResizer||(Kt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Kt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Kt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ge("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,qd)}set _isDraggable(t){var e;M(this,qd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,Tm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):R(this,Nt,td).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(p(this,Go)?M(this,Go,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[l,c]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){R(this,Nt,Pb).call(this,this.parentDimensions,t,e)}translateInPage(t,e){p(this,Dr)||M(this,Dr,[this.x,this.y]),R(this,Nt,Pb).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){p(this,Dr)||M(this,Dr,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=t/n,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!p(this,Dr)&&(p(this,Dr)[0]!==this.x||p(this,Dr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Kt,r=n/t,l=n/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:r,y:l,width:c,height:h}=this;if(c*=e,h*=n,r*=e,l*=n,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),l=Math.max(0,Math.min(n-h,l));break;case 90:r=Math.max(0,Math.min(e-h,r)),l=Math.min(n,Math.max(c,l));break;case 180:r=Math.min(e,Math.max(c,r)),l=Math.min(n,Math.max(h,l));break;case 270:r=Math.min(e,Math.max(h,r)),l=Math.max(0,Math.min(n-c,l));break}this.x=r/=e,this.y=l/=n;const[f,g]=this.getBaseTranslation();r+=f,l+=g;const{style:y}=this.div;y.left=`${(100*r).toFixed(2)}%`,y.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return R(n=Kt,Xd,Ob).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return R(n=Kt,Xd,Ob).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,p(this,Vo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),l=!p(this,Vo)&&e.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!p(this,Vo)&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=p(this,be))==null||t.finish()}async addEditToolbar(){return this._editToolbar||p(this,qo)?this._editToolbar:(this._editToolbar=new wb(this),this.div.append(this._editToolbar.render()),p(this,be)&&await this._editToolbar.addAltText(p(this,be)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=p(this,be))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){p(this,be)||(mm.initialize(Kt._l10n),M(this,be,new mm(this)),p(this,zo)&&(p(this,be).data=p(this,zo),M(this,zo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=p(this,be))==null?void 0:t.data}set altTextData(t){p(this,be)&&(p(this,be).data=t)}get guessedAltText(){var t;return(t=p(this,be))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=p(this,be))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=p(this,be))==null?void 0:e.serialize(t)}hasAltText(){return!!p(this,be)&&!p(this,be).isEmpty()}hasAltTextData(){var t;return((t=p(this,be))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=p(this,eu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),R(this,Nt,Bb).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),gm(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Fi.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(M(this,Go,!0),this._isDraggable){R(this,Nt,tR).call(this,t);return}R(this,Nt,jb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){p(this,Es)&&clearTimeout(p(this,Es)),M(this,Es,setTimeout(()=>{var t;M(this,Es,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,g=t/r,y=e/r,d=this.x*l,m=this.y*c,A=this.width*l,x=this.height*c;switch(n){case 0:return[d+g+h,c-m-y-x+f,d+g+A+h,c-m-y+f];case 90:return[d+y+h,c-m+g+f,d+y+x+h,c-m+g+A+f];case 180:return[d-g-A+h,c-m+y+f,d-g+h,c-m+y+x+f];case 270:return[d-y-x+h,c-m-g-A+f,d-y+h,c-m-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,l,c]=t,h=l-n,f=c-r;switch(this.rotation){case 0:return[n,e-c,h,f];case 90:return[n,e-r,f,h];case 180:return[l,e-r,h,f];case 270:return[l,e-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){M(this,qo,!0)}disableEditMode(){M(this,qo,!1)}isInEditMode(){return p(this,qo)}shouldGetKeyboardEvents(){return p(this,pa)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){R(this,Nt,Bb).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ge("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,M(r,zo,t.accessibilityData);const[l,c]=r.pageDimensions,[h,f,g,y]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/l,r.y=f/c,r.width=g/l,r.height=y/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=p(this,Rr))==null||t.abort(),M(this,Rr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(this,Es)&&(clearTimeout(p(this,Es)),M(this,Es,null)),R(this,Nt,td).call(this),this.removeEditToolbar(),p(this,On)){for(const e of p(this,On).values())clearTimeout(e);M(this,On,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(R(this,Nt,ZM).call(this),p(this,fi).classList.remove("hidden"),gm(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),M(this,Uo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=p(this,fi).children;if(!p(this,es)){M(this,es,Array.from(e));const c=R(this,Nt,eR).bind(this),h=R(this,Nt,iR).bind(this),f=this._uiManager._signal;for(const g of p(this,es)){const y=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:f}),g.addEventListener("blur",h,{signal:f}),g.addEventListener("focus",R(this,Nt,nR).bind(this,y),{signal:f}),g.setAttribute("data-l10n-id",Kt._l10nResizer[y])}}const n=p(this,es)[0];let r=0;for(const c of e){if(c===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(p(this,es).length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)p(this,fi).append(p(this,fi).firstChild);else if(l>r)for(let h=0;h<l-r;h++)p(this,fi).firstChild.before(p(this,fi).lastChild);let c=0;for(const h of e){const g=p(this,es)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Kt._l10nResizer[g])}}R(this,Nt,Hb).call(this,0),M(this,pa,!0),p(this,fi).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){p(this,pa)&&R(this,Nt,Ib).call(this,p(this,Ud),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){R(this,Nt,td).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(n=p(this,be))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,r,l;(t=p(this,fi))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=p(this,be))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return p(this,Gd)}set isEditing(t){M(this,Gd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){M(this,Vo,!0);const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){p(this,On)||M(this,On,new Map);const{action:n}=t;let r=p(this,On).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),p(this,On).delete(n),p(this,On).size===0&&M(this,On,null)},Kt._telemetryTimeout),p(this,On).set(n,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),M(this,eu,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,eu,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};zo=new WeakMap,es=new WeakMap,be=new WeakMap,eu=new WeakMap,Vo=new WeakMap,fi=new WeakMap,Uo=new WeakMap,Rr=new WeakMap,Ud=new WeakMap,Go=new WeakMap,Dr=new WeakMap,Gd=new WeakMap,qo=new WeakMap,pa=new WeakMap,Es=new WeakMap,iu=new WeakMap,nu=new WeakMap,On=new WeakMap,qd=new WeakMap,Tm=new WeakMap,Nt=new WeakSet,Pb=function([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this.fixAndSetPosition()},Xd=new WeakSet,Ob=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Nb=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},ZM=function(){if(p(this,fi))return;M(this,fi,document.createElement("div")),p(this,fi).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");p(this,fi).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",R(this,Nt,JM).bind(this,n),{signal:e}),r.addEventListener("contextmenu",Un,{signal:e}),r.tabIndex=-1}this.div.prepend(p(this,fi))},JM=function(t,e){var x;e.preventDefault();const{isMac:n}=Fi.platform;if(e.button!==0||e.ctrlKey&&n)return;(x=p(this,be))==null||x.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",R(this,Nt,Ib).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Un,{signal:c});const h=this.x,f=this.y,g=this.width,y=this.height,d=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var S;l.abort(),this.parent.togglePointerEvents(!0),(S=p(this,be))==null||S.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=m,R(this,Nt,Fb).call(this,h,f,g,y)};window.addEventListener("pointerup",A,{signal:c}),window.addEventListener("blur",A,{signal:c})},Fb=function(t,e,n,r){const l=this.x,c=this.y,h=this.width,f=this.height;l===t&&c===e&&h===n&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=l,this.y=c;const[g,y]=this.parentDimensions;this.setDims(g*h,y*f),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=t,this.y=e;const[g,y]=this.parentDimensions;this.setDims(g*n,y*r),this.fixAndSetPosition()},mustExec:!0})},Ib=function(t,e){const[n,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,g=Kt.MIN_SIZE/n,y=Kt.MIN_SIZE/r,d=Y=>Math.round(Y*1e4)/1e4,m=R(this,Nt,Nb).call(this,this.rotation),A=(Y,it)=>[m[0]*Y+m[2]*it,m[1]*Y+m[3]*it],x=R(this,Nt,Nb).call(this,360-this.rotation),S=(Y,it)=>[x[0]*Y+x[2]*it,x[1]*Y+x[3]*it];let C,E,O=!1,L=!1;switch(t){case"topLeft":O=!0,C=(Y,it)=>[0,0],E=(Y,it)=>[Y,it];break;case"topMiddle":C=(Y,it)=>[Y/2,0],E=(Y,it)=>[Y/2,it];break;case"topRight":O=!0,C=(Y,it)=>[Y,0],E=(Y,it)=>[0,it];break;case"middleRight":L=!0,C=(Y,it)=>[Y,it/2],E=(Y,it)=>[0,it/2];break;case"bottomRight":O=!0,C=(Y,it)=>[Y,it],E=(Y,it)=>[0,0];break;case"bottomMiddle":C=(Y,it)=>[Y/2,it],E=(Y,it)=>[Y/2,0];break;case"bottomLeft":O=!0,C=(Y,it)=>[0,it],E=(Y,it)=>[Y,0];break;case"middleLeft":L=!0,C=(Y,it)=>[0,it/2],E=(Y,it)=>[Y,it/2];break}const _=C(h,f),w=E(h,f);let D=A(...w);const N=d(l+D[0]),F=d(c+D[1]);let j=1,K=1,[Z,rt]=this.screenToPageTranslation(e.movementX,e.movementY);if([Z,rt]=S(Z/n,rt/r),O){const Y=Math.hypot(h,f);j=K=Math.max(Math.min(Math.hypot(w[0]-_[0]-Z,w[1]-_[1]-rt)/Y,1/h,1/f),g/h,y/f)}else L?j=Math.max(g,Math.min(1,Math.abs(w[0]-_[0]-Z)))/h:K=Math.max(y,Math.min(1,Math.abs(w[1]-_[1]-rt)))/f;const ot=d(h*j),at=d(f*K);D=A(...E(ot,at));const dt=N-D[0],U=F-D[1];this.width=ot,this.height=at,this.x=dt,this.y=U,this.setDims(n*ot,r*at),this.fixAndSetPosition()},jb=function(t){const{isMac:e}=Fi.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},tR=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),M(this,iu,t.clientX),M(this,nu,t.clientY);const c=h=>{const{clientX:f,clientY:g}=h,[y,d]=this.screenToPageTranslation(f-p(this,iu),g-p(this,nu));M(this,iu,f),M(this,nu,g),this._uiManager.dragSelectedEditors(y,d)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{n.abort(),e&&this.div.classList.remove("moving"),M(this,Go,!1),this._uiManager.endDragSession()||R(this,Nt,jb).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},Bb=function(){if(p(this,Rr)||!this.div)return;M(this,Rr,new AbortController);const t=this._uiManager.combinedSignal(p(this,Rr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},eR=function(t){Kt._resizerKeyboardManager.exec(this,t)},iR=function(t){var e;p(this,pa)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==p(this,fi)&&R(this,Nt,td).call(this)},nR=function(t){M(this,Ud,p(this,pa)?t:"")},Hb=function(t){if(p(this,es))for(const e of p(this,es))e.tabIndex=t},td=function(){if(M(this,pa,!1),R(this,Nt,Hb).call(this,-1),p(this,Uo)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=p(this,Uo);R(this,Nt,Fb).call(this,t,e,n,r),M(this,Uo,null)}},P(Kt,Xd),St(Kt,"_l10n",null),St(Kt,"_l10nResizer",null),St(Kt,"_borderLineWidth",-1),St(Kt,"_colorManager",new Eb),St(Kt,"_zIndex",1),St(Kt,"_telemetryTimeout",1e3);let ee=Kt;class l5 extends ee{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fE=3285377520,kn=4294901760,ms=65535;class sR{constructor(t){this.h1=t?t&4294967295:fE,this.h2=t?t&4294967295:fE}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,C=t.length;S<C;S++){const E=t.charCodeAt(S);E<=255?e[n++]=E:(e[n++]=E>>>8,e[n++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,c=new Uint32Array(e.buffer,0,r);let h=0,f=0,g=this.h1,y=this.h2;const d=3432918353,m=461845907,A=d&ms,x=m&ms;for(let S=0;S<r;S++)S&1?(h=c[S],h=h*d&kn|h*A&ms,h=h<<15|h>>>17,h=h*m&kn|h*x&ms,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(f=c[S],f=f*d&kn|f*A&ms,f=f<<15|f>>>17,f=f*m&kn|f*x&ms,y^=f,y=y<<13|y>>>19,y=y*5+3864292196);switch(h=0,l){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*d&kn|h*A&ms,h=h<<15|h>>>17,h=h*m&kn|h*x&ms,r&1?g^=h:y^=h}this.h1=g,this.h2=y}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&kn|t*36045&ms,e=e*4283543511&kn|((e<<16|t>>>16)*2950163797&kn)>>>16,t^=e>>>1,t=t*444984403&kn|t*60499&ms,e=e*3301882366&kn|((e<<16|t>>>16)*3120437893&kn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const zb=Object.freeze({map:null,hash:"",transfer:void 0});var Xo,Yo,ai,Em,aR;class E_{constructor(){P(this,Em);P(this,Xo,!1);P(this,Yo,null);P(this,ai,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=p(this,ai).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return p(this,ai).get(t)}remove(t){if(p(this,ai).delete(t),p(this,ai).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of p(this,ai).values())if(e instanceof ee)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=p(this,ai).get(t);let r=!1;if(n!==void 0)for(const[l,c]of Object.entries(e))n[l]!==c&&(r=!0,n[l]=c);else r=!0,p(this,ai).set(t,e);r&&R(this,Em,aR).call(this),e instanceof ee&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return p(this,ai).has(t)}getAll(){return p(this,ai).size>0?A_(p(this,ai)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return p(this,ai).size}resetModified(){p(this,Xo)&&(M(this,Xo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rR(this)}get serializable(){if(p(this,ai).size===0)return zb;const t=new Map,e=new sR,n=[],r=Object.create(null);let l=!1;for(const[c,h]of p(this,ai)){const f=h instanceof ee?h.serialize(!1,r):h;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:zb}get editorStats(){let t=null;const e=new Map;for(const n of p(this,ai).values()){if(!(n instanceof ee))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let g=c.get(h);g||(g=new Map,c.set(h,g));const y=g.get(f)??0;g.set(f,y+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){M(this,Yo,null)}get modifiedIds(){if(p(this,Yo))return p(this,Yo);const t=[];for(const e of p(this,ai).values())!(e instanceof ee)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return M(this,Yo,{ids:new Set(t),hash:t.join(",")})}}Xo=new WeakMap,Yo=new WeakMap,ai=new WeakMap,Em=new WeakSet,aR=function(){p(this,Xo)||(M(this,Xo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Yd;class rR extends E_{constructor(e){super();P(this,Yd);const{map:n,hash:r,transfer:l}=e.serializable,c=structuredClone(n,l?{transfer:l}:null);M(this,Yd,{map:c,hash:r,transfer:l})}get print(){ge("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,Yd)}get modifiedIds(){return qt(this,"modifiedIds",{ids:new Set,hash:""})}}Yd=new WeakMap;var su;class c5{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){P(this,su,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),p(this,su).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||p(this,su).has(t.loadedName))){if(Ke(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:l}=t,c=new FontFace(n,r,l);this.addNativeFontFace(c);try{await c.load(),p(this,su).add(n),e==null||e(t)}catch{Ft(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ge("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ft(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ei||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),qt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ke(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(_,w){return _.charCodeAt(w)<<24|_.charCodeAt(w+1)<<16|_.charCodeAt(w+2)<<8|_.charCodeAt(w+3)&255}function r(_,w,D,N){const F=_.substring(0,w),j=_.substring(w+D);return F+N+j}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let g=0;function y(_,w){if(++g>30){Ft("Load test font never loaded."),w();return}if(f.font="30px "+_,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(y.bind(null,_,w))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=r(m,976,d.length,d);const x=16,S=1482184792;let C=n(m,x);for(l=0,c=d.length-3;l<c;l+=4)C=C-S+n(d,l)|0;l<d.length&&(C=C-S+n(d+"XXX",l)|0),m=r(m,x,4,YI(C));const E=`url(data:font/opentype;base64,${btoa(m)});`,O=`@font-face {font-family:"${d}";src:${E}}`;this.insertRule(O);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const _ of[t.loadedName,d]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=_,L.append(w)}this._document.body.append(L),y(d,()=>{L.remove(),e.complete()})}}su=new WeakMap;class u5{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${JI(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(l){Ft(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(l,c){};const r=[];for(let l=0,c=n.length;l<c;)switch(n[l++]){case aa.BEZIER_CURVE_TO:{const[h,f,g,y,d,m]=n.slice(l,l+6);r.push(A=>A.bezierCurveTo(h,f,g,y,d,m)),l+=6}break;case aa.MOVE_TO:{const[h,f]=n.slice(l,l+2);r.push(g=>g.moveTo(h,f)),l+=2}break;case aa.LINE_TO:{const[h,f]=n.slice(l,l+2);r.push(g=>g.lineTo(h,f)),l+=2}break;case aa.QUADRATIC_CURVE_TO:{const[h,f,g,y]=n.slice(l,l+4);r.push(d=>d.quadraticCurveTo(h,f,g,y)),l+=4}break;case aa.RESTORE:r.push(h=>h.restore());break;case aa.SAVE:r.push(h=>h.save());break;case aa.SCALE:Ke(r.length===2,"Scale command is only valid at the third position.");break;case aa.TRANSFORM:{const[h,f,g,y,d,m]=n.slice(l,l+6);r.push(A=>A.transform(h,f,g,y,d,m)),l+=6}break;case aa.TRANSLATE:{const[h,f]=n.slice(l,l+2);r.push(g=>g.translate(h,f)),l+=2}break}return this.compiledGlyphs[e]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,g=r.length;f<g;f++)r[f](c)}}}var Wd;class oR{constructor({enableHWA:t=!1}){P(this,Wd,!1);M(this,Wd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!p(this,Wd)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ge("Abstract method `_createCanvas` called.")}}Wd=new WeakMap;class h5 extends oR{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class lR{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class cR extends lR{async _fetch(t){const e=await Wm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Ym(e)}}class uR{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,l){return"none"}destroy(t=!1){}}var Wo,$o,Cs,ga,_i,Cm,Ko,ht,bi,Ec,Cc,Bg,Mc,hR,Vb,Rc,ed,id,Ub,nd;class d5 extends uR{constructor({docId:e,ownerDocument:n=globalThis.document}){super();P(this,ht);P(this,Wo);P(this,$o);P(this,Cs);P(this,ga);P(this,_i);P(this,Cm);P(this,Ko,0);M(this,ga,e),M(this,_i,n)}addFilter(e){if(!e)return"none";let n=p(this,ht,bi).get(e);if(n)return n;const[r,l,c]=R(this,ht,Bg).call(this,e),h=e.length===1?r:`${r}${l}${c}`;if(n=p(this,ht,bi).get(h),n)return p(this,ht,bi).set(e,n),n;const f=`g_${p(this,ga)}_transfer_map_${Ri(this,Ko)._++}`,g=R(this,ht,Mc).call(this,f);p(this,ht,bi).set(e,g),p(this,ht,bi).set(h,g);const y=R(this,ht,Rc).call(this,f);return R(this,ht,id).call(this,r,l,c,y),g}addHCMFilter(e,n){var x;const r=`${e}-${n}`,l="base";let c=p(this,ht,Ec).get(l);if((c==null?void 0:c.key)===r||(c?((x=c.filter)==null||x.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},p(this,ht,Ec).set(l,c)),!e||!n))return c.url;const h=R(this,ht,nd).call(this,e);e=vt.makeHexColor(...h);const f=R(this,ht,nd).call(this,n);if(n=vt.makeHexColor(...f),p(this,ht,Cc).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return c.url;const g=new Array(256);for(let S=0;S<=255;S++){const C=S/255;g[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const y=g.join(","),d=`g_${p(this,ga)}_hcm_filter`,m=c.filter=R(this,ht,Rc).call(this,d);R(this,ht,id).call(this,y,y,y,m),R(this,ht,Vb).call(this,m);const A=(S,C)=>{const E=h[S]/255,O=f[S]/255,L=new Array(C+1);for(let _=0;_<=C;_++)L[_]=E+_/C*(O-E);return L.join(",")};return R(this,ht,id).call(this,A(0,5),A(1,5),A(2,5),m),c.url=R(this,ht,Mc).call(this,d),c.url}addAlphaFilter(e){let n=p(this,ht,bi).get(e);if(n)return n;const[r]=R(this,ht,Bg).call(this,[e]),l=`alpha_${r}`;if(n=p(this,ht,bi).get(l),n)return p(this,ht,bi).set(e,n),n;const c=`g_${p(this,ga)}_alpha_map_${Ri(this,Ko)._++}`,h=R(this,ht,Mc).call(this,c);p(this,ht,bi).set(e,h),p(this,ht,bi).set(l,h);const f=R(this,ht,Rc).call(this,c);return R(this,ht,Ub).call(this,r,f),h}addLuminosityFilter(e){let n=p(this,ht,bi).get(e||"luminosity");if(n)return n;let r,l;if(e?([r]=R(this,ht,Bg).call(this,[e]),l=`luminosity_${r}`):l="luminosity",n=p(this,ht,bi).get(l),n)return p(this,ht,bi).set(e,n),n;const c=`g_${p(this,ga)}_luminosity_map_${Ri(this,Ko)._++}`,h=R(this,ht,Mc).call(this,c);p(this,ht,bi).set(e,h),p(this,ht,bi).set(l,h);const f=R(this,ht,Rc).call(this,c);return R(this,ht,hR).call(this,f),e&&R(this,ht,Ub).call(this,r,f),h}addHighlightHCMFilter(e,n,r,l,c){var O;const h=`${n}-${r}-${l}-${c}`;let f=p(this,ht,Ec).get(e);if((f==null?void 0:f.key)===h||(f?((O=f.filter)==null||O.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},p(this,ht,Ec).set(e,f)),!n||!r))return f.url;const[g,y]=[n,r].map(R(this,ht,nd).bind(this));let d=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),m=Math.round(.2126*y[0]+.7152*y[1]+.0722*y[2]),[A,x]=[l,c].map(R(this,ht,nd).bind(this));m<d&&([d,m,A,x]=[m,d,x,A]),p(this,ht,Cc).style.color="";const S=(L,_,w)=>{const D=new Array(256),N=(m-d)/w,F=L/255,j=(_-L)/(255*w);let K=0;for(let Z=0;Z<=w;Z++){const rt=Math.round(d+Z*N),ot=F+Z*j;for(let at=K;at<=rt;at++)D[at]=ot;K=rt+1}for(let Z=K;Z<256;Z++)D[Z]=D[K-1];return D.join(",")},C=`g_${p(this,ga)}_hcm_${e}_filter`,E=f.filter=R(this,ht,Rc).call(this,C);return R(this,ht,Vb).call(this,E),R(this,ht,id).call(this,S(A[0],x[0],5),S(A[1],x[1],5),S(A[2],x[2],5),E),f.url=R(this,ht,Mc).call(this,C),f.url}destroy(e=!1){e&&p(this,ht,Ec).size!==0||(p(this,Cs)&&(p(this,Cs).parentNode.parentNode.remove(),M(this,Cs,null)),p(this,$o)&&(p(this,$o).clear(),M(this,$o,null)),M(this,Ko,0))}}Wo=new WeakMap,$o=new WeakMap,Cs=new WeakMap,ga=new WeakMap,_i=new WeakMap,Cm=new WeakMap,Ko=new WeakMap,ht=new WeakSet,bi=function(){return p(this,$o)||M(this,$o,new Map)},Ec=function(){return p(this,Cm)||M(this,Cm,new Map)},Cc=function(){if(!p(this,Cs)){const e=p(this,_i).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=p(this,_i).createElementNS(oa,"svg");r.setAttribute("width",0),r.setAttribute("height",0),M(this,Cs,p(this,_i).createElementNS(oa,"defs")),e.append(r),r.append(p(this,Cs)),p(this,_i).body.append(e)}return p(this,Cs)},Bg=function(e){if(e.length===1){const g=e[0],y=new Array(256);for(let m=0;m<256;m++)y[m]=g[m]/255;const d=y.join(",");return[d,d,d]}const[n,r,l]=e,c=new Array(256),h=new Array(256),f=new Array(256);for(let g=0;g<256;g++)c[g]=n[g]/255,h[g]=r[g]/255,f[g]=l[g]/255;return[c.join(","),h.join(","),f.join(",")]},Mc=function(e){if(p(this,Wo)===void 0){M(this,Wo,"");const n=p(this,_i).URL;n!==p(this,_i).baseURI&&($m(n)?Ft('#createUrl: ignore "data:"-URL for performance reasons.'):M(this,Wo,n.split("#",1)[0]))}return`url(${p(this,Wo)}#${e})`},hR=function(e){const n=p(this,_i).createElementNS(oa,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},Vb=function(e){const n=p(this,_i).createElementNS(oa,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Rc=function(e){const n=p(this,_i).createElementNS(oa,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),p(this,ht,Cc).append(n),n},ed=function(e,n,r){const l=p(this,_i).createElementNS(oa,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},id=function(e,n,r,l){const c=p(this,_i).createElementNS(oa,"feComponentTransfer");l.append(c),R(this,ht,ed).call(this,c,"feFuncR",e),R(this,ht,ed).call(this,c,"feFuncG",n),R(this,ht,ed).call(this,c,"feFuncB",r)},Ub=function(e,n){const r=p(this,_i).createElementNS(oa,"feComponentTransfer");n.append(r),R(this,ht,ed).call(this,r,"feFuncA",e)},nd=function(e){return p(this,ht,Cc).style.color=e,T_(getComputedStyle(p(this,ht,Cc)).getPropertyValue("color"))};class dR{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class fR extends dR{async _fetch(t){const e=await Wm(t,"arraybuffer");return new Uint8Array(e)}}if(Ei){var Gb=Promise.withResolvers(),bd=null;(async()=>{const t=await Ag(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Ag(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Ag(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Ag(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:e,https:n,url:r,canvas:l,path2d:c}))})().then(t=>{bd=t,Gb.resolve()},t=>{Ft(`loadPackages: ${t}`),bd=new Map,Gb.resolve()})}class Qr{static get promise(){return Gb.promise}static get(t){return bd==null?void 0:bd.get(t)}}async function pR(a){const e=await Qr.get("fs").promises.readFile(a);return new Uint8Array(e)}class f5 extends uR{}class p5 extends oR{_createCanvas(t,e){return Qr.get("canvas").createCanvas(t,e)}}class g5 extends lR{async _fetch(t){return pR(t)}}class m5 extends dR{async _fetch(t){return pR(t)}}const ki={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qb(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),a.clip(r)}class C_{getPattern(){ge("Abstract method `getPattern` called.")}}class y5 extends C_{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let l;if(r===ki.STROKE||r===ki.FILL){const c=e.current.getClippedPathBoundingBox(r,_e(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,g=e.cachedCanvases.getCanvas("pattern",h,f),y=g.context;y.clearRect(0,0,y.canvas.width,y.canvas.height),y.beginPath(),y.rect(0,0,y.canvas.width,y.canvas.height),y.translate(-c[0],-c[1]),n=vt.transform(n,[1,0,0,1,c[0],c[1]]),y.transform(...e.baseTransform),this.matrix&&y.transform(...this.matrix),qb(y,this._bbox),y.fillStyle=this._createGradient(y),y.fill(),l=t.createPattern(g.canvas,"no-repeat");const d=new DOMMatrix(n);l.setTransform(d)}else qb(t,this._bbox),l=this._createGradient(t);return l}}function Uv(a,t,e,n,r,l,c,h){const f=t.coords,g=t.colors,y=a.data,d=a.width*4;let m;f[e+1]>f[n+1]&&(m=e,e=n,n=m,m=l,l=c,c=m),f[n+1]>f[r+1]&&(m=n,n=r,r=m,m=c,c=h,h=m),f[e+1]>f[n+1]&&(m=e,e=n,n=m,m=l,l=c,c=m);const A=(f[e]+t.offsetX)*t.scaleX,x=(f[e+1]+t.offsetY)*t.scaleY,S=(f[n]+t.offsetX)*t.scaleX,C=(f[n+1]+t.offsetY)*t.scaleY,E=(f[r]+t.offsetX)*t.scaleX,O=(f[r+1]+t.offsetY)*t.scaleY;if(x>=O)return;const L=g[l],_=g[l+1],w=g[l+2],D=g[c],N=g[c+1],F=g[c+2],j=g[h],K=g[h+1],Z=g[h+2],rt=Math.round(x),ot=Math.round(O);let at,dt,U,Y,it,bt,xt,H;for(let q=rt;q<=ot;q++){if(q<C){const ut=q<x?0:(x-q)/(x-C);at=A-(A-S)*ut,dt=L-(L-D)*ut,U=_-(_-N)*ut,Y=w-(w-F)*ut}else{let ut;q>O?ut=1:C===O?ut=0:ut=(C-q)/(C-O),at=S-(S-E)*ut,dt=D-(D-j)*ut,U=N-(N-K)*ut,Y=F-(F-Z)*ut}let J;q<x?J=0:q>O?J=1:J=(x-q)/(x-O),it=A-(A-E)*J,bt=L-(L-j)*J,xt=_-(_-K)*J,H=w-(w-Z)*J;const st=Math.round(Math.min(at,it)),ft=Math.round(Math.max(at,it));let pt=d*q+st*4;for(let ut=st;ut<=ft;ut++)J=(at-ut)/(at-it),J<0?J=0:J>1&&(J=1),y[pt++]=dt-(dt-bt)*J|0,y[pt++]=U-(U-xt)*J|0,y[pt++]=Y-(Y-H)*J|0,y[pt++]=255}}function v5(a,t,e){const n=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(n.length/h)-1,g=h-1;for(l=0;l<f;l++){let y=l*h;for(let d=0;d<g;d++,y++)Uv(a,e,n[y],n[y+1],n[y+h],r[y],r[y+1],r[y+h]),Uv(a,e,n[y+h+1],n[y+1],n[y+h],r[y+h+1],r[y+1],r[y+h])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)Uv(a,e,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class b5 extends C_{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-h,y=Math.ceil(this._bounds[3])-f,d=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(y*t[1]*1.1)),3e3),A=g/d,x=y/m,S={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/x},C=d+4,E=m+4,O=n.getCanvas("mesh",C,E),L=O.context,_=L.createImageData(d,m);if(e){const D=_.data;for(let N=0,F=D.length;N<F;N+=4)D[N]=e[0],D[N+1]=e[1],D[N+2]=e[2],D[N+3]=255}for(const D of this._figures)v5(_,D,S);return L.putImageData(_,2,2),{canvas:O.canvas,offsetX:h-2*A,offsetY:f-2*x,scaleX:A,scaleY:x}}getPattern(t,e,n,r){qb(t,this._bbox);let l;if(r===ki.SHADING)l=vt.singularValueDecompose2dScale(_e(t));else if(l=vt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=vt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,r===ki.SHADING?null:this._background,e.cachedCanvases);return r!==ki.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class A5 extends C_{getPattern(){return"hotpink"}}function _5(a){switch(a[0]){case"RadialAxial":return new y5(a);case"Mesh":return new b5(a);case"Dummy":return new A5}throw new Error(`Unknown IR type: ${a[0]}`)}const pE={COLORED:1,UNCOLORED:2},Mm=class Mm{constructor(t,e,n,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),qm("TilingType: "+l);const y=e[0],d=e[1],m=e[2],A=e[3],x=m-y,S=A-d,C=vt.singularValueDecompose2dScale(this.matrix),E=vt.singularValueDecompose2dScale(this.baseTransform),O=C[0]*E[0],L=C[1]*E[1];let _=x,w=S,D=!1,N=!1;const F=Math.ceil(f*O),j=Math.ceil(g*L),K=Math.ceil(x*O),Z=Math.ceil(S*L);F>=K?_=f:D=!0,j>=Z?w=g:N=!0;const rt=this.getSizeAndScale(_,this.ctx.canvas.width,O),ot=this.getSizeAndScale(w,this.ctx.canvas.height,L),at=t.cachedCanvases.getCanvas("pattern",rt.size,ot.size),dt=at.context,U=h.createCanvasGraphics(dt);if(U.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(U,r,c),dt.translate(-rt.scale*y,-ot.scale*d),U.transform(rt.scale,0,0,ot.scale,0,0),dt.save(),this.clipBbox(U,y,d,m,A),U.baseTransform=_e(U.ctx),U.executeOperatorList(n),U.endDrawing(),dt.restore(),D||N){const Y=at.canvas;D&&(_=f),N&&(w=g);const it=this.getSizeAndScale(_,this.ctx.canvas.width,O),bt=this.getSizeAndScale(w,this.ctx.canvas.height,L),xt=it.size,H=bt.size,q=t.cachedCanvases.getCanvas("pattern-workaround",xt,H),J=q.context,st=D?Math.floor(x/f):0,ft=N?Math.floor(S/g):0;for(let pt=0;pt<=st;pt++)for(let ut=0;ut<=ft;ut++)J.drawImage(Y,xt*pt,H*ut,xt,H,0,0,xt,H);return{canvas:q.canvas,scaleX:it.scale,scaleY:bt.scale,offsetX:y,offsetY:d}}return{canvas:at.canvas,scaleX:rt.scale,scaleY:ot.scale,offsetX:y,offsetY:d}}getSizeAndScale(t,e,n){const r=Math.max(Mm.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,r,l){const c=r-e,h=l-n;t.ctx.rect(e,n,c,h),t.current.updateRectMinMax(_e(t.ctx),[e,n,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,l=t.current;switch(e){case pE.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case pE.UNCOLORED:const h=vt.makeHexColor(n[0],n[1],n[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new XI(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,r){let l=n;r!==ki.SHADING&&(l=vt.transform(l,e.baseTransform),this.matrix&&(l=vt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};St(Mm,"MAX_PATTERN_SIZE",3e3);let Xb=Mm;function x5({src:a,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Fi.isLittleEndian?4278190080:255,[f,g]=c?[l,h]:[h,l],y=n>>3,d=n&7,m=a.length;e=new Uint32Array(e.buffer);let A=0;for(let x=0;x<r;x++){for(const C=t+y;t<C;t++){const E=t<m?a[t]:255;e[A++]=E&128?g:f,e[A++]=E&64?g:f,e[A++]=E&32?g:f,e[A++]=E&16?g:f,e[A++]=E&8?g:f,e[A++]=E&4?g:f,e[A++]=E&2?g:f,e[A++]=E&1?g:f}if(d===0)continue;const S=t<m?a[t++]:255;for(let C=0;C<d;C++)e[A++]=S&1<<7-C?g:f}return{srcPos:t,destPos:A}}const gE=16,mE=100,w5=15,yE=10,vE=1e3,Qi=16;function S5(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(n,r){t.translate(n,r),this.__originalTranslate(n,r)},a.scale=function(n,r){t.scale(n,r),this.__originalScale(n,r)},a.transform=function(n,r,l,c,h,f){t.transform(n,r,l,c,h,f),this.__originalTransform(n,r,l,c,h,f)},a.setTransform=function(n,r,l,c,h,f){t.setTransform(n,r,l,c,h,f),this.__originalSetTransform(n,r,l,c,h,f)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(n){t.rotate(n),this.__originalRotate(n)},a.clip=function(n){t.clip(n),this.__originalClip(n)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,r,l,c,h){t.bezierCurveTo(e,n,r,l,c,h),this.__originalBezierCurveTo(e,n,r,l,c,h)},a.rect=function(e,n,r,l){t.rect(e,n,r,l),this.__originalRect(e,n,r,l)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class T5{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function _g(a,t,e,n,r,l,c,h,f,g){const[y,d,m,A,x,S]=_e(a);if(d===0&&m===0){const O=c*y+x,L=Math.round(O),_=h*A+S,w=Math.round(_),D=(c+f)*y+x,N=Math.abs(Math.round(D)-L)||1,F=(h+g)*A+S,j=Math.abs(Math.round(F)-w)||1;return a.setTransform(Math.sign(y),0,0,Math.sign(A),L,w),a.drawImage(t,e,n,r,l,0,0,N,j),a.setTransform(y,d,m,A,x,S),[N,j]}if(y===0&&A===0){const O=h*m+x,L=Math.round(O),_=c*d+S,w=Math.round(_),D=(h+g)*m+x,N=Math.abs(Math.round(D)-L)||1,F=(c+f)*d+S,j=Math.abs(Math.round(F)-w)||1;return a.setTransform(0,Math.sign(d),Math.sign(m),0,L,w),a.drawImage(t,e,n,r,l,0,0,j,N),a.setTransform(y,d,m,A,x,S),[j,N]}a.drawImage(t,e,n,r,l,c,h,f,g);const C=Math.hypot(y,d),E=Math.hypot(m,A);return[C*f,E*g]}function E5(a){const{width:t,height:e}=a;if(t>vE||e>vE)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),h,f,g;const y=t+7&-8;let d=new Uint8Array(y*e),m=0;for(const E of a.data){let O=128;for(;O>0;)d[m++]=E&O?0:255,O>>=1}let A=0;for(m=0,d[m]!==0&&(c[0]=1,++A),f=1;f<t;f++)d[m]!==d[m+1]&&(c[f]=d[m]?2:1,++A),m++;for(d[m]!==0&&(c[f]=2,++A),h=1;h<e;h++){m=h*y,g=h*l,d[m-y]!==d[m]&&(c[g]=d[m]?1:8,++A);let E=(d[m]?4:0)+(d[m-y]?8:0);for(f=1;f<t;f++)E=(E>>2)+(d[m+1]?4:0)+(d[m-y+1]?8:0),r[E]&&(c[g+f]=r[E],++A),m++;if(d[m-y]!==d[m]&&(c[g+f]=d[m]?2:4,++A),A>n)return null}for(m=y*(e-1),g=h*l,d[m]!==0&&(c[g]=8,++A),f=1;f<t;f++)d[m]!==d[m+1]&&(c[g+f]=d[m]?4:8,++A),m++;if(d[m]!==0&&(c[g+f]=4,++A),A>n)return null;const x=new Int32Array([0,l,-1,0,-l,0,0,0,1]),S=new Path2D;for(h=0;A&&h<=e;h++){let E=h*l;const O=E+t;for(;E<O&&!c[E];)E++;if(E===O)continue;S.moveTo(E%l,h);const L=E;let _=c[E];do{const w=x[_];do E+=w;while(!c[E]);const D=c[E];D!==5&&D!==10?(_=D,c[E]=0):(_=D&51*_>>4,c[E]&=_>>2|_<<2),S.lineTo(E%l,E/l|0),c[E]||--A}while(L!==E);--h}return d=null,c=null,function(E){E.save(),E.scale(1/t,-1/e),E.translate(0,-e),E.fill(S),E.beginPath(),E.restore()}}class bE{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=LM,this.textMatrixScale=1,this.fontMatrix=vb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=vt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=vt.applyTransform(e,t),r=vt.applyTransform(e.slice(2),t),l=vt.applyTransform([e[0],e[3]],t),c=vt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,n[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,n[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,n[1],r[1],l[1],c[1])}updateScalingPathMinMax(t,e){vt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,l,c,h,f,g,y){const d=vt.bezierBoundingBox(e,n,r,l,c,h,f,g,y);y||this.updateRectMinMax(t,d)}getPathBoundingBox(t=ki.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===ki.STROKE){e||ge("Stroke bounding box must include transform.");const r=vt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;n[0]-=l,n[1]-=c,n[2]+=l,n[3]+=c}return n}updateClipFromPath(){const t=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=ki.FILL,e=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function AE(a,t){if(typeof ImageData<"u"&&t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Qi,l=(e-r)/Qi,c=r===0?l:l+1,h=a.createImageData(n,Qi);let f=0,g;const y=t.data,d=h.data;let m,A,x,S;if(t.kind===kg.GRAYSCALE_1BPP){const C=y.byteLength,E=new Uint32Array(d.buffer,0,d.byteLength>>2),O=E.length,L=n+7>>3,_=4294967295,w=Fi.isLittleEndian?4278190080:255;for(m=0;m<c;m++){for(x=m<l?Qi:r,g=0,A=0;A<x;A++){const D=C-f;let N=0;const F=D>L?n:D*8-7,j=F&-8;let K=0,Z=0;for(;N<j;N+=8)Z=y[f++],E[g++]=Z&128?_:w,E[g++]=Z&64?_:w,E[g++]=Z&32?_:w,E[g++]=Z&16?_:w,E[g++]=Z&8?_:w,E[g++]=Z&4?_:w,E[g++]=Z&2?_:w,E[g++]=Z&1?_:w;for(;N<F;N++)K===0&&(Z=y[f++],K=128),E[g++]=Z&K?_:w,K>>=1}for(;g<O;)E[g++]=0;a.putImageData(h,0,m*Qi)}}else if(t.kind===kg.RGBA_32BPP){for(A=0,S=n*Qi*4,m=0;m<l;m++)d.set(y.subarray(f,f+S)),f+=S,a.putImageData(h,0,A),A+=Qi;m<c&&(S=n*r*4,d.set(y.subarray(f,f+S)),a.putImageData(h,0,A))}else if(t.kind===kg.RGB_24BPP)for(x=Qi,S=n*x,m=0;m<c;m++){for(m>=l&&(x=r,S=n*x),g=0,A=S;A--;)d[g++]=y[f++],d[g++]=y[f++],d[g++]=y[f++],d[g++]=255;a.putImageData(h,0,m*Qi)}else throw new Error(`bad image kind: ${t.kind}`)}function _E(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Qi,l=(e-r)/Qi,c=r===0?l:l+1,h=a.createImageData(n,Qi);let f=0;const g=t.data,y=h.data;for(let d=0;d<c;d++){const m=d<l?Qi:r;({srcPos:f}=x5({src:g,srcPos:f,dest:y,width:n,height:m,nonBlackColor:0})),a.putImageData(h,0,d*Qi)}}function Wh(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function xg(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!Ei){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function xE(a,t){if(t)return!0;const e=vt.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Kr.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const C5=["butt","round","square"],M5=["miter","round","bevel"],R5={},wE={};var Jr,Yb,Wb;const N_=class N_{constructor(t,e,n,r,l,{optionalContentConfig:c,markedContentStack:h=null},f,g){P(this,Jr);this.ctx=t,this.current=new bE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new T5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,n){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(..._e(this.compositeCtx))}this.ctx.save(),xg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=_e(this.ctx)}executeOperatorList(t,e,n,r){const l=t.argsArray,c=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const g=f-h>yE&&typeof n=="function",y=g?Date.now()+w5:0;let d=0;const m=this.commonObjs,A=this.objs;let x;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(x=c[h],x!==Kn.dependency)this[x].apply(this,l[h]);else for(const S of l[h]){const C=S.startsWith("g_")?m:A;if(!C.has(S))return C.get(S,n),h}if(h++,h===f)return h;if(g&&++d>yE){if(Date.now()>y)return n(),h;d=0}}}endDrawing(){R(this,Jr,Yb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),R(this,Jr,Wb).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=n,f=r,g="prescale1",y,d;for(;l>2&&h>1||c>2&&f>1;){let m=h,A=f;l>2&&h>1&&(m=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/m),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),y=this.cachedCanvases.getCanvas(g,m,A),d=y.context,d.clearRect(0,0,m,A),d.drawImage(t,0,0,h,f,0,0,m,A),t=y.canvas,h=m,f=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,h=_e(e);let f,g,y,d;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;g=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(F),f||(f=new Map,this._cachedBitmapsMap.set(F,f));const j=f.get(g);if(j&&!c){const K=Math.round(Math.min(h[0],h[2])+h[4]),Z=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:j,offsetX:K,offsetY:Z}}y=j}y||(d=this.cachedCanvases.getCanvas("maskCanvas",n,r),_E(d.context,t));let m=vt.transform(h,[1/n,0,0,-1/r,0,0]);m=vt.transform(m,[1,0,0,1,0,-r]);const[A,x,S,C]=vt.getAxialAlignedBoundingBox([0,0,n,r],m),E=Math.round(S-A)||1,O=Math.round(C-x)||1,L=this.cachedCanvases.getCanvas("fillCanvas",E,O),_=L.context,w=A,D=x;_.translate(-w,-D),_.transform(...m),y||(y=this._scaleImage(d.canvas,ra(_)),y=y.img,f&&c&&f.set(g,y)),_.imageSmoothingEnabled=xE(_e(_),t.interpolate),_g(_,y,0,0,y.width,y.height,0,0,n,r),_.globalCompositeOperation="source-in";const N=vt.transform(ra(_),[1,0,0,1,-w,-D]);return _.fillStyle=c?l.getPattern(e,this,N,ki.FILL):l,_.fillRect(0,0,n,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,L.canvas)),{canvas:L.canvas,offsetX:Math.round(w),offsetY:Math.round(D)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=C5[t]}setLineJoin(t){this.ctx.lineJoin=M5[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(..._e(this.suspendedCtx)),Wh(this.suspendedCtx,l),S5(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const l=r[0],c=r[1],h=r[2]-l,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(e.context,n,h,f,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,l,c,h,f,g,y,d){let m=t.canvas,A=f-y,x=g-d;if(c){const C=vt.makeHexColor(...c);if(A<0||x<0||A+n>m.width||x+r>m.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,r),O=E.context;O.drawImage(m,-A,-x),O.globalCompositeOperation="destination-atop",O.fillStyle=C,O.fillRect(0,0,n,r),O.globalCompositeOperation="source-over",m=E.canvas,A=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(A,x,n,r),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=C,t.fillRect(A,x,n,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const S=new Path2D;S.rect(f,g,n,r),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(m,A,x,n,r,f,g,n,r),e.restore()}save(){this.inSMaskMode?(Wh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Wh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,l,c){this.ctx.transform(t,e,n,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const r=this.ctx,l=this.current;let c=l.x,h=l.y,f,g;const y=_e(r),d=y[0]===0&&y[3]===0||y[1]===0&&y[2]===0,m=d?n.slice(0):null;for(let A=0,x=0,S=t.length;A<S;A++)switch(t[A]|0){case Kn.rectangle:c=e[x++],h=e[x++];const C=e[x++],E=e[x++],O=c+C,L=h+E;r.moveTo(c,h),C===0||E===0?r.lineTo(O,L):(r.lineTo(O,h),r.lineTo(O,L),r.lineTo(c,L)),d||l.updateRectMinMax(y,[c,h,O,L]),r.closePath();break;case Kn.moveTo:c=e[x++],h=e[x++],r.moveTo(c,h),d||l.updatePathMinMax(y,c,h);break;case Kn.lineTo:c=e[x++],h=e[x++],r.lineTo(c,h),d||l.updatePathMinMax(y,c,h);break;case Kn.curveTo:f=c,g=h,c=e[x+4],h=e[x+5],r.bezierCurveTo(e[x],e[x+1],e[x+2],e[x+3],c,h),l.updateCurvePathMinMax(y,f,g,e[x],e[x+1],e[x+2],e[x+3],c,h,m),x+=6;break;case Kn.curveTo2:f=c,g=h,r.bezierCurveTo(c,h,e[x],e[x+1],e[x+2],e[x+3]),l.updateCurvePathMinMax(y,f,g,c,h,e[x],e[x+1],e[x+2],e[x+3],m),c=e[x+2],h=e[x+3],x+=4;break;case Kn.curveTo3:f=c,g=h,c=e[x+2],h=e[x+3],r.bezierCurveTo(e[x],e[x+1],c,h,c,h),l.updateCurvePathMinMax(y,f,g,e[x],e[x+1],c,h,c,h,m),x+=4;break;case Kn.closePath:r.closePath();break}d&&l.updateScalingPathMinMax(y,m),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,ra(e),ki.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=n.getPattern(e,this,ra(e),ki.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=R5}eoClip(){this.pendingClip=wE}beginText(){this.current.textMatrix=LM,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var y;const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||vb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ft("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=((y=n.systemFontInfo)==null?void 0:y.css)||`"${l}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const f=n.italic?"italic":"normal";let g=e;e<gE?g=gE:e>mE&&(g=mE),this.current.fontSizeScale=e/g,this.ctx.font=`${f} ${h} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,l,c){this.current.textMatrix=[t,e,n,r,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,y=f&vi.FILL_STROKE_MASK,d=!!(f&vi.ADD_TO_PATH_FLAG),m=c.patternFill&&!h.missingFile;let A;(h.disableFontFace||d||m)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||m?(l.save(),l.translate(e,n),l.beginPath(),A(l,g),r&&l.setTransform(...r),(y===vi.FILL||y===vi.FILL_STROKE)&&l.fill(),(y===vi.STROKE||y===vi.FILL_STROKE)&&l.stroke(),l.restore()):((y===vi.FILL||y===vi.FILL_STROKE)&&l.fillText(t,e,n),(y===vi.STROKE||y===vi.FILL_STROKE)&&l.strokeText(t,e,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:_e(l),x:e,y:n,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return qt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,g=e.fontDirection,y=e.textHScale*g,d=t.length,m=n.vertical,A=m?1:-1,x=n.defaultVMetrics,S=r*e.fontMatrix[0],C=e.textRenderingMode===vi.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),g>0?l.scale(y,-1):l.scale(y,1);let E;if(e.patternFill){l.save();const D=e.fillColor.getPattern(l,this,ra(l),ki.FILL);E=_e(l),l.restore(),l.fillStyle=D}let O=e.lineWidth;const L=e.textMatrixScale;if(L===0||O===0){const D=e.textRenderingMode&vi.FILL_STROKE_MASK;(D===vi.STROKE||D===vi.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=L;if(c!==1&&(l.scale(c,c),O/=c),l.lineWidth=O,n.isInvalidPDFjsFont){const D=[];let N=0;for(const F of t)D.push(F.unicode),N+=F.width;l.fillText(D.join(""),0,0),e.x+=N*S*y,l.restore(),this.compose();return}let _=0,w;for(w=0;w<d;++w){const D=t[w];if(typeof D=="number"){_+=A*D*r/1e3;continue}let N=!1;const F=(D.isSpace?f:0)+h,j=D.fontChar,K=D.accent;let Z,rt,ot=D.width;if(m){const dt=D.vmetric||x,U=-(D.vmetric?dt[1]:ot*.5)*S,Y=dt[2]*S;ot=dt?-dt[0]:ot,Z=U/c,rt=(_+Y)/c}else Z=_/c,rt=0;if(n.remeasure&&ot>0){const dt=l.measureText(j).width*1e3/r*c;if(ot<dt&&this.isFontSubpixelAAEnabled){const U=ot/dt;N=!0,l.save(),l.scale(U,1),Z/=U}else ot!==dt&&(Z+=(ot-dt)/2e3*r/c)}if(this.contentVisible&&(D.isInFont||n.missingFile)){if(C&&!K)l.fillText(j,Z,rt);else if(this.paintChar(j,Z,rt,E),K){const dt=Z+r*K.offset.x/c,U=rt-r*K.offset.y/c;this.paintChar(K.fontChar,dt,U,E)}}const at=m?ot*S-F*g:ot*S+F*g;_+=at,N&&l.restore()}m?e.y-=_:e.x+=_*y,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,l=n.fontSize,c=n.fontDirection,h=r.vertical?1:-1,f=n.charSpacing,g=n.wordSpacing,y=n.textHScale*c,d=n.fontMatrix||vb,m=t.length,A=n.textRenderingMode===vi.INVISIBLE;let x,S,C,E;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(y,c),x=0;x<m;++x){if(S=t[x],typeof S=="number"){E=h*S*l/1e3,this.ctx.translate(E,0),n.x+=E*y;continue}const O=(S.isSpace?g:0)+f,L=r.charProcOperatorList[S.operatorListId];if(!L){Ft(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),e.scale(l,l),e.transform(...d),this.executeOperatorList(L),this.restore()),C=vt.applyTransform([S.width,0],d)[0]*l+O,e.translate(C,0),n.x+=C*y}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,l,c){this.ctx.rect(n,r,l-n,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],r=this.baseTransform||_e(this.ctx),l={createCanvasGraphics:c=>new N_(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Xb(t,n,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=vt.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=vt.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=_5(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ra(e),ki.SHADING);const r=ra(e);if(r){const{width:l,height:c}=e.canvas,[h,f,g,y]=vt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(h,f,g-h,y-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ge("Should not call beginInlineImage")}beginImageData(){ge("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=_e(this.ctx),e)){const n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updateRectMinMax(_e(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||qm("TODO: Support non-isolated groups."),t.knockout&&Ft("Knockout groups not supported.");const n=_e(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=vt.getAxialAlignedBoundingBox(t.bbox,_e(e));const l=[0,0,e.canvas.width,e.canvas.height];r=vt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,g]);let y="groupAt"+this.groupLevel;t.smask&&(y+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(y,f,g),m=d.context;m.translate(-c,-h),m.transform(...n),t.smask?this.smaskStack.push({canvas:d.canvas,context:m,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Wh(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=_e(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=vt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,l){if(R(this,Jr,Yb).call(this),xg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[f,g]=vt.singularValueDecompose2dScale(_e(this.ctx)),{viewportScale:y}=this,d=Math.ceil(c*this.outputScaleX*y),m=Math.ceil(h*this.outputScaleY*y);this.annotationCanvas=this.canvasFactory.create(d,m);const{canvas:A,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,h*g),xg(this.ctx)}else xg(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new bE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),R(this,Jr,Wb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=E5(t)),r.compiled)){r.compiled(n);return}const l=this._createMaskCanvas(t),c=l.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(c,l.offsetX,l.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=_e(h);h.transform(e,n,r,l,0,0);const g=this._createMaskCanvas(t);h.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let y=0,d=c.length;y<d;y+=2){const m=vt.transform(f,[e,n,r,l,c[y],c[y+1]]),[A,x]=vt.applyTransform([0,0],m);h.drawImage(g.canvas,A,x)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:h,height:f,transform:g}=l,y=this.cachedCanvases.getCanvas("maskCanvas",h,f),d=y.context;d.save();const m=this.getObject(c,l);_E(d,m),d.globalCompositeOperation="source-in",d.fillStyle=r?n.getPattern(d,this,ra(e),ki.FILL):n,d.fillRect(0,0,h,f),d.restore(),e.save(),e.transform(...g),e.scale(1,-1),_g(e,y.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Ft("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let g=0,y=r.length;g<y;g+=2)f.push({transform:[e,0,0,n,r[g],r[g+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;if(this.save(),!Ei){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/e,-1/n);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,n).context;AE(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,ra(r));r.imageSmoothingEnabled=xE(_e(r),t.interpolate),_g(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;AE(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),_g(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===wE?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=_e(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:l}=this.ctx.getTransform();let c,h;if(n===0&&r===0){const f=Math.abs(e),g=Math.abs(l);if(f===g)if(t===0)c=h=1/f;else{const y=f*t;c=h=y<1?1/y:1}else if(t===0)c=1/f,h=1/g;else{const y=f*t,d=g*t;c=y<1?1/y:1,h=d<1?1/d:1}}else{const f=Math.abs(e*l-n*r),g=Math.hypot(e,n),y=Math.hypot(r,l);if(t===0)c=y/f,h=g/f;else{const d=t*f;c=y>d?y/d:1,h=g>d?g/d:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=n||1,r===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,l),c.length>0){const h=Math.max(r,l);e.setLineDash(c.map(f=>f/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Jr=new WeakSet,Yb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Wb=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let zc=N_;for(const a in Kn)zc.prototype[a]!==void 0&&(zc.prototype[Kn[a]]=zc.prototype[a]);var $d,Kd;class Oa{static get workerPort(){return p(this,$d)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");M(this,$d,t)}static get workerSrc(){return p(this,Kd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");M(this,Kd,t)}}$d=new WeakMap,Kd=new WeakMap,P(Oa,$d,null),P(Oa,Kd,"");const wg={DATA:1,ERROR:2},Be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function un(a){switch(a instanceof Error||typeof a=="object"&&a!==null||ge('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Fl(a.message);case"MissingPDFException":return new Nl(a.message);case"PasswordException":return new bb(a.message,a.code);case"UnexpectedResponseException":return new Xm(a.message,a.status);case"UnknownErrorException":return new Ab(a.message,a.details);default:return new Ab(a.message,a.toString())}}var au,Vn,gR,mR,yR,Hg;class sd{constructor(t,e,n){P(this,Vn);P(this,au,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",R(this,Vn,gR).bind(this),{signal:p(this,au).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,n,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const y=Promise.withResolvers();return this.streamControllers[l]={controller:g,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:g.desiredSize},r),y.promise},pull:g=>{const y=Promise.withResolvers();return this.streamControllers[l].pullCall=y,f.postMessage({sourceName:c,targetName:h,stream:Be.PULL,streamId:l,desiredSize:g.desiredSize}),y.promise},cancel:g=>{Ke(g instanceof Error,"cancel must have a valid reason");const y=Promise.withResolvers();return this.streamControllers[l].cancelCall=y,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:Be.CANCEL,streamId:l,reason:un(g)}),y.promise}},n)}destroy(){var t;(t=p(this,au))==null||t.abort(),M(this,au,null)}}au=new WeakMap,Vn=new WeakSet,gR=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){R(this,Vn,yR).call(this,t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===wg.DATA)r.resolve(t.data);else if(t.callback===wg.ERROR)r.reject(un(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){l.postMessage({sourceName:n,targetName:r,callback:wg.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:r,callback:wg.ERROR,callbackId:t.callbackId,reason:un(c)})});return}if(t.streamId){R(this,Vn,mR).call(this,t);return}e(t.data)},mR=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(g,y=1,d){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=y,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:Be.ENQUEUE,streamId:e,chunk:g},d)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:Be.CLOSE,streamId:e}),delete c.streamSinks[e])},error(g){Ke(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:Be.ERROR,streamId:e,reason:un(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(g){g(h(t.data,f))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Be.START_COMPLETE,streamId:e,success:!0})},function(g){l.postMessage({sourceName:n,targetName:r,stream:Be.START_COMPLETE,streamId:e,reason:un(g)})})},yR=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case Be.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(un(t.reason));break;case Be.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(un(t.reason));break;case Be.PULL:if(!h){l.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(f){var g;f((g=h.onPull)==null?void 0:g.call(h))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,reason:un(f)})});break;case Be.ENQUEUE:if(Ke(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Be.CLOSE:if(Ke(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),R(this,Vn,Hg).call(this,c,e);break;case Be.ERROR:Ke(c,"error should have stream controller"),c.controller.error(un(t.reason)),R(this,Vn,Hg).call(this,c,e);break;case Be.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(un(t.reason)),R(this,Vn,Hg).call(this,c,e);break;case Be.CANCEL:if(!h)break;new Promise(function(f){var g;f((g=h.onCancel)==null?void 0:g.call(h,un(t.reason)))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Be.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:Be.CANCEL_COMPLETE,streamId:e,reason:un(f)})}),h.sinkCapability.reject(un(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Hg=async function(t,e){var n,r,l;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var Qo,Qd;class D5{constructor({parsedData:t,rawData:e}){P(this,Qo);P(this,Qd);M(this,Qo,t),M(this,Qd,e)}getRaw(){return p(this,Qd)}get(t){return p(this,Qo).get(t)??null}getAll(){return A_(p(this,Qo))}has(t){return p(this,Qo).has(t)}}Qo=new WeakMap,Qd=new WeakMap;const Dc=Symbol("INTERNAL");var Zd,Jd,tf,ru;class L5{constructor(t,{name:e,intent:n,usage:r,rbGroups:l}){P(this,Zd,!1);P(this,Jd,!1);P(this,tf,!1);P(this,ru,!0);M(this,Zd,!!(t&bn.DISPLAY)),M(this,Jd,!!(t&bn.PRINT)),this.name=e,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(p(this,tf))return p(this,ru);if(!p(this,ru))return!1;const{print:t,view:e}=this.usage;return p(this,Zd)?(e==null?void 0:e.viewState)!=="OFF":p(this,Jd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Dc&&ge("Internal method `_setVisible` called."),M(this,tf,n),M(this,ru,e)}}Zd=new WeakMap,Jd=new WeakMap,tf=new WeakMap,ru=new WeakMap;var Lr,te,ou,lu,ef,$b;class k5{constructor(t,e=bn.DISPLAY){P(this,ef);P(this,Lr,null);P(this,te,new Map);P(this,ou,null);P(this,lu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,M(this,lu,t.order);for(const n of t.groups)p(this,te).set(n.id,new L5(e,n));if(t.baseState==="OFF")for(const n of p(this,te).values())n._setVisible(Dc,!1);for(const n of t.on)p(this,te).get(n)._setVisible(Dc,!0);for(const n of t.off)p(this,te).get(n)._setVisible(Dc,!1);M(this,ou,this.getHash())}}isVisible(t){if(p(this,te).size===0)return!0;if(!t)return qm("Optional content group not defined."),!0;if(t.type==="OCG")return p(this,te).has(t.id)?p(this,te).get(t.id).visible:(Ft(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return R(this,ef,$b).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!p(this,te).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(p(this,te).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!p(this,te).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!p(this,te).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!p(this,te).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!p(this,te).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!p(this,te).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(p(this,te).get(e).visible)return!1}return!0}return Ft(`Unknown optional content policy ${t.policy}.`),!0}return Ft(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var l;const r=p(this,te).get(t);if(!r){Ft(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==t&&((l=p(this,te).get(h))==null||l._setVisible(Dc,!1,!0));r._setVisible(Dc,!!e,!0),M(this,Lr,null)}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=p(this,te).get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}M(this,Lr,null)}get hasInitialVisibility(){return p(this,ou)===null||this.getHash()===p(this,ou)}getOrder(){return p(this,te).size?p(this,lu)?p(this,lu).slice():[...p(this,te).keys()]:null}getGroups(){return p(this,te).size>0?A_(p(this,te)):null}getGroup(t){return p(this,te).get(t)||null}getHash(){if(p(this,Lr)!==null)return p(this,Lr);const t=new sR;for(const[e,n]of p(this,te))t.update(`${e}:${n.visible}`);return M(this,Lr,t.hexdigest())}}Lr=new WeakMap,te=new WeakMap,ou=new WeakMap,lu=new WeakMap,ef=new WeakSet,$b=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=R(this,ef,$b).call(this,l);else if(p(this,te).has(l))c=p(this,te).get(l).visible;else return Ft(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"};class P5{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ke(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),t.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});Ke(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,r,l;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ke(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new O5(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new N5(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class O5{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=w_(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class N5{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function F5(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let y=h(e);return y=unescape(y),y=f(y),y=g(y),l(y)}if(e=c(a),e){const y=g(e);return l(y)}if(e=n("filename","i").exec(a),e){e=e[1];let y=h(e);return y=g(y),l(y)}function n(y,d){return new RegExp("(?:^|;)\\s*"+y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(y,d){if(y){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const m=new TextDecoder(y,{fatal:!0}),A=Ym(d);d=m.decode(A),t=!1}catch{}}return d}function l(y){return t&&/[\x80-\xff]/.test(y)&&(y=r("utf-8",y),t&&(y=r("iso-8859-1",y))),y}function c(y){const d=[];let m;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=A.exec(y))!==null;){let[,S,C,E]=m;if(S=parseInt(S,10),S in d){if(S===0)break;continue}d[S]=[C,E]}const x=[];for(let S=0;S<d.length&&S in d;++S){let[C,E]=d[S];E=h(E),C&&(E=unescape(E),S===0&&(E=f(E))),x.push(E)}return x.join("")}function h(y){if(y.startsWith('"')){const d=y.slice(1).split('\\"');for(let m=0;m<d.length;++m){const A=d[m].indexOf('"');A!==-1&&(d[m]=d[m].slice(0,A),d.length=m+1),d[m]=d[m].replaceAll(/\\(.)/g,"$1")}y=d.join('"')}return y}function f(y){const d=y.indexOf("'");if(d===-1)return y;const m=y.slice(0,d),x=y.slice(d+1).replace(/^[^']*'/,"");return r(m,x)}function g(y){return!y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(y)?y:y.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,m,A,x){if(A==="q"||A==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),r(m,x);try{x=atob(x)}catch{}return r(m,x)})}return""}function M_(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function R_({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(a.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function D_(a){const t=a.get("Content-Disposition");if(t){let e=F5(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(w_(e))return e}return null}function Km(a,t){return a===404||a===0&&t.startsWith("file:")?new Nl('Missing PDF "'+t+'".'):new Xm(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function vR(a){return a===200||a===206}function bR(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function AR(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Ft(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class SE{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=M_(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ke(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I5(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new j5(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class I5{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,bR(n,this._withCredentials,this._abortController)).then(l=>{if(!vR(l.status))throw Km(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=R_({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=D_(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:AR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class j5{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const c=r.url;fetch(c,bR(l,this._withCredentials,this._abortController)).then(h=>{if(!vR(h.status))throw Km(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:AR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Gv=200,qv=206;function B5(a){const t=a.response;return typeof t!="string"?t:Ym(t).buffer}class H5{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=M_(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const l in n)r[l]=n[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=qv):r.expectedStatus=Gv,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var r;const n=this.pendingRequests[t];n&&((r=n.onProgress)==null||r.call(n,e))}onStateChange(t,e){var f,g,y;const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=n.onError)==null||f.call(n,r.status);return}const l=r.status||Gv;if(!(l===Gv&&n.expectedStatus===qv)&&l!==n.expectedStatus){(g=n.onError)==null||g.call(n,r.status);return}const h=B5(r);if(l===qv){const d=r.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);n.onDone({begin:parseInt(m[1],10),chunk:h})}else h?n.onDone({begin:0,chunk:h}):(y=n.onError)==null||y.call(n,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class z5{constructor(t){this._source=t,this._manager=new H5(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ke(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V5(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new U5(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class V5{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=R_({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=D_(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Km(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class U5{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Km(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const G5=/^[a-z][a-z0-9\-+.]+:/i;function q5(a){if(G5.test(a))return new URL(a);const t=Qr.get("url");return new URL(t.pathToFileURL(a))}function _R(a,t,e){return a.protocol==="http:"?Qr.get("http").request(a,{headers:t},e):Qr.get("https").request(a,{headers:t},e)}class X5{constructor(t){this.source=t,this.url=q5(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=M_(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ke(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $5(this):new Y5(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new K5(this,t,e):new W5(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class xR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class Y5 extends xR{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=r=>{if(r.statusCode===404){const f=new Nl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=R_({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=D_(l)};this._request=_R(this._url,e,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class W5 extends wR{constructor(t,e,n){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${n-1}`;const l=c=>{if(c.statusCode===404){const h=new Nl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=_R(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class $5 extends xR{constructor(t){super(t);const e=Qr.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Nl(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class K5 extends wR{constructor(t,e,n){super(t);const r=Qr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}}const Q5=1e5,Xi=30,Z5=.8;var VE,kr,$i,nf,sf,Zo,ma,af,rf,Jo,cu,uu,Pr,hu,of,du,tl,lf,cf,Me,el,il,uf,Or,fu,Ba,SR,TR,Qb,_n,zg,Zb,ER,CR;let Kb=(Me=class{constructor({textContentSource:t,container:e,viewport:n}){P(this,Ba);P(this,kr,Promise.withResolvers());P(this,$i,null);P(this,nf,!1);P(this,sf,!!((VE=globalThis.FontInspector)!=null&&VE.enabled));P(this,Zo,null);P(this,ma,null);P(this,af,0);P(this,rf,0);P(this,Jo,null);P(this,cu,null);P(this,uu,0);P(this,Pr,0);P(this,hu,Object.create(null));P(this,of,[]);P(this,du,null);P(this,tl,[]);P(this,lf,new WeakMap);P(this,cf,null);var f;if(t instanceof ReadableStream)M(this,du,t);else if(typeof t=="object")M(this,du,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,$i,M(this,cu,e)),M(this,Pr,n.scale*(globalThis.devicePixelRatio||1)),M(this,uu,n.rotation),M(this,ma,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=n.rawDims;M(this,cf,[1,0,0,-1,-c,h+l]),M(this,rf,r),M(this,af,l),R(f=Me,_n,ER).call(f),Rl(e,n),p(this,kr).promise.finally(()=>{p(Me,fu).delete(this),M(this,ma,null),M(this,hu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Fi.platform;return qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{p(this,Jo).read().then(({value:e,done:n})=>{if(n){p(this,kr).resolve();return}p(this,Zo)??M(this,Zo,e.lang),Object.assign(p(this,hu),e.styles),R(this,Ba,SR).call(this,e.items),t()},p(this,kr).reject)};return M(this,Jo,p(this,du).getReader()),p(Me,fu).add(this),t(),p(this,kr).promise}update({viewport:t,onBefore:e=null}){var l;const n=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==p(this,uu)&&(e==null||e(),M(this,uu,r),Rl(p(this,cu),{rotation:r})),n!==p(this,Pr)){e==null||e(),M(this,Pr,n);const c={div:null,properties:null,ctx:R(l=Me,_n,zg).call(l,p(this,Zo))};for(const h of p(this,tl))c.properties=p(this,lf).get(h),c.div=h,R(this,Ba,Qb).call(this,c)}}cancel(){var e;const t=new Fl("TextLayer task cancelled.");(e=p(this,Jo))==null||e.cancel(t).catch(()=>{}),M(this,Jo,null),p(this,kr).reject(t)}get textDivs(){return p(this,tl)}get textContentItemsStr(){return p(this,of)}static cleanup(){if(!(p(this,fu).size>0)){p(this,el).clear();for(const{canvas:t}of p(this,il).values())t.remove();p(this,il).clear()}}},kr=new WeakMap,$i=new WeakMap,nf=new WeakMap,sf=new WeakMap,Zo=new WeakMap,ma=new WeakMap,af=new WeakMap,rf=new WeakMap,Jo=new WeakMap,cu=new WeakMap,uu=new WeakMap,Pr=new WeakMap,hu=new WeakMap,of=new WeakMap,du=new WeakMap,tl=new WeakMap,lf=new WeakMap,cf=new WeakMap,el=new WeakMap,il=new WeakMap,uf=new WeakMap,Or=new WeakMap,fu=new WeakMap,Ba=new WeakSet,SR=function(t){var r,l;if(p(this,nf))return;(l=p(this,ma)).ctx??(l.ctx=R(r=Me,_n,zg).call(r,p(this,Zo)));const e=p(this,tl),n=p(this,of);for(const c of t){if(e.length>Q5){Ft("Ignoring additional textDivs for performance reasons."),M(this,nf,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=p(this,$i);M(this,$i,document.createElement("span")),p(this,$i).classList.add("markedContent"),c.id!==null&&p(this,$i).setAttribute("id",`${c.id}`),h.append(p(this,$i))}else c.type==="endMarkedContent"&&M(this,$i,p(this,$i).parentNode);continue}n.push(c.str),R(this,Ba,TR).call(this,c)}},TR=function(t){var S;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};p(this,tl).push(e);const r=vt.transform(p(this,cf),t.transform);let l=Math.atan2(r[1],r[0]);const c=p(this,hu)[t.fontName];c.vertical&&(l+=Math.PI/2);let h=p(this,sf)&&c.fontSubstitution||c.fontFamily;h=Me.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),g=f*R(S=Me,_n,CR).call(S,h,p(this,Zo));let y,d;l===0?(y=r[4],d=r[5]-g):(y=r[4]+g*Math.sin(l),d=r[5]-g*Math.cos(l));const m="calc(var(--scale-factor)*",A=e.style;p(this,$i)===p(this,cu)?(A.left=`${(100*y/p(this,rf)).toFixed(2)}%`,A.top=`${(100*d/p(this,af)).toFixed(2)}%`):(A.left=`${m}${y.toFixed(2)}px)`,A.top=`${m}${d.toFixed(2)}px)`),A.fontSize=`${m}${(p(Me,Or)*f).toFixed(2)}px)`,A.fontFamily=h,n.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,p(this,sf)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const C=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);C!==E&&Math.max(C,E)/Math.min(C,E)>1.5&&(x=!0)}if(x&&(n.canvasWidth=c.vertical?t.height:t.width),p(this,lf).set(e,n),p(this,ma).div=e,p(this,ma).properties=n,R(this,Ba,Qb).call(this,p(this,ma)),n.hasText&&p(this,$i).append(e),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),p(this,$i).append(C)}},Qb=function(t){var h;const{div:e,properties:n,ctx:r}=t,{style:l}=e;let c="";if(p(Me,Or)>1&&(c=`scale(${1/p(Me,Or)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:f}=l,{canvasWidth:g,fontSize:y}=n;R(h=Me,_n,Zb).call(h,r,y*p(this,Pr),f);const{width:d}=r.measureText(e.textContent);d>0&&(c=`scaleX(${g*p(this,Pr)/d}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)},_n=new WeakSet,zg=function(t=null){let e=p(this,il).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,il).set(t,e),p(this,uf).set(e,{size:0,family:""})}return e},Zb=function(t,e,n){const r=p(this,uf).get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)},ER=function(){if(p(this,Or)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),M(this,Or,t.getBoundingClientRect().height),t.remove()},CR=function(t,e){const n=p(this,el).get(t);if(n)return n;const r=R(this,_n,zg).call(this,e);r.canvas.width=r.canvas.height=Xi,R(this,_n,Zb).call(this,r,Xi,t);const l=r.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const y=c/(c+h);return p(this,el).set(t,y),r.canvas.width=r.canvas.height=0,y}r.strokeStyle="red",r.clearRect(0,0,Xi,Xi),r.strokeText("g",0,0);let f=r.getImageData(0,0,Xi,Xi).data;h=0;for(let y=f.length-1-3;y>=0;y-=4)if(f[y]>0){h=Math.ceil(y/4/Xi);break}r.clearRect(0,0,Xi,Xi),r.strokeText("A",0,Xi),f=r.getImageData(0,0,Xi,Xi).data,c=0;for(let y=0,d=f.length;y<d;y+=4)if(f[y]>0){c=Xi-Math.floor(y/4/Xi);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+h):Z5;return p(this,el).set(t,g),g},P(Me,_n),P(Me,el,new Map),P(Me,il,new Map),P(Me,uf,new WeakMap),P(Me,Or,null),P(Me,fu,new Set),Me);class Cd{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(Cd.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const g of l.children)r(g)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const J5=65536,tj=100,ej=5e3,ij=Ei?p5:h5,nj=Ei?g5:cR,sj=Ei?f5:d5,aj=Ei?m5:fR;function rj(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new Jb,{docId:e}=t,n=a.url?oj(a.url):null,r=a.data?lj(a.data):null,l=a.httpHeaders||null,c=a.withCredentials===!0,h=a.password??null,f=a.range instanceof MR?a.range:null,g=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:J5;let y=a.worker instanceof Vc?a.worker:null;const d=a.verbosity,m=typeof a.docBaseUrl=="string"&&!$m(a.docBaseUrl)?a.docBaseUrl:null,A=typeof a.cMapUrl=="string"?a.cMapUrl:null,x=a.cMapPacked!==!1,S=a.CMapReaderFactory||nj,C=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,E=a.StandardFontDataFactory||aj,O=a.stopAtErrors!==!0,L=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,_=a.isEvalSupported!==!1,w=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Ei,D=typeof a.isChrome=="boolean"?a.isChrome:!Fi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),N=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,F=typeof a.disableFontFace=="boolean"?a.disableFontFace:Ei,j=a.fontExtraProperties===!0,K=a.enableXfa===!0,Z=a.ownerDocument||globalThis.document,rt=a.disableRange===!0,ot=a.disableStream===!0,at=a.disableAutoFetch===!0,dt=a.pdfBug===!0,U=a.CanvasFactory||ij,Y=a.FilterFactory||sj,it=a.enableHWA===!0,bt=f?f.length:a.length??NaN,xt=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Ei&&!F,H=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:S===cR&&E===fR&&A&&C&&Qh(A,document.baseURI)&&Qh(C,document.baseURI);a.canvasFactory&&dE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&dE("`filterFactory`-instance option, please use `FilterFactory` instead.");const q=null;VI(d);const J={canvasFactory:new U({ownerDocument:Z,enableHWA:it}),filterFactory:new Y({docId:e,ownerDocument:Z}),cMapReaderFactory:H?null:new S({baseUrl:A,isCompressed:x}),standardFontDataFactory:H?null:new E({baseUrl:C})};if(!y){const pt={verbosity:d,port:Oa.workerPort};y=pt.port?Vc.fromPort(pt):new Vc(pt),t._worker=y}const st={docId:e,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:at,rangeChunkSize:g,length:bt,docBaseUrl:m,enableXfa:K,evaluatorOptions:{maxImageSize:L,disableFontFace:F,ignoreErrors:O,isEvalSupported:_,isOffscreenCanvasSupported:w,isChrome:D,canvasMaxAreaInBytes:N,fontExtraProperties:j,useSystemFonts:xt,cMapUrl:H?A:null,standardFontDataUrl:H?C:null}},ft={disableFontFace:F,fontExtraProperties:j,ownerDocument:Z,pdfBug:dt,styleElement:q,loadingParams:{disableAutoFetch:at,enableXfa:K}};return y.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(y.destroyed)throw new Error("Worker was destroyed");const pt=y.messageHandler.sendWithPromise("GetDocRequest",st,r?[r.buffer]:null);let ut;if(f)ut=new P5(f,{disableRange:rt,disableStream:ot});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Dt;Ei?Dt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Qh(n)?SE:X5:Dt=Qh(n)?SE:z5,ut=new Dt({url:n,length:bt,httpHeaders:l,withCredentials:c,rangeChunkSize:g,disableRange:rt,disableStream:ot})}return pt.then(Dt=>{if(t.destroyed)throw new Error("Loading aborted");if(y.destroyed)throw new Error("Worker was destroyed");const Lt=new sd(e,Dt,y.port),Ht=new dj(Lt,t,ut,ft,J);t._transport=Ht,Lt.send("Ready",null)})}).catch(t._capability.reject),t}function oj(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(Ei&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lj(a){if(Ei&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Ym(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function TE(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Rm;const Dm=class Dm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ri(Dm,Rm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Rm=new WeakMap,P(Dm,Rm,0);let Jb=Dm,MR=class{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ge("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class cj{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Nr,ya,jn,Lc,Vg;class uj{constructor(t,e,n,r=!1){P(this,jn);P(this,Nr,null);P(this,ya,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new hE:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new RR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new Wf({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=br.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:y=null,isEditing:d=!1}){var _,w;(_=this._stats)==null||_.time("Overall");const m=this._transport.getRenderingIntent(n,r,y,d),{renderingIntent:A,cacheKey:x}=m;M(this,ya,!1),R(this,jn,Vg).call(this),h||(h=this._transport.getOptionalContentConfig(A));let S=this._intentStates.get(x);S||(S=Object.create(null),this._intentStates.set(x,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(A&bn.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(m));const E=D=>{var N;S.renderTasks.delete(O),(this._maybeCleanupAfterRender||C)&&M(this,ya,!0),R(this,jn,Lc).call(this,!C),D?(O.capability.reject(D),this._abortOperatorList({intentState:S,reason:D instanceof Error?D:new Error(D)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new eA({callback:E,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:g});(S.renderTasks||(S.renderTasks=new Set)).add(O);const L=O.task;return Promise.all([S.displayReadyCapability.promise,h]).then(([D,N])=>{var F;if(this.destroyed){E();return}if((F=this._stats)==null||F.time("Rendering"),!(N.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:D,optionalContentConfig:N}),O.operatorListChanged()}).catch(E),L}getOperatorList({intent:t="display",annotationMode:e=br.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var g;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,n,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Cd.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function l(){c.read().then(function({value:f,done:g}){if(g){n(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},r)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),M(this,ya,!1),R(this,jn,Vg).call(this),Promise.all(t)}cleanup(t=!1){M(this,ya,!0);const e=R(this,jn,Lc).call(this,!1);return t&&e&&this._stats&&(this._stats=new hE),e}_startRenderPage(t,e){var r,l;const n=this._intentStates.get(e);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=n.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&R(this,jn,Lc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:c}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),g=this._intentStates.get(e);g.streamReader=f;const y=()=>{f.read().then(({value:d,done:m})=>{if(m){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,g),y())},d=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const m of g.renderTasks)m.operatorListChanged();R(this,jn,Lc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(d);else if(g.opListReadCapability)g.opListReadCapability.reject(d);else throw d}})};y()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof x_){let r=tj;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Fl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Nr=new WeakMap,ya=new WeakMap,jn=new WeakSet,Lc=function(t=!1){if(R(this,jn,Vg).call(this),!p(this,ya)||this.destroyed)return!1;if(t)return M(this,Nr,setTimeout(()=>{M(this,Nr,null),R(this,jn,Lc).call(this,!1)},ej)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,ya,!1),!0},Vg=function(){p(this,Nr)&&(clearTimeout(p(this,Nr)),M(this,Nr,null))};var va,Lm;class hj{constructor(){P(this,va,new Map);P(this,Lm,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};p(this,Lm).then(()=>{for(const[r]of p(this,va))r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:l}=n;if(l.aborted){Ft("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}p(this,va).set(e,r)}removeEventListener(t,e){const n=p(this,va).get(e);n==null||n(),p(this,va).delete(e)}terminate(){for(const[,t]of p(this,va))t==null||t();p(this,va).clear()}}va=new WeakMap,Lm=new WeakMap;var km,nl,sl,pu,Ug,gu,Gg;const ye=class ye{constructor({name:t=null,port:e=null,verbosity:n=UI()}={}){P(this,pu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=p(ye,sl))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(p(ye,sl)||M(ye,sl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Ei?Promise.all([Qr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new sd("main","worker",t),this._messageHandler.on("ready",function(){}),R(this,pu,Ug).call(this)}_initialize(){if(p(ye,nl)||p(ye,gu,Gg)){this._setupFakeWorker();return}let{workerSrc:t}=ye;try{ye._isSameOrigin(window.location.href,t)||(t=ye._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new sd("main","worker",e),r=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),n.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=n,this._port=e,this._webWorker=e,R(this,pu,Ug).call(this)}),n.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};c();return}catch{qm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){p(ye,nl)||(Ft("Setting up fake worker."),M(ye,nl,!0)),ye._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new hj;this._port=e;const n=`fake${Ri(ye,km)._++}`,r=new sd(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new sd(n,n+"_worker",e),R(this,pu,Ug).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=p(ye,sl))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=p(this,sl))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ye(t)}static get workerSrc(){if(Oa.workerSrc)return Oa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qt(this,"_setupFakeWorkerGlobal",(async()=>p(this,gu,Gg)?p(this,gu,Gg):(await import(this.workerSrc)).WorkerMessageHandler)())}};km=new WeakMap,nl=new WeakMap,sl=new WeakMap,pu=new WeakSet,Ug=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},gu=new WeakSet,Gg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},P(ye,gu),P(ye,km,0),P(ye,nl,!1),P(ye,sl),Ei&&(M(ye,nl,!0),Oa.workerSrc||(Oa.workerSrc="./pdf.worker.mjs")),ye._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},ye._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Vc=ye;var ba,Ms,mu,yu,Rs,al,ad;class dj{constructor(t,e,n,r,l){P(this,al);P(this,ba,new Map);P(this,Ms,new Map);P(this,mu,new Map);P(this,yu,new Map);P(this,Rs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new RR,this.fontLoader=new c5({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qt(this,"annotationStorage",new E_)}getRenderingIntent(t,e=br.ENABLE,n=null,r=!1,l=!1){let c=bn.DISPLAY,h=zb;switch(t){case"any":c=bn.ANY;break;case"display":break;case"print":c=bn.PRINT;break;default:Ft(`getRenderingIntent - invalid intent: ${t}`)}const f=c&bn.PRINT&&n instanceof rR?n:this.annotationStorage;switch(e){case br.DISABLE:c+=bn.ANNOTATIONS_DISABLE;break;case br.ENABLE:break;case br.ENABLE_FORMS:c+=bn.ANNOTATIONS_FORMS;break;case br.ENABLE_STORAGE:c+=bn.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Ft(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=bn.IS_EDITING),l&&(c+=bn.OPLIST);const{ids:g,hash:y}=f.modifiedIds,d=[c,h.hash,y];return{renderingIntent:c,cacheKey:d.join("_"),annotationStorageSerializable:h,modifiedIds:g}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=p(this,Rs))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of p(this,Ms).values())t.push(r._destroy());p(this,Ms).clear(),p(this,mu).clear(),p(this,yu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),p(this,ba).clear(),this.filterFactory.destroy(),Kb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Fl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Ke(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}Ke(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,r)=>{Ke(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}Ke(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new cj(n,this))}),t.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new bb(n.message,n.code);break;case"InvalidPDFException":r=new kM(n.message);break;case"MissingPDFException":r=new Nl(n.message);break;case"UnexpectedResponseException":r=new Xm(n.message,n.status);break;case"UnknownErrorException":r=new Ab(n.message,n.details);break;default:ge("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",n=>{if(M(this,Rs,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?p(this,Rs).reject(l):p(this,Rs).resolve({password:l})};try{e.onPassword(r,n.code)}catch(l){p(this,Rs).reject(l)}}else p(this,Rs).reject(new bb(n.message,n.code));return p(this,Rs).promise}),t.on("DataLoaded",n=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;p(this,Ms).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in l){const A=l.error;Ft(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const y=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,x)=>globalThis.FontInspector.fontAdded(A,x):null,d=new u5(l,{disableFontFace:h,inspectFont:y});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!f&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:m}=l;Ke(m,"The imageRef must be defined.");for(const A of p(this,Ms).values())for(const[,x]of A.objs)if((x==null?void 0:x.ref)===m)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,c])=>{var f;if(this.destroyed)return;const h=p(this,Ms).get(r);if(!h.objs.has(n)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(n,c),(c==null?void 0:c.dataLen)>jI&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=p(this,mu).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&p(this,yu).set(l.refStr,t);const c=new uj(e,l,this,this._params.pdfBug);return p(this,Ms).set(e,c),c});return p(this,mu).set(e,r),r}getPageIndex(t){return TE(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return R(this,al,ad).call(this,"GetFieldObjects")}hasJSActions(){return R(this,al,ad).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return R(this,al,ad).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return R(this,al,ad).call(this,"GetOptionalContentConfig").then(e=>new k5(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=p(this,ba).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new D5(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return p(this,ba).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of p(this,Ms).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),p(this,ba).clear(),this.filterFactory.destroy(!0),Kb.cleanup()}}cachedPageNumber(t){if(!TE(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return p(this,yu).get(e)??null}}ba=new WeakMap,Ms=new WeakMap,mu=new WeakMap,yu=new WeakMap,Rs=new WeakMap,al=new WeakSet,ad=function(t,e=null){const n=p(this,ba).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return p(this,ba).set(t,r),r};const Sg=Symbol("INITIAL_DATA");var is,hf,tA;class RR{constructor(){P(this,hf);P(this,is,Object.create(null))}get(t,e=null){if(e){const r=R(this,hf,tA).call(this,t);return r.promise.then(()=>e(r.data)),null}const n=p(this,is)[t];if(!n||n.data===Sg)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=p(this,is)[t];return!!e&&e.data!==Sg}resolve(t,e=null){const n=R(this,hf,tA).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in p(this,is)){const{data:n}=p(this,is)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}M(this,is,Object.create(null))}*[Symbol.iterator](){for(const t in p(this,is)){const{data:e}=p(this,is)[t];e!==Sg&&(yield[t,e])}}}is=new WeakMap,hf=new WeakSet,tA=function(t){var e;return(e=p(this,is))[t]||(e[t]={...Promise.withResolvers(),data:Sg})};var Fr;class fj{constructor(t){P(this,Fr,null);M(this,Fr,t),this.onContinue=null}get promise(){return p(this,Fr).capability.promise}cancel(t=0){p(this,Fr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=p(this,Fr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=p(this,Fr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Fr=new WeakMap;var Ir,rl;const Ro=class Ro{constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:y=!1,pdfBug:d=!1,pageColors:m=null}){P(this,Ir,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=d,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=y===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new fj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,f;if(this.cancelled)return;if(this._canvas){if(p(Ro,rl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Ro,rl).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:c}=this.params;this.gfx=new zc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),p(this,Ir)&&(window.cancelAnimationFrame(p(this,Ir)),M(this,Ir,null)),p(Ro,rl).delete(this._canvas),this.callback(t||new x_(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?M(this,Ir,window.requestAnimationFrame(()=>{M(this,Ir,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Ro,rl).delete(this._canvas),this.callback())))}};Ir=new WeakMap,rl=new WeakMap,P(Ro,rl,new WeakSet);let eA=Ro;const pj="4.8.69",gj="3634dab10";function EE(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function $h(a){return Math.max(0,Math.min(255,255*a))}class CE{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=$h(t),[t,t,t]}static G_HTML([t]){const e=EE(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map($h)}static RGB_HTML(t){return`#${t.map(EE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[$h(1-Math.min(1,t+r)),$h(1-Math.min(1,n+r)),$h(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,l=1-e,c=1-n,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class mj{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ge("Abstract method `_createSVG` called.")}}class L_ extends mj{_createSVG(t){return document.createElementNS(oa,t)}}class DR{static setupStorage(t,e,n,r,l){const c=r.getValue(e,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of n.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,g]of Object.entries(c))if(g!=null)switch(f){case"class":g.length&&t.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,g)}h&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,e,n)}static render(t){var d,m;const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:n});const h=l!=="richText",f=t.div;if(f.append(c),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}h&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);c.append(A),h&&Cd.shouldBuildText(r.name)&&g.push(A)}return{textDivs:g}}const y=[[r,-1,c]];for(;y.length>0;){const[A,x,S]=y.at(-1);if(x+1===A.children.length){y.pop();continue}const C=A.children[++y.at(-1)[1]];if(C===null)continue;const{name:E}=C;if(E==="#text"){const L=document.createTextNode(C.value);g.push(L),S.append(L);continue}const O=(d=C==null?void 0:C.attributes)!=null&&d.xmlns?document.createElementNS(C.attributes.xmlns,E):document.createElement(E);if(S.append(O),C.attributes&&this.setAttributes({html:O,element:C,storage:e,intent:l,linkService:n}),((m=C.children)==null?void 0:m.length)>0)y.push([C,-1,O]);else if(C.value){const L=document.createTextNode(C.value);h&&Cd.shouldBuildText(E)&&g.push(L),O.append(L)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Kf=1e3,yj=9,Ll=new WeakSet;function Na(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class vj{static create(t){switch(t.data.annotationType){case qe.LINK:return new LR(t);case qe.TEXT:return new bj(t);case qe.WIDGET:switch(t.data.fieldType){case"Tx":return new Aj(t);case"Btn":return t.data.radioButton?new OR(t):t.data.checkBox?new xj(t):new wj(t);case"Ch":return new Sj(t);case"Sig":return new _j(t)}return new Il(t);case qe.POPUP:return new nA(t);case qe.FREETEXT:return new BR(t);case qe.LINE:return new Ej(t);case qe.SQUARE:return new Cj(t);case qe.CIRCLE:return new Mj(t);case qe.POLYLINE:return new HR(t);case qe.CARET:return new Dj(t);case qe.INK:return new k_(t);case qe.POLYGON:return new Rj(t);case qe.HIGHLIGHT:return new zR(t);case qe.UNDERLINE:return new Lj(t);case qe.SQUIGGLY:return new kj(t);case qe.STRIKEOUT:return new Pj(t);case qe.STAMP:return new VR(t);case qe.FILEATTACHMENT:return new Oj(t);default:return new Pe(t)}}}var ol,vu,bu,df,iA;const F_=class F_{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){P(this,df);P(this,ol,null);P(this,vu,!1);P(this,bu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return F_._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;p(this,ol)||M(this,ol,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&R(this,df,iA).call(this,e),(n=p(this,bu))==null||n.popup.updateEdited(t)}resetEdited(){var t;p(this,ol)&&(R(this,df,iA).call(this,p(this,ol).rect),(t=p(this,bu))==null||t.popup.resetEdited(),M(this,ol,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Il||(l.tabIndex=Kf);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof nA){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:h,height:f}=Na(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(S>0||C>0){const O=`calc(${S}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;c.borderRadius=O}else if(this instanceof OR){const O=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=O}switch(e.borderStyle.style){case Yh.SOLID:c.borderStyle="solid";break;case Yh.DASHED:c.borderStyle="dashed";break;case Yh.BEVELED:Ft("Unimplemented border style: beveled");break;case Yh.INSET:Ft("Unimplemented border style: inset");break;case Yh.UNDERLINE:c.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(M(this,vu,!0),c.borderColor=vt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):c.borderWidth=0}const g=vt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:y,pageHeight:d,pageX:m,pageY:A}=r.rawDims;c.left=`${100*(g[0]-m)/y}%`,c.top=`${100*(g[1]-A)/d}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(c.width=`${100*h/y}%`,c.height=`${100*f/d}%`):this.setRotation(x,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=Na(this.data.rect);let h,f;t%180===0?(h=100*l/n,f=100*c/r):(h=100*c/n,f=100*l/r),e.style.width=`${h}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const l=r.detail[e],c=l[0],h=l.slice(1);r.target.style[n]=CE[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:CE[`${c}_rgb`](h)})};return qt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||n[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,l]of Object.entries(e)){const c=n[r];if(c){const h={detail:{[r]:l},target:t};c(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,l]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,C,E,O]=t.subarray(2,6);if(r===S&&l===C&&e===E&&n===O)return}const{style:c}=this.container;let h;if(p(this,vu)){const{borderColor:S,borderWidth:C}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const f=r-e,g=l-n,{svgFactory:y}=this,d=y.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const m=y.createElement("defs");d.append(m);const A=y.createElement("clipPath"),x=`clippath_${this.data.id}`;A.setAttribute("id",x),A.setAttribute("clipPathUnits","objectBoundingBox"),m.append(A);for(let S=2,C=t.length;S<C;S+=8){const E=t[S],O=t[S+1],L=t[S+2],_=t[S+3],w=y.createElement("rect"),D=(L-e)/f,N=(l-O)/g,F=(E-L)/f,j=(O-_)/g;w.setAttribute("x",D),w.setAttribute("y",N),w.setAttribute("width",F),w.setAttribute("height",j),A.append(w),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${N}" width="${F}" height="${j}"/>`)}p(this,vu)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(d),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=M(this,bu,new nA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ge("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===e)continue;const f=typeof h=="string"?h:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!Ll.has(g)){Ft(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:f,domElement:g})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&Ll.has(r)&&n.push({id:c,exportValue:l,domElement:r})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};ol=new WeakMap,vu=new WeakMap,bu=new WeakMap,df=new WeakSet,iA=function(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;n==null||n.splice(0,4,...t);const{width:g,height:y}=Na(t);e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+f)/c}%`,r===0?(e.width=`${100*g/l}%`,e.height=`${100*y/c}%`):this.setRotation(r)};let Pe=F_;var An,So,kR,PR;class LR extends Pe{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});P(this,An);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(R(this,An,kR).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(R(this,An,PR).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&R(this,An,So).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),R(this,An,So).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const c=r.get(l);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),R(this,An,So).call(this)}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),R(this,An,So).call(this),!this._fieldObjects){Ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var d;r==null||r();const{fields:l,refs:c,include:h}=n,f=[];if(l.length!==0||c.length!==0){const m=new Set(c);for(const A of l){const x=this._fieldObjects[A]||[];for(const{id:S}of x)m.add(S)}for(const A of Object.values(this._fieldObjects))for(const x of A)m.has(x.id)===h&&f.push(x)}else for(const m of Object.values(this._fieldObjects))f.push(...m);const g=this.annotationStorage,y=[];for(const m of f){const{id:A}=m;switch(y.push(A),m.type){case"text":{const S=m.defaultValue||"";g.setValue(A,{value:S});break}case"checkbox":case"radiobutton":{const S=m.defaultValue===m.exportValues;g.setValue(A,{value:S});break}case"combobox":case"listbox":{const S=m.defaultValue||"";g.setValue(A,{value:S});break}default:continue}const x=document.querySelector(`[data-element-id="${A}"]`);if(x){if(!Ll.has(x)){Ft(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:y,name:"ResetForm"}})),!1}}}An=new WeakSet,So=function(){this.container.setAttribute("data-internal-link","")},kR=function(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,r),!1},R(this,An,So).call(this)},PR=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),R(this,An,So).call(this)};class bj extends Pe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Il extends Pe{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Fi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,l){n.includes("mouse")?t.addEventListener(n,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{var h;if(n==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(t,e,n,r){var l,c,h;for(const[f,g]of n)(g==="Action"||(l=this.data.actions)!=null&&l[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":vt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||yj,l=t.style;let c;const h=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h),y=Math.round(g/(Hv*r))||1,d=g/y;c=Math.min(r,f(d/Hv))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(g/Hv))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=vt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Aj extends Il{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=n),l.setValue(c.id,{[r]:n})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const y={userValue:h,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=g??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",g??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ll.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Kf,this._setRequired(n,this.data.required),f&&(n.maxLength=f),n.addEventListener("input",m=>{t.setValue(e,{value:m.target.value}),this.setPropertyOnSiblings(n,"value",m.target.value,"value"),y.formattedValue=null}),n.addEventListener("resetform",m=>{const A=this.data.defaultFieldValue??"";n.value=y.userValue=A,y.formattedValue=null});let d=m=>{const{formattedValue:A}=y;A!=null&&(m.target.value=A),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var S;if(y.focused)return;const{target:x}=A;y.userValue&&(x.value=y.userValue),y.lastCommittedValue=x.value,y.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(y.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const x={value(S){y.userValue=S.detail.value??"",t.setValue(e,{value:y.userValue.toString()}),S.target.value=y.userValue},formattedValue(S){const{formattedValue:C}=S.detail;y.formattedValue=C,C!=null&&S.target!==document.activeElement&&(S.target.value=C),t.setValue(e,{formattedValue:C})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var L;const{charLimit:C}=S.detail,{target:E}=S;if(C===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",C);let O=y.userValue;!O||O.length<=C||(O=O.slice(0,C),E.value=y.userValue=O,t.setValue(e,{value:O}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(x,A)}),n.addEventListener("keydown",A=>{var C;y.commitKey=1;let x=-1;if(A.key==="Escape"?x=0:A.key==="Enter"&&!this.data.multiLine?x=2:A.key==="Tab"&&(y.commitKey=3),x===-1)return;const{value:S}=A.target;y.lastCommittedValue!==S&&(y.lastCommittedValue=S,y.userValue=S,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:x,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const m=d;d=null,n.addEventListener("blur",A=>{var S,C;if(!y.focused||!A.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(y.focused=!1);const{value:x}=A.target;y.userValue=x,y.lastCommittedValue!==x&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:y.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),m(A)}),(l=this.data.actions)!=null&&l.Keystroke&&n.addEventListener("beforeinput",A=>{var w;y.lastCommittedValue=null;const{data:x,target:S}=A,{value:C,selectionStart:E,selectionEnd:O}=S;let L=E,_=O;switch(A.inputType){case"deleteWordBackward":{const D=C.substring(0,E).match(/\w*[^\w]*$/);D&&(L-=D[0].length);break}case"deleteWordForward":{const D=C.substring(E).match(/^[^\w]*\w*/);D&&(_+=D[0].length);break}case"deleteContentBackward":E===O&&(L-=1);break;case"deleteContentForward":E===O&&(_+=1);break}A.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:x||"",willCommit:!1,selStart:L,selEnd:_}})}),this._setEventListeners(n,y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class _j extends Il{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class xj extends Il{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Ll.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=Kf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const g of this._getElementsByName(h,n)){const y=f&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=y),t.setValue(g.id,{value:y})}t.setValue(n,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class OR extends Il{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(Ll.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Kf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const g of this._getElementsByName(h,n))t.setValue(g.id,{value:!1});t.setValue(n,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:g=>{const y=c===g.detail.value;for(const d of this._getElementsByName(g.target.name)){const m=y&&d.id===n;d.domElement&&(d.domElement.checked=m),t.setValue(d.id,{value:m})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class wj extends LR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class Sj extends Il{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Ll.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Kf;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",y=>{const d=this.data.defaultFieldValue;for(const m of r.options)m.selected=m.value===d});for(const y of this.data.options){const d=document.createElement("option");d.textContent=y.displayValue,d.value=y.exportValue,n.value.includes(y.exportValue)&&(d.setAttribute("selected",!0),l=!1),r.append(d)}let c=null;if(l){const y=document.createElement("option");y.value=" ",y.setAttribute("hidden",!0),y.setAttribute("selected",!0),r.prepend(y),c=()=>{y.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=y=>{const d=y?"value":"textContent",{options:m,multiple:A}=r;return A?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[d]):m.selectedIndex===-1?null:m[m.selectedIndex][d]};let f=h(!1);const g=y=>{const d=y.target.options;return Array.prototype.map.call(d,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",y=>{const d={value(m){c==null||c();const A=m.detail.value,x=new Set(Array.isArray(A)?A:[A]);for(const S of r.options)S.selected=x.has(S.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(m){r.multiple=!0},remove(m){const A=r.options,x=m.detail.remove;A[x].selected=!1,r.remove(x),A.length>0&&Array.prototype.findIndex.call(A,C=>C.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:h(!0),items:g(m)}),f=h(!1)},clear(m){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(m){const{index:A,displayValue:x,exportValue:S}=m.detail.insert,C=r.children[A],E=document.createElement("option");E.textContent=x,E.value=S,C?C.before(E):r.append(E),t.setValue(e,{value:h(!0),items:g(m)}),f=h(!1)},items(m){const{items:A}=m.detail;for(;r.length!==0;)r.remove(0);for(const x of A){const{displayValue:S,exportValue:C}=x,E=document.createElement("option");E.textContent=S,E.value=C,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:g(m)}),f=h(!1)},indices(m){const A=new Set(m.detail.indices);for(const x of m.target.options)x.selected=A.has(x.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(d,y)}),r.addEventListener("input",y=>{var A;const d=h(!0),m=h(!1);t.setValue(e,{value:d}),y.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:m,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],y=>y.target.value)):r.addEventListener("input",function(y){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class nA extends Pe{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Pe._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Tj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${__}${n}`).join(",")),this.container}}var Au,Pm,Om,_u,ll,Ce,Aa,xu,ff,pf,wu,_a,ns,xa,gf,wa,mf,cl,ul,le,qg,sA,NR,FR,IR,jR,Xg,Yg,aA;class Tj{constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:g,parentRect:y,open:d}){P(this,le);P(this,Au,R(this,le,IR).bind(this));P(this,Pm,R(this,le,aA).bind(this));P(this,Om,R(this,le,Yg).bind(this));P(this,_u,R(this,le,Xg).bind(this));P(this,ll,null);P(this,Ce,null);P(this,Aa,null);P(this,xu,null);P(this,ff,null);P(this,pf,null);P(this,wu,null);P(this,_a,!1);P(this,ns,null);P(this,xa,null);P(this,gf,null);P(this,wa,null);P(this,mf,null);P(this,cl,null);P(this,ul,!1);var m;M(this,Ce,t),M(this,mf,r),M(this,Aa,c),M(this,wa,h),M(this,pf,f),M(this,ll,e),M(this,gf,g),M(this,wu,y),M(this,ff,n),M(this,xu,S_.toDateObject(l)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",p(this,_u)),A.addEventListener("mouseenter",p(this,Om)),A.addEventListener("mouseleave",p(this,Pm)),A.classList.add("popupTriggerArea");for(const A of n)(m=A.container)==null||m.addEventListener("keydown",p(this,Au));p(this,Ce).hidden=!0,d&&R(this,le,Xg).call(this)}render(){if(p(this,ns))return;const t=M(this,ns,document.createElement("div"));if(t.className="popup",p(this,ll)){const l=t.style.outlineColor=vt.makeHexColor(...p(this,ll));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=vt.makeHexColor(...p(this,ll).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=p(this,mf),t.append(e),p(this,xu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,xu).valueOf()})),e.append(l)}const r=p(this,le,qg);if(r)DR.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(p(this,Aa));t.append(l)}p(this,Ce).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];n.append(document.createTextNode(h)),l<c-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;p(this,cl)||M(this,cl,{contentsObj:p(this,Aa),richText:p(this,wa)}),t&&M(this,xa,null),e&&(M(this,wa,R(this,le,FR).call(this,e)),M(this,Aa,null)),(n=p(this,ns))==null||n.remove(),M(this,ns,null)}resetEdited(){var t;p(this,cl)&&({contentsObj:Ri(this,Aa)._,richText:Ri(this,wa)._}=p(this,cl),M(this,cl,null),(t=p(this,ns))==null||t.remove(),M(this,ns,null),M(this,xa,null))}forceHide(){M(this,ul,this.isVisible),p(this,ul)&&(p(this,Ce).hidden=!0)}maybeShow(){p(this,ul)&&(p(this,ns)||R(this,le,Yg).call(this),M(this,ul,!1),p(this,Ce).hidden=!1)}get isVisible(){return p(this,Ce).hidden===!1}}Au=new WeakMap,Pm=new WeakMap,Om=new WeakMap,_u=new WeakMap,ll=new WeakMap,Ce=new WeakMap,Aa=new WeakMap,xu=new WeakMap,ff=new WeakMap,pf=new WeakMap,wu=new WeakMap,_a=new WeakMap,ns=new WeakMap,xa=new WeakMap,gf=new WeakMap,wa=new WeakMap,mf=new WeakMap,cl=new WeakMap,ul=new WeakMap,le=new WeakSet,qg=function(){const t=p(this,wa),e=p(this,Aa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&p(this,wa).html||null},sA=function(){var t,e,n;return((n=(e=(t=p(this,le,qg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},NR=function(){var t,e,n;return((n=(e=(t=p(this,le,qg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},FR=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:p(this,le,NR),fontSize:p(this,le,sA)?`calc(${p(this,le,sA)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return n},IR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&p(this,_a))&&R(this,le,Xg).call(this)},jR=function(){if(p(this,xa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:l}}}=p(this,pf);let c=!!p(this,wu),h=c?p(this,wu):p(this,gf);for(const x of p(this,ff))if(!h||vt.intersect(x.data.rect,h)!==null){h=x.data.rect,c=!0;break}const f=vt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),y=c?h[2]-h[0]+5:0,d=f[0]+y,m=f[1];M(this,xa,[100*(d-r)/e,100*(m-l)/n]);const{style:A}=p(this,Ce);A.left=`${p(this,xa)[0]}%`,A.top=`${p(this,xa)[1]}%`},Xg=function(){M(this,_a,!p(this,_a)),p(this,_a)?(R(this,le,Yg).call(this),p(this,Ce).addEventListener("click",p(this,_u)),p(this,Ce).addEventListener("keydown",p(this,Au))):(R(this,le,aA).call(this),p(this,Ce).removeEventListener("click",p(this,_u)),p(this,Ce).removeEventListener("keydown",p(this,Au)))},Yg=function(){p(this,ns)||this.render(),this.isVisible?p(this,_a)&&p(this,Ce).classList.add("focused"):(R(this,le,jR).call(this),p(this,Ce).hidden=!1,p(this,Ce).style.zIndex=parseInt(p(this,Ce).style.zIndex)+1e3)},aA=function(){p(this,Ce).classList.remove("focused"),!(p(this,_a)||!this.isVisible)&&(p(this,Ce).hidden=!0,p(this,Ce).style.zIndex=parseInt(p(this,Ce).style.zIndex)-1e3)};class BR extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Pt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var yf;class Ej extends Pe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,yf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:r}=Na(e.rect),l=this.svgFactory.create(n,r,!0),c=M(this,yf,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap;var vf;class Cj extends Pe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,vf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:r}=Na(e.rect),l=this.svgFactory.create(n,r,!0),c=e.borderStyle.width,h=M(this,vf,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",n-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}vf=new WeakMap;var bf;class Mj extends Pe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,bf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:r}=Na(e.rect),l=this.svgFactory.create(n,r,!0),c=e.borderStyle.width,h=M(this,bf,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",r/2),h.setAttribute("rx",n/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}bf=new WeakMap;var Af;class HR extends Pe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,Af,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:l}}=this;if(!n)return this.container;const{width:c,height:h}=Na(e),f=this.svgFactory.create(c,h,!0);let g=[];for(let d=0,m=n.length;d<m;d+=2){const A=n[d]-e[0],x=e[3]-n[d+1];g.push(`${A},${x}`)}g=g.join(" ");const y=M(this,Af,this.svgFactory.createElement(this.svgElementName));return y.setAttribute("points",g),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),f.append(y),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,Af)}addHighlightArea(){this.container.classList.add("highlightArea")}}Af=new WeakMap;class Rj extends HR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Dj extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _f;class k_ extends Pe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});P(this,_f,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Pt.HIGHLIGHT:Pt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:r,popupRef:l}}=this,{width:c,height:h}=Na(e),f=this.svgFactory.create(c,h,!0);for(const g of n){let y=[];for(let m=0,A=g.length;m<A;m+=2){const x=g[m]-e[0],S=e[3]-g[m+1];y.push(`${x},${S}`)}y=y.join(" ");const d=this.svgFactory.createElement(this.svgElementName);p(this,_f).push(d),d.setAttribute("points",y),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),f.append(d)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return p(this,_f)}addHighlightArea(){this.container.classList.add("highlightArea")}}_f=new WeakMap;class zR extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Pt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Lj extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class kj extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Pj extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class VR extends Pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Pt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xf,wf,rA;class Oj extends Pe{constructor(e){var r;super(e,{isRenderable:!0});P(this,wf);P(this,xf,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",R(this,wf,rA).bind(this)),M(this,xf,r);const{isMac:l}=Fi.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&R(this,wf,rA).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return p(this,xf)}addHighlightArea(){this.container.classList.add("highlightArea")}}xf=new WeakMap,wf=new WeakSet,rA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Sf,hl,dl,Tf,Pl,UR,oA,UE;let Nj=(UE=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){P(this,Pl);P(this,Sf,null);P(this,hl,null);P(this,dl,new Map);P(this,Tf,null);this.div=t,M(this,Sf,e),M(this,hl,n),M(this,Tf,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return p(this,dl).size>0}async render(t){var c;const{annotations:e}=t,n=this.div;Rl(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new L_,annotationStorage:t.annotationStorage||new E_,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===qe.POPUP;if(f){const d=r.get(h.id);if(!d)continue;l.elements=d}else{const{width:d,height:m}=Na(h.rect);if(d<=0||m<=0)continue}l.data=h;const g=vj.create(l);if(!g.isRenderable)continue;if(!f&&h.popupRef){const d=r.get(h.popupRef);d?d.push(g):r.set(h.popupRef,[g])}const y=g.render();h.hidden&&(y.style.visibility="hidden"),await R(this,Pl,UR).call(this,y,h.id),g._isEditable&&(p(this,dl).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}R(this,Pl,oA).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Rl(e,{rotation:t.rotation}),R(this,Pl,oA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(p(this,dl).values())}getEditableAnnotation(t){return p(this,dl).get(t)}},Sf=new WeakMap,hl=new WeakMap,dl=new WeakMap,Tf=new WeakMap,Pl=new WeakSet,UR=async function(t,e){var c,h;const n=t.firstChild||t,r=n.id=`${__}${e}`,l=await((c=p(this,Tf))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,g]of l)n.setAttribute(f,g);this.div.append(t),(h=p(this,Sf))==null||h.moveElementInDOM(this.div,t,n,!1)},oA=function(){if(!p(this,hl))return;const t=this.div;for(const[e,n]of p(this,hl)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):r.append(n)}p(this,hl).clear()},UE);const Tg=/\r\n?|\n/g;var ss,fn,Ef,fl,pn,Ve,GR,qR,XR,Wg,Ia,$g,Kg,YR,cA,WR;const he=class he extends ee{constructor(e){super({...e,name:"freeTextEditor"});P(this,Ve);P(this,ss);P(this,fn,"");P(this,Ef,`${this.id}-editor`);P(this,fl,null);P(this,pn);M(this,ss,e.color||he._defaultColor||ee._defaultLineColor),M(this,pn,e.fontSize||he._defaultFontSize)}static get _keyboardManager(){const e=he.prototype,n=c=>c.isEmpty(),r=Dl.TRANSLATE_SMALL,l=Dl.TRANSLATE_BIG;return qt(this,"_keyboardManager",new $f([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:n}]]))}static initialize(e,n){ee.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Tt.FREETEXT_SIZE:he._defaultFontSize=n;break;case Tt.FREETEXT_COLOR:he._defaultColor=n;break}}updateParams(e,n){switch(e){case Tt.FREETEXT_SIZE:R(this,Ve,GR).call(this,n);break;case Tt.FREETEXT_COLOR:R(this,Ve,qR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,he._defaultFontSize],[Tt.FREETEXT_COLOR,he._defaultColor||ee._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,p(this,pn)],[Tt.FREETEXT_COLOR,p(this,ss)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-he._internalPadding*e,-(he._internalPadding+p(this,pn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Pt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),M(this,fl,new AbortController);const e=this._uiManager.combinedSignal(p(this,fl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,Ef)),this._isDraggable=!0,(e=p(this,fl))==null||e.abort(),M(this,fl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=p(this,fn),n=M(this,fn,R(this,Ve,XR).call(this).trimEnd());if(e===n)return;const r=l=>{if(M(this,fn,l),!l){this.remove();return}R(this,Ve,Kg).call(this),this._uiManager.rebuild(this),R(this,Ve,Wg).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),R(this,Ve,Wg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){he._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,Ef)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${p(this,pn)}px * var(--scale-factor))`,r.color=p(this,ss),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),gm(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[y,d]=this.pageDimensions,[m,A]=this.pageTranslation;let x,S;switch(this.rotation){case 0:x=e+(h[0]-m)/y,S=n+this.height-(h[1]-A)/d;break;case 90:x=e+(h[0]-m)/y,S=n-(h[1]-A)/d,[f,g]=[g,-f];break;case 180:x=e-this.width+(h[0]-m)/y,S=n-(h[1]-A)/d,[f,g]=[-f,-g];break;case 270:x=e+(h[0]-m-this.height*d)/y,S=n+(h[1]-A-this.width*y)/d,[f,g]=[-g,f];break}this.setAt(x*l,S*c,f,g)}else this.setAt(e*l,n*c,this.width*l,this.height*c);R(this,Ve,Kg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var x,S,C;const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=R(x=he,Ia,cA).call(x,n.getData("text")||"").replaceAll(Tg,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:g}=h,y=[],d=[];if(f.nodeType===Node.TEXT_NODE){const E=f.parentElement;if(d.push(f.nodeValue.slice(g).replaceAll(Tg,"")),E!==this.editorDiv){let O=y;for(const L of this.editorDiv.childNodes){if(L===E){O=d;continue}O.push(R(S=he,Ia,$g).call(S,L))}}y.push(f.nodeValue.slice(0,g).replaceAll(Tg,""))}else if(f===this.editorDiv){let E=y,O=0;for(const L of this.editorDiv.childNodes)O++===g&&(E=d),E.push(R(C=he,Ia,$g).call(C,L))}M(this,fn,`${y.join(`
`)}${l}${d.join(`
`)}`),R(this,Ve,Kg).call(this);const m=new Range;let A=y.reduce((E,O)=>E+O.length,0);for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const O=E.nodeValue.length;if(A<=O){m.setStart(E,A),m.setEnd(E,A);break}A-=O}c.removeAllRanges(),c.addRange(m)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){var h;let l=null;if(e instanceof BR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:y,rotation:d,id:m,popupRef:A},textContent:x,textPosition:S,parent:{page:{pageNumber:C}}}=e;if(!x||x.length===0)return null;l=e={annotationType:Pt.FREETEXT,color:Array.from(g),fontSize:f,value:x.join(`
`),position:S,pageIndex:C-1,rect:y.slice(0),rotation:d,id:m,deleted:!1,popupRef:A}}const c=await super.deserialize(e,n,r);return M(c,pn,e.fontSize),M(c,ss,vt.makeHexColor(...e.color)),M(c,fn,R(h=he,Ia,cA).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=he._internalPadding*this.parentScale,r=this.getRect(n,n),l=ee._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:p(this,ss)),c={annotationType:Pt.FREETEXT,color:l,fontSize:p(this,pn),value:R(this,Ve,YR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!R(this,Ve,WR).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${p(this,pn)}px * var(--scale-factor))`,r.color=p(this,ss),n.replaceChildren();for(const c of p(this,fn).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),n.append(h)}const l=he._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:p(this,fn)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ss=new WeakMap,fn=new WeakMap,Ef=new WeakMap,fl=new WeakMap,pn=new WeakMap,Ve=new WeakSet,GR=function(e){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-p(this,pn))*this.parentScale),M(this,pn,l),R(this,Ve,Wg).call(this)},r=p(this,pn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qR=function(e){const n=l=>{M(this,ss,this.editorDiv.style.color=l)},r=p(this,ss);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},XR=function(){var r;const e=[];this.editorDiv.normalize();let n=null;for(const l of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(R(r=he,Ia,$g).call(r,l)),n=l);return e.join(`
`)},Wg=function(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()},Ia=new WeakSet,$g=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Tg,"")},Kg=function(){if(this.editorDiv.replaceChildren(),!!p(this,fn))for(const e of p(this,fn).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},YR=function(){return p(this,fn).replaceAll(""," ")},cA=function(e){return e.replaceAll(" ","")},WR=function(e){const{value:n,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((h,f)=>h!==l[f])||e.pageIndex!==c},P(he,Ia),St(he,"_freeTextDefaultContent",""),St(he,"_internalPadding",0),St(he,"_defaultColor",null),St(he,"_defaultFontSize",10),St(he,"_type","freetext"),St(he,"_editorType",Pt.FREETEXT);let lA=he;class $R{toSVGPath(){ge("Abstract method `toSVGPath` must be implemented.")}get box(){ge("Abstract getter `box` must be implemented.")}serialize(t,e){ge("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ge("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ge("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var gn,as,Su,Tu,Ds,It,pl,gl,Cf,Mf,Eu,Cu,jr,Rf,Nm,Fm,Qe,rd,KR,QR,ZR,JR,t2,e2;const ca=class ca{constructor({x:t,y:e},n,r,l,c,h=0){P(this,Qe);P(this,gn);P(this,as,[]);P(this,Su);P(this,Tu);P(this,Ds,[]);P(this,It,new Float64Array(18));P(this,pl);P(this,gl);P(this,Cf);P(this,Mf);P(this,Eu);P(this,Cu);P(this,jr,[]);M(this,gn,n),M(this,Cu,l*r),M(this,Tu,c),p(this,It).set([NaN,NaN,NaN,NaN,t,e],6),M(this,Su,h),M(this,Mf,p(ca,Rf)*r),M(this,Cf,p(ca,Fm)*r),M(this,Eu,r),p(this,jr).push(t,e)}isEmpty(){return isNaN(p(this,It)[8])}add({x:t,y:e}){var j;M(this,pl,t),M(this,gl,e);const[n,r,l,c]=p(this,gn);let[h,f,g,y]=p(this,It).subarray(8,12);const d=t-g,m=e-y,A=Math.hypot(d,m);if(A<p(this,Cf))return!1;const x=A-p(this,Mf),S=x/A,C=S*d,E=S*m;let O=h,L=f;h=g,f=y,g+=C,y+=E,(j=p(this,jr))==null||j.push(t,e);const _=-E/x,w=C/x,D=_*p(this,Cu),N=w*p(this,Cu);return p(this,It).set(p(this,It).subarray(2,8),0),p(this,It).set([g+D,y+N],4),p(this,It).set(p(this,It).subarray(14,18),12),p(this,It).set([g-D,y-N],16),isNaN(p(this,It)[6])?(p(this,Ds).length===0&&(p(this,It).set([h+D,f+N],2),p(this,Ds).push(NaN,NaN,NaN,NaN,(h+D-n)/l,(f+N-r)/c),p(this,It).set([h-D,f-N],14),p(this,as).push(NaN,NaN,NaN,NaN,(h-D-n)/l,(f-N-r)/c)),p(this,It).set([O,L,h,f,g,y],6),!this.isEmpty()):(p(this,It).set([O,L,h,f,g,y],6),Math.abs(Math.atan2(L-f,O-h)-Math.atan2(E,C))<Math.PI/2?([h,f,g,y]=p(this,It).subarray(2,6),p(this,Ds).push(NaN,NaN,NaN,NaN,((h+g)/2-n)/l,((f+y)/2-r)/c),[h,f,O,L]=p(this,It).subarray(14,18),p(this,as).push(NaN,NaN,NaN,NaN,((O+h)/2-n)/l,((L+f)/2-r)/c),!0):([O,L,h,f,g,y]=p(this,It).subarray(0,6),p(this,Ds).push(((O+5*h)/6-n)/l,((L+5*f)/6-r)/c,((5*h+g)/6-n)/l,((5*f+y)/6-r)/c,((h+g)/2-n)/l,((f+y)/2-r)/c),[g,y,h,f,O,L]=p(this,It).subarray(12,18),p(this,as).push(((O+5*h)/6-n)/l,((L+5*f)/6-r)/c,((5*h+g)/6-n)/l,((5*f+y)/6-r)/c,((h+g)/2-n)/l,((f+y)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=p(this,Ds),e=p(this,as);if(isNaN(p(this,It)[6])&&!this.isEmpty())return R(this,Qe,KR).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);R(this,Qe,ZR).call(this,n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return R(this,Qe,QR).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,r,l,c){return new i2(t,e,n,r,l,c)}getOutlines(){var d;const t=p(this,Ds),e=p(this,as),n=p(this,It),[r,l,c,h]=p(this,gn),f=new Float64Array((((d=p(this,jr))==null?void 0:d.length)??0)+2);for(let m=0,A=f.length-2;m<A;m+=2)f[m]=(p(this,jr)[m]-r)/c,f[m+1]=(p(this,jr)[m+1]-l)/h;if(f[f.length-2]=(p(this,pl)-r)/c,f[f.length-1]=(p(this,gl)-l)/h,isNaN(n[6])&&!this.isEmpty())return R(this,Qe,JR).call(this,f);const g=new Float64Array(p(this,Ds).length+24+p(this,as).length);let y=t.length;for(let m=0;m<y;m+=2){if(isNaN(t[m])){g[m]=g[m+1]=NaN;continue}g[m]=t[m],g[m+1]=t[m+1]}y=R(this,Qe,e2).call(this,g,y);for(let m=e.length-6;m>=6;m-=6)for(let A=0;A<6;A+=2){if(isNaN(e[m+A])){g[y]=g[y+1]=NaN,y+=2;continue}g[y]=e[m+A],g[y+1]=e[m+A+1],y+=2}return R(this,Qe,t2).call(this,g,y),this.newFreeDrawOutline(g,f,p(this,gn),p(this,Eu),p(this,Su),p(this,Tu))}};gn=new WeakMap,as=new WeakMap,Su=new WeakMap,Tu=new WeakMap,Ds=new WeakMap,It=new WeakMap,pl=new WeakMap,gl=new WeakMap,Cf=new WeakMap,Mf=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,jr=new WeakMap,Rf=new WeakMap,Nm=new WeakMap,Fm=new WeakMap,Qe=new WeakSet,rd=function(){const t=p(this,It).subarray(4,6),e=p(this,It).subarray(16,18),[n,r,l,c]=p(this,gn);return[(p(this,pl)+(t[0]-e[0])/2-n)/l,(p(this,gl)+(t[1]-e[1])/2-r)/c,(p(this,pl)+(e[0]-t[0])/2-n)/l,(p(this,gl)+(e[1]-t[1])/2-r)/c]},KR=function(){const[t,e,n,r]=p(this,gn),[l,c,h,f]=R(this,Qe,rd).call(this);return`M${(p(this,It)[2]-t)/n} ${(p(this,It)[3]-e)/r} L${(p(this,It)[4]-t)/n} ${(p(this,It)[5]-e)/r} L${l} ${c} L${h} ${f} L${(p(this,It)[16]-t)/n} ${(p(this,It)[17]-e)/r} L${(p(this,It)[14]-t)/n} ${(p(this,It)[15]-e)/r} Z`},QR=function(t){const e=p(this,as);t.push(`L${e[4]} ${e[5]} Z`)},ZR=function(t){const[e,n,r,l]=p(this,gn),c=p(this,It).subarray(4,6),h=p(this,It).subarray(16,18),[f,g,y,d]=R(this,Qe,rd).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-n)/l} L${f} ${g} L${y} ${d} L${(h[0]-e)/r} ${(h[1]-n)/l}`)},JR=function(t){const e=p(this,It),[n,r,l,c]=p(this,gn),[h,f,g,y]=R(this,Qe,rd).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(d,t,p(this,gn),p(this,Eu),p(this,Su),p(this,Tu))},t2=function(t,e){const n=p(this,as);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},e2=function(t,e){const n=p(this,It).subarray(4,6),r=p(this,It).subarray(16,18),[l,c,h,f]=p(this,gn),[g,y,d,m]=R(this,Qe,rd).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/h,(n[1]-c)/f,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,d,m,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/f],e),e+=24},P(ca,Rf,8),P(ca,Nm,2),P(ca,Fm,p(ca,Rf)+p(ca,Nm));let ym=ca;var Mu,ml,Sa,Df,mn,Lf,ke,Zi,od,ld,n2;class i2 extends $R{constructor(e,n,r,l,c,h){super();P(this,Zi);P(this,Mu);P(this,ml,null);P(this,Sa);P(this,Df);P(this,mn);P(this,Lf);P(this,ke);M(this,ke,e),M(this,mn,n),M(this,Mu,r),M(this,Lf,l),M(this,Sa,c),M(this,Df,h),R(this,Zi,n2).call(this,h);const{x:f,y:g,width:y,height:d}=p(this,ml);for(let m=0,A=e.length;m<A;m+=2)e[m]=(e[m]-f)/y,e[m+1]=(e[m+1]-g)/d;for(let m=0,A=n.length;m<A;m+=2)n[m]=(n[m]-f)/y,n[m+1]=(n[m+1]-g)/d}toSVGPath(){const e=[`M${p(this,ke)[4]} ${p(this,ke)[5]}`];for(let n=6,r=p(this,ke).length;n<r;n+=6){if(isNaN(p(this,ke)[n])){e.push(`L${p(this,ke)[n+4]} ${p(this,ke)[n+5]}`);continue}e.push(`C${p(this,ke)[n]} ${p(this,ke)[n+1]} ${p(this,ke)[n+2]} ${p(this,ke)[n+3]} ${p(this,ke)[n+4]} ${p(this,ke)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,l],c){const h=r-e,f=l-n;let g,y;switch(c){case 0:g=R(this,Zi,od).call(this,p(this,ke),e,l,h,-f),y=R(this,Zi,od).call(this,p(this,mn),e,l,h,-f);break;case 90:g=R(this,Zi,ld).call(this,p(this,ke),e,n,h,f),y=R(this,Zi,ld).call(this,p(this,mn),e,n,h,f);break;case 180:g=R(this,Zi,od).call(this,p(this,ke),r,n,-h,f),y=R(this,Zi,od).call(this,p(this,mn),r,n,-h,f);break;case 270:g=R(this,Zi,ld).call(this,p(this,ke),r,l,-h,-f),y=R(this,Zi,ld).call(this,p(this,mn),r,l,-h,-f);break}return{outline:Array.from(g),points:[Array.from(y)]}}get box(){return p(this,ml)}newOutliner(e,n,r,l,c,h=0){return new ym(e,n,r,l,c,h)}getNewOutline(e,n){const{x:r,y:l,width:c,height:h}=p(this,ml),[f,g,y,d]=p(this,Mu),m=c*y,A=h*d,x=r*y+f,S=l*d+g,C=this.newOutliner({x:p(this,mn)[0]*m+x,y:p(this,mn)[1]*A+S},p(this,Mu),p(this,Lf),e,p(this,Df),n??p(this,Sa));for(let E=2;E<p(this,mn).length;E+=2)C.add({x:p(this,mn)[E]*m+x,y:p(this,mn)[E+1]*A+S});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Mu=new WeakMap,ml=new WeakMap,Sa=new WeakMap,Df=new WeakMap,mn=new WeakMap,Lf=new WeakMap,ke=new WeakMap,Zi=new WeakSet,od=function(e,n,r,l,c){const h=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)h[f]=n+e[f]*l,h[f+1]=r+e[f+1]*c;return h},ld=function(e,n,r,l,c){const h=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)h[f]=n+e[f+1]*l,h[f+1]=r+e[f]*c;return h},n2=function(e){const n=p(this,ke);let r=n[4],l=n[5],c=r,h=l,f=r,g=l,y=r,d=l;const m=e?Math.max:Math.min;for(let E=6,O=n.length;E<O;E+=6){if(isNaN(n[E]))c=Math.min(c,n[E+4]),h=Math.min(h,n[E+5]),f=Math.max(f,n[E+4]),g=Math.max(g,n[E+5]),d<n[E+5]?(y=n[E+4],d=n[E+5]):d===n[E+5]&&(y=m(y,n[E+4]));else{const L=vt.bezierBoundingBox(r,l,...n.slice(E,E+6));c=Math.min(c,L[0]),h=Math.min(h,L[1]),f=Math.max(f,L[2]),g=Math.max(g,L[3]),d<L[3]?(y=L[2],d=L[3]):d===L[3]&&(y=m(y,L[2]))}r=n[E+4],l=n[E+5]}const A=c-p(this,Sa),x=h-p(this,Sa),S=f-c+2*p(this,Sa),C=g-h+2*p(this,Sa);M(this,ml,{x:A,y:x,width:S,height:C,lastPoint:[y,d]})};var kf,Br,rs,ji,s2,Qg,a2,r2,uA;class ME{constructor(t,e=0,n=0,r=!0){P(this,ji);P(this,kf);P(this,Br,[]);P(this,rs,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const g=10**-4;for(const{x:C,y:E,width:O,height:L}of t){const _=Math.floor((C-e)/g)*g,w=Math.ceil((C+O+e)/g)*g,D=Math.floor((E-e)/g)*g,N=Math.ceil((E+L+e)/g)*g,F=[_,D,N,!0],j=[w,D,N,!1];p(this,Br).push(F,j),l=Math.min(l,_),c=Math.max(c,w),h=Math.min(h,D),f=Math.max(f,N)}const y=c-l+2*n,d=f-h+2*n,m=l-n,A=h-n,x=p(this,Br).at(r?-1:-2),S=[x[0],x[2]];for(const C of p(this,Br)){const[E,O,L]=C;C[0]=(E-m)/y,C[1]=(O-A)/d,C[2]=(L-A)/d}M(this,kf,{x:m,y:A,width:y,height:d,lastPoint:S})}getOutlines(){p(this,Br).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of p(this,Br))e[3]?(t.push(...R(this,ji,uA).call(this,e)),R(this,ji,a2).call(this,e)):(R(this,ji,r2).call(this,e),t.push(...R(this,ji,uA).call(this,e)));return R(this,ji,s2).call(this,t)}}kf=new WeakMap,Br=new WeakMap,rs=new WeakMap,ji=new WeakSet,s2=function(t){const e=[],n=new Set;for(const c of t){const[h,f,g]=c;e.push([h,f,c],[h,g,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const f=e[c][2],g=e[c+1][2];f.push(g),g.push(f),n.add(f),n.add(g)}const r=[];let l;for(;n.size>0;){const c=n.values().next().value;let[h,f,g,y,d]=c;n.delete(c);let m=h,A=f;for(l=[h,g],r.push(l);;){let x;if(n.has(y))x=y;else if(n.has(d))x=d;else break;n.delete(x),[h,f,g,y,d]=x,m!==h&&(l.push(m,A,h,A===f?f:g),m=h),A=A===f?g:f}l.push(m,A)}return new Fj(r,p(this,kf))},Qg=function(t){const e=p(this,rs);let n=0,r=e.length-1;for(;n<=r;){const l=n+r>>1,c=e[l][0];if(c===t)return l;c<t?n=l+1:r=l-1}return r+1},a2=function([,t,e]){const n=R(this,ji,Qg).call(this,t);p(this,rs).splice(n,0,[t,e])},r2=function([,t,e]){const n=R(this,ji,Qg).call(this,t);for(let r=n;r<p(this,rs).length;r++){const[l,c]=p(this,rs)[r];if(l!==t)break;if(l===t&&c===e){p(this,rs).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,c]=p(this,rs)[r];if(l!==t)break;if(l===t&&c===e){p(this,rs).splice(r,1);return}}},uA=function(t){const[e,n,r]=t,l=[[e,n,r]],c=R(this,ji,Qg).call(this,r);for(let h=0;h<c;h++){const[f,g]=p(this,rs)[h];for(let y=0,d=l.length;y<d;y++){const[,m,A]=l[y];if(!(g<=m||A<=f)){if(m>=f){if(A>g)l[y][1]=g;else{if(d===1)return[];l.splice(y,1),y--,d--}continue}l[y][2]=f,A>g&&l.push([e,g,A])}}}return l};var Pf,Ru;class Fj extends $R{constructor(e,n){super();P(this,Pf);P(this,Ru);M(this,Ru,e),M(this,Pf,n)}toSVGPath(){const e=[];for(const n of p(this,Ru)){let[r,l]=n;e.push(`M${r} ${l}`);for(let c=2;c<n.length;c+=2){const h=n[c],f=n[c+1];h===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${h}`),r=h)}e.push("Z")}return e.join(" ")}serialize([e,n,r,l],c){const h=[],f=r-e,g=l-n;for(const y of p(this,Ru)){const d=new Array(y.length);for(let m=0;m<y.length;m+=2)d[m]=e+y[m]*f,d[m+1]=l-y[m+1]*g;h.push(d)}return h}get box(){return p(this,Pf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Pf=new WeakMap,Ru=new WeakMap;class hA extends ym{newFreeDrawOutline(t,e,n,r,l,c){return new Ij(t,e,n,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class Ij extends i2{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,r,l,c=0){return new hA(t,e,n,r,l,c)}}var os,yl,Du,Ye,Of,Lu,Nf,Ff,Hr,ls,ku,If,oe,dA,fA,pA,To,o2,vr;const Yi=class Yi{constructor({editor:t=null,uiManager:e=null}){P(this,oe);P(this,os,null);P(this,yl,null);P(this,Du);P(this,Ye,null);P(this,Of,!1);P(this,Lu,!1);P(this,Nf,null);P(this,Ff);P(this,Hr,null);P(this,ls,null);P(this,ku);var n;t?(M(this,Lu,!1),M(this,ku,Tt.HIGHLIGHT_COLOR),M(this,Nf,t)):(M(this,Lu,!0),M(this,ku,Tt.HIGHLIGHT_DEFAULT_COLOR)),M(this,ls,(t==null?void 0:t._uiManager)||e),M(this,Ff,p(this,ls)._eventBus),M(this,Du,(t==null?void 0:t.color)||((n=p(this,ls))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),p(Yi,If)||M(Yi,If,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qt(this,"_keyboardManager",new $f([[["Escape","mac+Escape"],Yi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yi.prototype._moveToPrevious],[["Home","mac+Home"],Yi.prototype._moveToBeginning],[["End","mac+End"],Yi.prototype._moveToEnd]]))}renderButton(){const t=M(this,os,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=p(this,ls)._signal;t.addEventListener("click",R(this,oe,To).bind(this),{signal:e}),t.addEventListener("keydown",R(this,oe,pA).bind(this),{signal:e});const n=M(this,yl,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=p(this,Du),t.append(n),t}renderMainDropdown(){const t=M(this,Ye,R(this,oe,dA).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===p(this,os)){R(this,oe,To).call(this,t);return}const e=t.target.getAttribute("data-color");e&&R(this,oe,fA).call(this,e,t)}_moveToNext(t){var e,n;if(!p(this,oe,vr)){R(this,oe,To).call(this,t);return}if(t.target===p(this,os)){(e=p(this,Ye).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=p(this,Ye))==null?void 0:e.firstChild)||t.target===p(this,os)){p(this,oe,vr)&&this._hideDropdownFromKeyboard();return}p(this,oe,vr)||R(this,oe,To).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!p(this,oe,vr)){R(this,oe,To).call(this,t);return}(e=p(this,Ye).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!p(this,oe,vr)){R(this,oe,To).call(this,t);return}(e=p(this,Ye).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=p(this,Ye))==null||t.classList.add("hidden"),(e=p(this,Hr))==null||e.abort(),M(this,Hr,null)}_hideDropdownFromKeyboard(){var t;if(!p(this,Lu)){if(!p(this,oe,vr)){(t=p(this,Nf))==null||t.unselect();return}this.hideDropdown(),p(this,os).focus({preventScroll:!0,focusVisible:p(this,Of)})}}updateColor(t){if(p(this,yl)&&(p(this,yl).style.backgroundColor=t),!p(this,Ye))return;const e=p(this,ls).highlightColors.values();for(const n of p(this,Ye).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=p(this,os))==null||t.remove(),M(this,os,null),M(this,yl,null),(e=p(this,Ye))==null||e.remove(),M(this,Ye,null)}};os=new WeakMap,yl=new WeakMap,Du=new WeakMap,Ye=new WeakMap,Of=new WeakMap,Lu=new WeakMap,Nf=new WeakMap,Ff=new WeakMap,Hr=new WeakMap,ls=new WeakMap,ku=new WeakMap,If=new WeakMap,oe=new WeakSet,dA=function(){const t=document.createElement("div"),e=p(this,ls)._signal;t.addEventListener("contextmenu",Un,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of p(this,ls).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",p(Yi,If)[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===p(this,Du)),l.addEventListener("click",R(this,oe,fA).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",R(this,oe,pA).bind(this),{signal:e}),t},fA=function(t,e){e.stopPropagation(),p(this,Ff).dispatch("switchannotationeditorparams",{source:this,type:p(this,ku),value:t})},pA=function(t){Yi._keyboardManager.exec(this,t)},To=function(t){if(p(this,oe,vr)){this.hideDropdown();return}if(M(this,Of,t.detail===0),p(this,Hr)||(M(this,Hr,new AbortController),window.addEventListener("pointerdown",R(this,oe,o2).bind(this),{signal:p(this,ls).combinedSignal(p(this,Hr))})),p(this,Ye)){p(this,Ye).classList.remove("hidden");return}const e=M(this,Ye,R(this,oe,dA).call(this));p(this,os).append(e)},o2=function(t){var e;(e=p(this,Ye))!=null&&e.contains(t.target)||this.hideDropdown()},vr=function(){return p(this,Ye)&&!p(this,Ye).classList.contains("hidden")},P(Yi,If,null);let vm=Yi;var Pu,jf,Ta,vl,Ou,Nn,Bf,Hf,bl,cs,xi,Ki,Nu,Ea,We,Fu,Fn,zf,Rt,gA,Zg,l2,c2,u2,mA,Eo,Bn,kc,h2,Jg,cd,d2,f2,p2,g2,m2;const $t=class $t extends ee{constructor(e){super({...e,name:"highlightEditor"});P(this,Rt);P(this,Pu,null);P(this,jf,0);P(this,Ta);P(this,vl,null);P(this,Ou,null);P(this,Nn,null);P(this,Bf,null);P(this,Hf,0);P(this,bl,null);P(this,cs,null);P(this,xi,null);P(this,Ki,!1);P(this,Nu,null);P(this,Ea);P(this,We,null);P(this,Fu,"");P(this,Fn);P(this,zf,"");this.color=e.color||$t._defaultColor,M(this,Fn,e.thickness||$t._defaultThickness),M(this,Ea,e.opacity||$t._defaultOpacity),M(this,Ta,e.boxes||null),M(this,zf,e.methodOfCreation||""),M(this,Fu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(M(this,Ki,!0),R(this,Rt,Zg).call(this,e),R(this,Rt,Eo).call(this)):p(this,Ta)&&(M(this,Pu,e.anchorNode),M(this,jf,e.anchorOffset),M(this,Bf,e.focusNode),M(this,Hf,e.focusOffset),R(this,Rt,gA).call(this),R(this,Rt,Eo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=$t.prototype;return qt(this,"_keyboardManager",new $f([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,Ki)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:p(this,Fn),methodOfCreation:p(this,zf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var r;ee.initialize(e,n),$t._defaultColor||($t._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Tt.HIGHLIGHT_DEFAULT_COLOR:$t._defaultColor=n;break;case Tt.HIGHLIGHT_THICKNESS:$t._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return p(this,Nu)}updateParams(e,n){switch(e){case Tt.HIGHLIGHT_COLOR:R(this,Rt,l2).call(this,n);break;case Tt.HIGHLIGHT_THICKNESS:R(this,Rt,c2).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,$t._defaultColor],[Tt.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[Tt.HIGHLIGHT_THICKNESS,p(this,Fn)||$t._defaultThickness],[Tt.HIGHLIGHT_FREE,p(this,Ki)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(M(this,Ou,new vm({editor:this})),e.addColorPicker(p(this,Ou))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(R(this,Rt,cd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,R(this,Rt,cd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){R(this,Rt,mA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(R(this,Rt,Eo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let n=!1;this.parent&&!e?R(this,Rt,mA).call(this):e&&(R(this,Rt,Eo).call(this,e),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var l,c,h;const{drawLayer:n}=this.parent;let r;p(this,Ki)?(e=(e-this.rotation+360)%360,r=R(l=$t,Bn,kc).call(l,p(this,cs).box,e)):r=R(c=$t,Bn,kc).call(c,this,e),n.rotate(p(this,xi),e),n.rotate(p(this,We),e),n.updateBox(p(this,xi),r),n.updateBox(p(this,We),R(h=$t,Bn,kc).call(h,p(this,Nn).box,e))}render(){if(this.div)return this.div;const e=super.render();p(this,Fu)&&(e.setAttribute("aria-label",p(this,Fu)),e.setAttribute("role","mark")),p(this,Ki)?e.classList.add("free"):this.div.addEventListener("keydown",R(this,Rt,h2).bind(this),{signal:this._uiManager._signal});const n=M(this,bl,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=p(this,vl);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),gm(this,p(this,bl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(p(this,We),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(p(this,We),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:R(this,Rt,Jg).call(this,!0);break;case 1:case 3:R(this,Rt,Jg).call(this,!1);break}}select(){var e,n;super.select(),p(this,We)&&((e=this.parent)==null||e.drawLayer.removeClass(p(this,We),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(p(this,We),"selected"))}unselect(){var e;super.unselect(),p(this,We)&&((e=this.parent)==null||e.drawLayer.removeClass(p(this,We),"selected"),p(this,Ki)||R(this,Rt,Jg).call(this,!1))}get _mustFixPosition(){return!p(this,Ki)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(p(this,xi),e),this.parent.drawLayer.show(p(this,We),e))}static startHighlighting(e,n,{target:r,x:l,y:c}){const{x:h,y:f,width:g,height:y}=r.getBoundingClientRect(),d=new AbortController,m=e.combinedSignal(d),A=S=>{S.preventDefault(),S.stopPropagation()},x=S=>{d.abort(),R(this,Bn,g2).call(this,e,S)};window.addEventListener("blur",x,{signal:m}),window.addEventListener("pointerup",x,{signal:m}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Un,{signal:m}),r.addEventListener("pointermove",R(this,Bn,p2).bind(this,e),{signal:m}),this._freeHighlight=new hA({x:l,y:c},[h,f,g,y],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,r){var S,C,E,O;let l=null;if(e instanceof zR){const{data:{quadPoints:L,rect:_,rotation:w,id:D,color:N,opacity:F,popupRef:j},parent:{page:{pageNumber:K}}}=e;l=e={annotationType:Pt.HIGHLIGHT,color:Array.from(N),opacity:F,quadPoints:L,boxes:null,pageIndex:K-1,rect:_.slice(0),rotation:w,id:D,deleted:!1,popupRef:j}}else if(e instanceof k_){const{data:{inkLists:L,rect:_,rotation:w,id:D,color:N,borderStyle:{rawWidth:F},popupRef:j},parent:{page:{pageNumber:K}}}=e;l=e={annotationType:Pt.HIGHLIGHT,color:Array.from(N),thickness:F,inkLists:L,boxes:null,pageIndex:K-1,rect:_.slice(0),rotation:w,id:D,deleted:!1,popupRef:j}}const{color:c,quadPoints:h,inkLists:f,opacity:g}=e,y=await super.deserialize(e,n,r);y.color=vt.makeHexColor(...c),M(y,Ea,g||1),f&&M(y,Fn,e.thickness),y.annotationElementId=e.id||null,y._initialData=l;const[d,m]=y.pageDimensions,[A,x]=y.pageTranslation;if(h){const L=M(y,Ta,[]);for(let _=0;_<h.length;_+=8)L.push({x:(h[_]-A)/d,y:1-(h[_+1]-x)/m,width:(h[_+2]-h[_])/d,height:(h[_+1]-h[_+5])/m});R(S=y,Rt,gA).call(S),R(C=y,Rt,Eo).call(C),y.rotate(y.rotation)}else if(f){M(y,Ki,!0);const L=f[0],_={x:L[0]-A,y:m-(L[1]-x)},w=new hA(_,[0,0,d,m],1,p(y,Fn)/2,!0,.001);for(let F=0,j=L.length;F<j;F+=2)_.x=L[F]-A,_.y=m-(L[F+1]-x),w.add(_);const{id:D,clipPathId:N}=n.drawLayer.draw(w,y.color,y._defaultOpacity,!0);R(E=y,Rt,Zg).call(E,{highlightOutlines:w.getOutlines(),highlightId:D,clipPathId:N}),R(O=y,Rt,Eo).call(O)}return y}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=ee._colorManager.convert(this.color),l={annotationType:Pt.HIGHLIGHT,color:r,opacity:p(this,Ea),thickness:p(this,Fn),quadPoints:R(this,Rt,d2).call(this),outlines:R(this,Rt,f2).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:R(this,Rt,cd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!R(this,Rt,m2).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Pu=new WeakMap,jf=new WeakMap,Ta=new WeakMap,vl=new WeakMap,Ou=new WeakMap,Nn=new WeakMap,Bf=new WeakMap,Hf=new WeakMap,bl=new WeakMap,cs=new WeakMap,xi=new WeakMap,Ki=new WeakMap,Nu=new WeakMap,Ea=new WeakMap,We=new WeakMap,Fu=new WeakMap,Fn=new WeakMap,zf=new WeakMap,Rt=new WeakSet,gA=function(){const e=new ME(p(this,Ta),.001);M(this,cs,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=p(this,cs).box;const n=new ME(p(this,Ta),.0025,.001,this._uiManager.direction==="ltr");M(this,Nn,n.getOutlines());const{lastPoint:r}=p(this,Nn).box;M(this,Nu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Zg=function({highlightOutlines:e,highlightId:n,clipPathId:r}){var d,m;if(M(this,cs,e),M(this,Nn,e.getNewOutline(p(this,Fn)/2+1.5,.0025)),n>=0)M(this,xi,n),M(this,vl,r),this.parent.drawLayer.finalizeLine(n,e),M(this,We,this.parent.drawLayer.drawOutline(p(this,Nn)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(p(this,xi),e),this.parent.drawLayer.updateBox(p(this,xi),R(d=$t,Bn,kc).call(d,p(this,cs).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(p(this,We),p(this,Nn)),this.parent.drawLayer.updateBox(p(this,We),R(m=$t,Bn,kc).call(m,p(this,Nn).box,A))}const{x:c,y:h,width:f,height:g}=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=g;break;case 90:{const[A,x]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*x/A,this.height=g*A/x;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=g;break;case 270:{const[A,x]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*x/A,this.height=g*A/x;break}}const{lastPoint:y}=p(this,Nn).box;M(this,Nu,[(y[0]-c)/f,(y[1]-h)/g])},l2=function(e){const n=(c,h)=>{var f,g,y;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(p(this,xi),c),(g=p(this,Ou))==null||g.updateColor(c),M(this,Ea,h),(y=this.parent)==null||y.drawLayer.changeOpacity(p(this,xi),h)},r=this.color,l=p(this,Ea);this.addCommands({cmd:n.bind(this,e,$t._defaultOpacity),undo:n.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},c2=function(e){const n=p(this,Fn),r=l=>{M(this,Fn,l),R(this,Rt,u2).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},u2=function(e){if(!p(this,Ki))return;R(this,Rt,Zg).call(this,{highlightOutlines:p(this,cs).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},mA=function(){p(this,xi)===null||!this.parent||(this.parent.drawLayer.remove(p(this,xi)),M(this,xi,null),this.parent.drawLayer.remove(p(this,We)),M(this,We,null))},Eo=function(e=this.parent){p(this,xi)===null&&({id:Ri(this,xi)._,clipPathId:Ri(this,vl)._}=e.drawLayer.draw(p(this,cs),this.color,p(this,Ea)),M(this,We,e.drawLayer.drawOutline(p(this,Nn))),p(this,bl)&&(p(this,bl).style.clipPath=p(this,vl)))},Bn=new WeakSet,kc=function({x:e,y:n,width:r,height:l},c){switch(c){case 90:return{x:1-n-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-n-l,width:r,height:l};case 270:return{x:n,y:1-e-r,width:l,height:r}}return{x:e,y:n,width:r,height:l}},h2=function(e){$t._keyboardManager.exec(this,e)},Jg=function(e){if(!p(this,Pu))return;const n=window.getSelection();e?n.setPosition(p(this,Pu),p(this,jf)):n.setPosition(p(this,Bf),p(this,Hf))},cd=function(){return p(this,Ki)?this.rotation:0},d2=function(){if(p(this,Ki))return null;const[e,n]=this.pageDimensions,[r,l]=this.pageTranslation,c=p(this,Ta),h=new Float32Array(c.length*8);let f=0;for(const{x:g,y,width:d,height:m}of c){const A=g*e+r,x=(1-y-m)*n+l;h[f]=h[f+4]=A,h[f+1]=h[f+3]=x,h[f+2]=h[f+6]=A+d*e,h[f+5]=h[f+7]=x+m*n,f+=8}return h},f2=function(e){return p(this,cs).serialize(e,R(this,Rt,cd).call(this))},p2=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},g2=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},m2=function(e){const{color:n}=this._initialData;return e.color.some((r,l)=>r!==n[l])},P($t,Bn),St($t,"_defaultColor",null),St($t,"_defaultOpacity",1),St($t,"_defaultThickness",12),St($t,"_type","highlight"),St($t,"_editorType",Pt.HIGHLIGHT),St($t,"_freeHighlightId",-1),St($t,"_freeHighlight",null),St($t,"_freeHighlightClipId","");let bm=$t;var Al,_l,Ls,Ca,In,xl,wl,Sl,Ma,Iu,Tl,El,zr,lt,y2,v2,b2,A2,vA,_2,bA,x2,w2,S2,T2,E2,Co,AA,_A,xA,tm,em,Pc,wA,im,Ha,C2,SA,M2,R2,TA,nm,ud;const ve=class ve extends ee{constructor(e){super({...e,name:"inkEditor"});P(this,lt);P(this,Al,0);P(this,_l,0);P(this,Ls,null);P(this,Ca,new Path2D);P(this,In,!1);P(this,xl,null);P(this,wl,!1);P(this,Sl,!1);P(this,Ma,null);P(this,Iu,null);P(this,Tl,0);P(this,El,0);P(this,zr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){ee.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case Tt.INK_THICKNESS:ve._defaultThickness=n;break;case Tt.INK_COLOR:ve._defaultColor=n;break;case Tt.INK_OPACITY:ve._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case Tt.INK_THICKNESS:R(this,lt,y2).call(this,n);break;case Tt.INK_COLOR:R(this,lt,v2).call(this,n);break;case Tt.INK_OPACITY:R(this,lt,b2).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,ve._defaultThickness],[Tt.INK_COLOR,ve._defaultColor||ee._defaultLineColor],[Tt.INK_OPACITY,Math.round(ve._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||ve._defaultThickness],[Tt.INK_COLOR,this.color||ve._defaultColor||ee._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??ve._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(R(this,lt,tm).call(this),R(this,lt,em).call(this)),this.isAttachedToDOM||(this.parent.add(this),R(this,lt,Pc).call(this)),R(this,lt,ud).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,p(this,Ls)&&(clearTimeout(p(this,Ls)),M(this,Ls,null)),(e=p(this,Ma))==null||e.disconnect(),M(this,Ma,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,r=this.width*e,l=this.height*n;this.setDimensions(r,l)}enableEditMode(){p(this,In)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,R(this,lt,AA).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),R(this,lt,_A).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){p(this,In)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),M(this,In,!0),this.div.classList.add("disabled"),R(this,lt,ud).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||p(this,In)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),R(this,lt,_2).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),R(this,lt,bA).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),R(this,lt,xA).call(this,e)}canvasPointerleave(e){R(this,lt,xA).call(this,e)}get isResizable(){return!this.isEmpty()&&p(this,In)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,h]=R(this,lt,A2).call(this);if(this.setAt(r,l,0,0),this.setDims(c,h),R(this,lt,tm).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(e*f,n*g,this.width*f,this.height*g),M(this,Sl,!0),R(this,lt,Pc).call(this),this.setDims(this.width*f,this.height*g),R(this,lt,Co).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return R(this,lt,em).call(this),this.div}setDimensions(e,n){const r=Math.round(e),l=Math.round(n);if(p(this,Tl)===r&&p(this,El)===l)return;M(this,Tl,r),M(this,El,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=e/c,this.height=n/h,this.fixAndSetPosition(),p(this,In)&&R(this,lt,wA).call(this,e,n),R(this,lt,Pc).call(this),R(this,lt,Co).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,r){var C,E,O;if(e instanceof k_)return null;const l=await super.deserialize(e,n,r);l.thickness=e.thickness,l.color=vt.makeHexColor(...e.color),l.opacity=e.opacity;const[c,h]=l.pageDimensions,f=l.width*c,g=l.height*h,y=l.parentScale,d=e.thickness/2;M(l,In,!0),M(l,Tl,Math.round(f)),M(l,El,Math.round(g));const{paths:m,rect:A,rotation:x}=e;for(let{bezier:L}of m){L=R(C=ve,Ha,M2).call(C,L,A,x);const _=[];l.paths.push(_);let w=y*(L[0]-d),D=y*(L[1]-d);for(let F=2,j=L.length;F<j;F+=6){const K=y*(L[F]-d),Z=y*(L[F+1]-d),rt=y*(L[F+2]-d),ot=y*(L[F+3]-d),at=y*(L[F+4]-d),dt=y*(L[F+5]-d);_.push([[w,D],[K,Z],[rt,ot],[at,dt]]),w=at,D=dt}const N=R(this,Ha,C2).call(this,_);l.bezierPath2D.push(N)}const S=R(E=l,lt,TA).call(E);return M(l,_l,Math.max(ee.MIN_SIZE,S[2]-S[0])),M(l,Al,Math.max(ee.MIN_SIZE,S[3]-S[1])),R(O=l,lt,wA).call(O,f,g),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=ee._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Pt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:R(this,lt,R2).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Al=new WeakMap,_l=new WeakMap,Ls=new WeakMap,Ca=new WeakMap,In=new WeakMap,xl=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Ma=new WeakMap,Iu=new WeakMap,Tl=new WeakMap,El=new WeakMap,zr=new WeakMap,lt=new WeakSet,y2=function(e){const n=l=>{this.thickness=l,R(this,lt,ud).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},v2=function(e){const n=l=>{this.color=l,R(this,lt,Co).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},b2=function(e){const n=l=>{this.opacity=l,R(this,lt,Co).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},A2=function(){const{parentRotation:e,parentDimensions:[n,r]}=this;switch(e){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},vA=function(){const{ctx:e,color:n,opacity:r,thickness:l,parentScale:c,scaleFactor:h}=this;e.lineWidth=l*c/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${a5(r)}`},_2=function(e,n){this.canvas.addEventListener("contextmenu",Un,{signal:this._uiManager._signal}),R(this,lt,_A).call(this),M(this,xl,new AbortController);const r=this._uiManager.combinedSignal(p(this,xl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,p(this,Sl)||(M(this,Sl,!0),R(this,lt,Pc).call(this),this.thickness||(this.thickness=ve._defaultThickness),this.color||(this.color=ve._defaultColor||ee._defaultLineColor),this.opacity??(this.opacity=ve._defaultOpacity)),this.currentPath.push([e,n]),M(this,wl,!1),R(this,lt,vA).call(this),M(this,zr,()=>{R(this,lt,S2).call(this),p(this,zr)&&window.requestAnimationFrame(p(this,zr))}),window.requestAnimationFrame(p(this,zr))},bA=function(e,n){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&n===l)return;const c=this.currentPath;let h=p(this,Ca);if(c.push([e,n]),M(this,wl,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(e,n);return}c.length===3&&(M(this,Ca,h=new Path2D),h.moveTo(...c[0])),R(this,lt,T2).call(this,h,...c.at(-3),...c.at(-2),e,n)},x2=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);p(this,Ca).lineTo(...e)},w2=function(e,n){M(this,zr,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),R(this,lt,bA).call(this,e,n),R(this,lt,x2).call(this);let r;if(this.currentPath.length!==1)r=R(this,lt,E2).call(this);else{const g=[e,n];r=[[g,g.slice(),g.slice(),g]]}const l=p(this,Ca),c=this.currentPath;this.currentPath=[],M(this,Ca,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(R(this,lt,tm).call(this),R(this,lt,em).call(this)),R(this,lt,ud).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},S2=function(){if(!p(this,wl))return;M(this,wl,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(h=>h[0]),l=n.map(h=>h[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(p(this,Ca)),c.restore()},T2=function(e,n,r,l,c,h,f){const g=(n+l)/2,y=(r+c)/2,d=(l+h)/2,m=(c+f)/2;e.bezierCurveTo(g+2*(l-g)/3,y+2*(c-y)/3,d+2*(l-d)/3,m+2*(c-m)/3,d,m)},E2=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let r,[l,c]=e[0];for(r=1;r<e.length-2;r++){const[A,x]=e[r],[S,C]=e[r+1],E=(A+S)/2,O=(x+C)/2,L=[l+2*(A-l)/3,c+2*(x-c)/3],_=[E+2*(A-E)/3,O+2*(x-O)/3];n.push([[l,c],L,_,[E,O]]),[l,c]=[E,O]}const[h,f]=e[r],[g,y]=e[r+1],d=[l+2*(h-l)/3,c+2*(f-c)/3],m=[g+2*(h-g)/3,y+2*(f-y)/3];return n.push([[l,c],d,m,[g,y]]),n},Co=function(){if(this.isEmpty()){R(this,lt,im).call(this);return}R(this,lt,vA).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),R(this,lt,im).call(this);for(const r of this.bezierPath2D)n.stroke(r)},AA=function(){if(p(this,Iu))return;M(this,Iu,new AbortController);const e=this._uiManager.combinedSignal(p(this,Iu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},_A=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},xA=function(e){var n;(n=p(this,xl))==null||n.abort(),M(this,xl,null),R(this,lt,AA).call(this),p(this,Ls)&&clearTimeout(p(this,Ls)),M(this,Ls,setTimeout(()=>{M(this,Ls,null),this.canvas.removeEventListener("contextmenu",Un)},10)),R(this,lt,w2).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},tm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},em=function(){M(this,Ma,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),p(this,Ma).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=p(this,Ma))==null||e.disconnect(),M(this,Ma,null)},{once:!0})},Pc=function(){if(!p(this,Sl))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),R(this,lt,im).call(this)},wA=function(e,n){const r=R(this,lt,nm).call(this),l=(e-r)/p(this,_l),c=(n-r)/p(this,Al);this.scaleFactor=Math.min(l,c)},im=function(){const e=R(this,lt,nm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ha=new WeakSet,C2=function(e){const n=new Path2D;for(let r=0,l=e.length;r<l;r++){const[c,h,f,g]=e[r];r===0&&n.moveTo(...c),n.bezierCurveTo(h[0],h[1],f[0],f[1],g[0],g[1])}return n},SA=function(e,n,r){const[l,c,h,f]=n;switch(r){case 0:for(let g=0,y=e.length;g<y;g+=2)e[g]+=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,y=e.length;g<y;g+=2){const d=e[g];e[g]=e[g+1]+l,e[g+1]=d+c}break;case 180:for(let g=0,y=e.length;g<y;g+=2)e[g]=h-e[g],e[g+1]+=c;break;case 270:for(let g=0,y=e.length;g<y;g+=2){const d=e[g];e[g]=h-e[g+1],e[g+1]=f-d}break;default:throw new Error("Invalid rotation")}return e},M2=function(e,n,r){const[l,c,h,f]=n;switch(r){case 0:for(let g=0,y=e.length;g<y;g+=2)e[g]-=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,y=e.length;g<y;g+=2){const d=e[g];e[g]=e[g+1]-c,e[g+1]=d-l}break;case 180:for(let g=0,y=e.length;g<y;g+=2)e[g]=h-e[g],e[g+1]-=c;break;case 270:for(let g=0,y=e.length;g<y;g+=2){const d=e[g];e[g]=f-e[g+1],e[g+1]=h-d}break;default:throw new Error("Invalid rotation")}return e},R2=function(e,n,r,l){var y,d;const c=[],h=this.thickness/2,f=e*n+h,g=e*r+h;for(const m of this.paths){const A=[],x=[];for(let S=0,C=m.length;S<C;S++){const[E,O,L,_]=m[S];if(E[0]===_[0]&&E[1]===_[1]&&C===1){const ot=e*E[0]+f,at=e*E[1]+g;A.push(ot,at),x.push(ot,at);break}const w=e*E[0]+f,D=e*E[1]+g,N=e*O[0]+f,F=e*O[1]+g,j=e*L[0]+f,K=e*L[1]+g,Z=e*_[0]+f,rt=e*_[1]+g;S===0&&(A.push(w,D),x.push(w,D)),A.push(N,F,j,K,Z,rt),x.push(N,F),S===C-1&&x.push(Z,rt)}c.push({bezier:R(y=ve,Ha,SA).call(y,A,l,this.rotation),points:R(d=ve,Ha,SA).call(d,x,l,this.rotation)})}return c},TA=function(){let e=1/0,n=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[h,f,g,y]of c){const d=vt.bezierBoundingBox(...h,...f,...g,...y);e=Math.min(e,d[0]),r=Math.min(r,d[1]),n=Math.max(n,d[2]),l=Math.max(l,d[3])}return[e,r,n,l]},nm=function(){return p(this,In)?Math.ceil(this.thickness*this.parentScale):0},ud=function(e=!1){if(this.isEmpty())return;if(!p(this,In)){R(this,lt,Co).call(this);return}const n=R(this,lt,TA).call(this),r=R(this,lt,nm).call(this);M(this,_l,Math.max(ee.MIN_SIZE,n[2]-n[0])),M(this,Al,Math.max(ee.MIN_SIZE,n[3]-n[1]));const l=Math.ceil(r+p(this,_l)*this.scaleFactor),c=Math.ceil(r+p(this,Al)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=l/h,this.height=c/f,this.setAspectRatio(l,c);const g=this.translationX,y=this.translationY;this.translationX=-n[0],this.translationY=-n[1],R(this,lt,Pc).call(this),R(this,lt,Co).call(this),M(this,Tl,l),M(this,El,c),this.setDims(l,c);const d=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-d,y-this.translationY-d)},P(ve,Ha),St(ve,"_defaultColor",null),St(ve,"_defaultOpacity",1),St(ve,"_defaultThickness",1),St(ve,"_type","ink"),St(ve,"_editorType",Pt.INK);let yA=ve;var Ae,pi,Vr,Ra,Ur,ju,ks,Da,Ps,yn,Bu,Ut,hd,dd,sm,CA,D2,am,MA,rm,L2,k2;const Ad=class Ad extends ee{constructor(e){super({...e,name:"stampEditor"});P(this,Ut);P(this,Ae,null);P(this,pi,null);P(this,Vr,null);P(this,Ra,null);P(this,Ur,null);P(this,ju,"");P(this,ks,null);P(this,Da,null);P(this,Ps,null);P(this,yn,!1);P(this,Bu,!1);M(this,Ra,e.bitmapUrl),M(this,Ur,e.bitmapFile)}static initialize(e,n){ee.initialize(e,n)}static get supportedTypes(){return qt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return qt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(Pt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),n&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,n;p(this,pi)&&(M(this,Ae,null),this._uiManager.imageManager.deleteId(p(this,pi)),(e=p(this,ks))==null||e.remove(),M(this,ks,null),(n=p(this,Da))==null||n.disconnect(),M(this,Da,null),p(this,Ps)&&(clearTimeout(p(this,Ps)),M(this,Ps,null))),super.remove()}rebuild(){if(!this.parent){p(this,pi)&&R(this,Ut,sm).call(this);return}super.rebuild(),this.div!==null&&(p(this,pi)&&p(this,ks)===null&&R(this,Ut,sm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(p(this,Vr)||p(this,Ae)||p(this,Ra)||p(this,Ur)||p(this,pi))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),p(this,Ae)?R(this,Ut,CA).call(this):R(this,Ut,sm).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,n*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,n,r=!1){var A;e||(e=224);const{width:l,height:c}=p(this,Ae),h=new xb;let f=p(this,Ae),g=l,y=c,d=null;if(n){if(l>n||c>n){const F=Math.min(n/l,n/c);g=Math.floor(l*F),y=Math.floor(c*F)}d=document.createElement("canvas");const x=d.width=Math.ceil(g*h.sx),S=d.height=Math.ceil(y*h.sy);p(this,yn)||(f=R(this,Ut,am).call(this,x,S));const C=d.getContext("2d");C.filter=this._uiManager.hcmFilter;let E="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",O="#42414d");const L=15,_=L*h.sx,w=L*h.sy,D=new OffscreenCanvas(_*2,w*2),N=D.getContext("2d");N.fillStyle=E,N.fillRect(0,0,_*2,w*2),N.fillStyle=O,N.fillRect(0,0,_,w),N.fillRect(_,w,_,w),C.fillStyle=C.createPattern(D,"repeat"),C.fillRect(0,0,x,S),C.drawImage(f,0,0,f.width,f.height,0,0,x,S)}let m=null;if(r){let x,S;if(h.symmetric&&f.width<e&&f.height<e)x=f.width,S=f.height;else if(f=p(this,Ae),l>e||c>e){const O=Math.min(e/l,e/c);x=Math.floor(l*O),S=Math.floor(c*O),p(this,yn)||(f=R(this,Ut,am).call(this,x,S))}const E=new OffscreenCanvas(x,S).getContext("2d",{willReadFrequently:!0});E.drawImage(f,0,0,f.width,f.height,0,0,x,S),m={width:x,height:S,data:E.getImageData(0,0,x,S).data}}return{canvas:d,width:g,height:y,imageData:m}}getImageForAltText(){return p(this,ks)}static async deserialize(e,n,r){var S;let l=null;if(e instanceof VR){const{data:{rect:C,rotation:E,id:O,structParent:L,popupRef:_},container:w,parent:{page:{pageNumber:D}}}=e,N=w.querySelector("canvas"),F=r.imageManager.getFromCanvas(w.id,N);N.remove();const j=((S=await n._structTree.getAriaAttributes(`${__}${O}`))==null?void 0:S.get("aria-label"))||"";l=e={annotationType:Pt.STAMP,bitmapId:F.id,bitmap:F.bitmap,pageIndex:D-1,rect:C.slice(0),rotation:E,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:j},isSvg:!1,structParent:L,popupRef:_}}const c=await super.deserialize(e,n,r),{rect:h,bitmap:f,bitmapUrl:g,bitmapId:y,isSvg:d,accessibilityData:m}=e;y&&r.imageManager.isValidId(y)?(M(c,pi,y),f&&M(c,Ae,f)):M(c,Ra,g),M(c,yn,d);const[A,x]=c.pageDimensions;return c.width=(h[2]-h[0])/A,c.height=(h[3]-h[1])/x,c.annotationElementId=e.id||null,m&&(c.altTextData=m),c._initialData=l,M(c,Bu,!!l),c}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Pt.STAMP,bitmapId:p(this,pi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:p(this,yn),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=R(this,Ut,rm).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=R(this,Ut,k2).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const h=p(this,yn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(p(this,pi)))n.stamps.set(p(this,pi),{area:h,serialized:r}),r.bitmap=R(this,Ut,rm).call(this,!1);else if(p(this,yn)){const f=n.stamps.get(p(this,pi));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=R(this,Ut,rm).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Ae=new WeakMap,pi=new WeakMap,Vr=new WeakMap,Ra=new WeakMap,Ur=new WeakMap,ju=new WeakMap,ks=new WeakMap,Da=new WeakMap,Ps=new WeakMap,yn=new WeakMap,Bu=new WeakMap,Ut=new WeakSet,hd=function(e,n=!1){if(!e){this.remove();return}M(this,Ae,e.bitmap),n||(M(this,pi,e.id),M(this,yn,e.isSvg)),e.file&&M(this,ju,e.file.name),R(this,Ut,CA).call(this)},dd=function(){if(M(this,Vr,null),this._uiManager.enableWaiting(!1),!!p(this,ks)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Ae)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,Ae)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},sm=function(){if(p(this,pi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,pi)).then(r=>R(this,Ut,hd).call(this,r,!0)).finally(()=>R(this,Ut,dd).call(this));return}if(p(this,Ra)){const r=p(this,Ra);M(this,Ra,null),this._uiManager.enableWaiting(!0),M(this,Vr,this._uiManager.imageManager.getFromUrl(r).then(l=>R(this,Ut,hd).call(this,l)).finally(()=>R(this,Ut,dd).call(this)));return}if(p(this,Ur)){const r=p(this,Ur);M(this,Ur,null),this._uiManager.enableWaiting(!0),M(this,Vr,this._uiManager.imageManager.getFromFile(r).then(l=>R(this,Ut,hd).call(this,l)).finally(()=>R(this,Ut,dd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Ad.supportedTypesStr;const n=this._uiManager._signal;M(this,Vr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),R(this,Ut,hd).call(this,l)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>R(this,Ut,dd).call(this))),e.click()},CA=function(){const{div:e}=this;let{width:n,height:r}=p(this,Ae);const[l,c]=this.pageDimensions,h=.75;if(this.width)n=this.width*l,r=this.height*c;else if(n>h*l||r>h*c){const d=Math.min(h*l/n,h*c/r);n*=d,r*=d}const[f,g]=this.parentDimensions;this.setDims(n*f/l,r*g/c),this._uiManager.enableWaiting(!1);const y=M(this,ks,document.createElement("canvas"));y.setAttribute("role","img"),this.addContainer(y),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),R(this,Ut,MA).call(this,n,r),R(this,Ut,L2).call(this),p(this,Bu)||(this.parent.addUndoableEditor(this),M(this,Bu,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,ju)&&y.setAttribute("aria-label",p(this,ju))},D2=function(e,n){var h;const[r,l]=this.parentDimensions;this.width=e/r,this.height=n/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,p(this,Ps)!==null&&clearTimeout(p(this,Ps)),M(this,Ps,setTimeout(()=>{M(this,Ps,null),R(this,Ut,MA).call(this,e,n)},200))},am=function(e,n){const{width:r,height:l}=p(this,Ae);let c=r,h=l,f=p(this,Ae);for(;c>2*e||h>2*n;){const g=c,y=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const d=new OffscreenCanvas(c,h);d.getContext("2d").drawImage(f,0,0,g,y,0,0,c,h),f=d.transferToImageBitmap()}return f},MA=function(e,n){const r=new xb,l=Math.ceil(e*r.sx),c=Math.ceil(n*r.sy),h=p(this,ks);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=p(this,yn)?p(this,Ae):R(this,Ut,am).call(this,l,c),g=h.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,l,c)},rm=function(e){if(e){if(p(this,yn)){const l=this._uiManager.imageManager.getSvgUrl(p(this,pi));if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=p(this,Ae),n.getContext("2d").drawImage(p(this,Ae),0,0),n.toDataURL()}if(p(this,yn)){const[n,r]=this.pageDimensions,l=Math.round(this.width*n*Kr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Kr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(p(this,Ae),0,0,p(this,Ae).width,p(this,Ae).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(p(this,Ae))},L2=function(){this._uiManager._signal&&(M(this,Da,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&R(this,Ut,D2).call(this,n.width,n.height)})),p(this,Da).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=p(this,Da))==null||e.disconnect(),M(this,Da,null)},{once:!0}))},k2=function(e){var g;const{rect:n,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=e.rect.every((y,d)=>Math.abs(y-n[d])<1),h=e.pageIndex===r,f=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===l;return{isSame:c&&h&&f,isSameAltText:f}},St(Ad,"_type","stamp"),St(Ad,"_editorType",Pt.STAMP);let EA=Ad;var Cl,Hu,Os,Gr,La,vn,qr,zu,Vu,wi,ka,_t,Xr,mi,P2,DA,LA,kA,om;const $n=class $n{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:g,l10n:y}){P(this,mi);P(this,Cl);P(this,Hu,!1);P(this,Os,null);P(this,Gr,null);P(this,La,null);P(this,vn,new Map);P(this,qr,!1);P(this,zu,!1);P(this,Vu,!1);P(this,wi,null);P(this,ka,null);P(this,_t);const d=[...p($n,Xr).values()];if(!$n._initialized){$n._initialized=!0;for(const m of d)m.initialize(y,t)}t.registerEditorTypes(d),M(this,_t,t),this.pageIndex=e,this.div=n,M(this,Cl,l),M(this,Os,c),this.viewport=g,M(this,wi,f),this.drawLayer=h,this._structTree=r,p(this,_t).addLayer(this)}get isEmpty(){return p(this,vn).size===0}get isInvisible(){return this.isEmpty&&p(this,_t).getMode()===Pt.NONE}updateToolbar(t){p(this,_t).updateToolbar(t)}updateMode(t=p(this,_t).getMode()){switch(R(this,mi,om).call(this),t){case Pt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Pt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Pt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of p($n,Xr).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=p(this,wi))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(p(this,_t).getMode()!==Pt.INK)return;if(!t){for(const n of p(this,vn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){p(this,_t).setEditingState(t)}addCommands(t){p(this,_t).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=p(this,Os))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of p(this,vn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(p(this,_t).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!p(this,Os))return;const e=p(this,Os).getEditableAnnotations();for(const n of e){if(n.hide(),p(this,_t).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;M(this,Vu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of p(this,vn).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(p(this,Os)){const l=p(this,Os).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(p(this,_t).isDeletedAnnotationElement(h))continue;let f=e.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(h),f&&(p(this,_t).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}R(this,mi,om).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const l of p($n,Xr).values())n.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,Vu,!1)}getEditableAnnotation(t){var e;return((e=p(this,Os))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){p(this,_t).getActive()!==t&&p(this,_t).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=p(this,wi))!=null&&t.div&&!p(this,ka)){M(this,ka,new AbortController);const e=p(this,_t).combinedSignal(p(this,ka));p(this,wi).div.addEventListener("pointerdown",R(this,mi,P2).bind(this),{signal:e}),p(this,wi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=p(this,wi))!=null&&t.div&&p(this,ka)&&(p(this,ka).abort(),M(this,ka,null),p(this,wi).div.classList.remove("highlighting"))}enableClick(){if(p(this,Gr))return;M(this,Gr,new AbortController);const t=p(this,_t).combinedSignal(p(this,Gr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=p(this,Gr))==null||t.abort(),M(this,Gr,null)}attach(t){p(this,vn).set(t.id,t);const{annotationElementId:e}=t;e&&p(this,_t).isDeletedAnnotationElement(e)&&p(this,_t).removeDeletedAnnotationElement(t)}detach(t){var e;p(this,vn).delete(t.id),(e=p(this,Cl))==null||e.removePointerInTextLayer(t.contentDiv),!p(this,Vu)&&t.annotationElementId&&p(this,_t).addDeletedAnnotationElement(t)}remove(t){this.detach(t),p(this,_t).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,p(this,zu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(p(this,_t).addDeletedAnnotationElement(t.annotationElementId),ee.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),p(this,_t).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),p(this,_t).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!p(this,La)&&(t._focusEventsAllowed=!1,M(this,La,setTimeout(()=>{M(this,La,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:p(this,_t)._signal}),e.focus())},0))),t._structTreeParentId=(n=p(this,Cl))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return p(this,_t).getId()}combinedSignal(t){return p(this,_t).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=p(this,mi,DA))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){p(this,_t).updateToolbar(t),p(this,_t).updateMode(t);const{offsetX:n,offsetY:r}=R(this,mi,kA).call(this),l=this.getNextId(),c=R(this,mi,LA).call(this,{parent:this,id:l,x:n,y:r,uiManager:p(this,_t),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=p($n,Xr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,p(this,_t)))||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),l=R(this,mi,LA).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:p(this,_t),isCentered:e,...n});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(R(this,mi,kA).call(this),!0)}setSelected(t){p(this,_t).setSelected(t)}toggleSelected(t){p(this,_t).toggleSelected(t)}unselect(t){p(this,_t).unselect(t)}pointerup(t){const{isMac:e}=Fi.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&p(this,qr)){if(M(this,qr,!1),!p(this,Hu)){M(this,Hu,!0);return}if(p(this,_t).getMode()===Pt.STAMP){p(this,_t).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(p(this,_t).getMode()===Pt.HIGHLIGHT&&this.enableTextSelection(),p(this,qr)){M(this,qr,!1);return}const{isMac:e}=Fi.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;M(this,qr,!0);const n=p(this,_t).getActive();M(this,Hu,!n||n.isEmpty())}findNewParent(t,e,n){const r=p(this,_t).findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=p(this,_t).getActive())==null?void 0:t.parent)===this&&(p(this,_t).commitOrRemove(),p(this,_t).setActiveEditor(null)),p(this,La)&&(clearTimeout(p(this,La)),M(this,La,null));for(const n of p(this,vn).values())(e=p(this,Cl))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,p(this,vn).clear(),p(this,_t).removeLayer(this)}render({viewport:t}){this.viewport=t,Rl(this.div,t);for(const e of p(this,_t).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){p(this,_t).commitOrRemove(),R(this,mi,om).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Rl(this.div,{rotation:n}),e!==n)for(const r of p(this,vn).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return p(this,_t).viewParameters.realScale}};Cl=new WeakMap,Hu=new WeakMap,Os=new WeakMap,Gr=new WeakMap,La=new WeakMap,vn=new WeakMap,qr=new WeakMap,zu=new WeakMap,Vu=new WeakMap,wi=new WeakMap,ka=new WeakMap,_t=new WeakMap,Xr=new WeakMap,mi=new WeakSet,P2=function(t){p(this,_t).unselectAll();const{target:e}=t;if(e===p(this,wi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&p(this,wi).div.contains(e)){const{isMac:n}=Fi.platform;if(t.button!==0||t.ctrlKey&&n)return;p(this,_t).showAllEditors("highlight",!0,!0),p(this,wi).div.classList.add("free"),this.toggleDrawing(),bm.startHighlighting(this,p(this,_t).direction==="ltr",{target:p(this,wi).div,x:t.x,y:t.y}),p(this,wi).div.addEventListener("pointerup",()=>{p(this,wi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,_t)._signal}),t.preventDefault()}},DA=function(){return p($n,Xr).get(p(this,_t).getMode())},LA=function(t){const e=p(this,mi,DA);return e?new e.prototype.constructor(t):null},kA=function(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+n),f=Math.min(window.innerHeight,e+r),g=(l+h)/2-t,y=(c+f)/2-e,[d,m]=this.viewport.rotation%180===0?[g,y]:[y,g];return{offsetX:d,offsetY:m}},om=function(){M(this,zu,!0);for(const t of p(this,vn).values())t.isEmpty()&&t.remove();M(this,zu,!1)},St($n,"_initialized",!1),P($n,Xr,new Map([lA,yA,EA,bm].map(t=>[t._editorType,t])));let RA=$n;var Ns,Vf,He,Pa,Uf,OA,Ol,NA,O2;const hi=class hi{constructor({pageIndex:t}){P(this,Ol);P(this,Ns,null);P(this,Vf,0);P(this,He,new Map);P(this,Pa,new Map);this.pageIndex=t}setParent(t){if(!p(this,Ns)){M(this,Ns,t);return}if(p(this,Ns)!==t){if(p(this,He).size>0)for(const e of p(this,He).values())e.remove(),t.append(e);M(this,Ns,t)}}static get _svgFactory(){return qt(this,"_svgFactory",new L_)}draw(t,e,n,r=!1){const l=Ri(this,Vf)._++,c=R(this,Ol,NA).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=hi._svgFactory.createElement("defs");c.append(h);const f=hi._svgFactory.createElement("path");h.append(f);const g=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",g),f.setAttribute("d",t.toSVGPath()),r&&p(this,Pa).set(l,f);const y=R(this,Ol,O2).call(this,h,g),d=hi._svgFactory.createElement("use");return c.append(d),c.setAttribute("fill",e),c.setAttribute("fill-opacity",n),d.setAttribute("href",`#${g}`),p(this,He).set(l,c),{id:l,clipPathId:`url(#${y})`}}drawOutline(t){const e=Ri(this,Vf)._++,n=R(this,Ol,NA).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const r=hi._svgFactory.createElement("defs");n.append(r);const l=hi._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const y=hi._svgFactory.createElement("mask");r.append(y),h=`mask_p${this.pageIndex}_${e}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const d=hi._svgFactory.createElement("rect");y.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const m=hi._svgFactory.createElement("use");y.append(m),m.setAttribute("href",`#${c}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const f=hi._svgFactory.createElement("use");n.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const g=f.cloneNode();return n.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),p(this,He).set(e,n),e}finalizeLine(t,e){const n=p(this,Pa).get(t);p(this,Pa).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){p(this,He).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){p(this,Pa).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;R(n=hi,Uf,OA).call(n,p(this,He).get(t),e)}show(t,e){p(this,He).get(t).classList.toggle("hidden",!e)}rotate(t,e){p(this,He).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){p(this,He).get(t).setAttribute("fill",e)}changeOpacity(t,e){p(this,He).get(t).setAttribute("fill-opacity",e)}addClass(t,e){p(this,He).get(t).classList.add(e)}removeClass(t,e){p(this,He).get(t).classList.remove(e)}getSVGRoot(t){return p(this,He).get(t)}remove(t){p(this,Pa).delete(t),p(this,Ns)!==null&&(p(this,He).get(t).remove(),p(this,He).delete(t))}destroy(){M(this,Ns,null);for(const t of p(this,He).values())t.remove();p(this,He).clear(),p(this,Pa).clear()}};Ns=new WeakMap,Vf=new WeakMap,He=new WeakMap,Pa=new WeakMap,Uf=new WeakSet,OA=function(t,{x:e=0,y:n=0,width:r=1,height:l=1}={}){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},Ol=new WeakSet,NA=function(t){var n;const e=hi._svgFactory.create(1,1,!0);return p(this,Ns).append(e),e.setAttribute("aria-hidden",!0),R(n=hi,Uf,OA).call(n,e,t),e},O2=function(t,e){const n=hi._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=hi._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},P(hi,Uf);let PA=hi;Ct.AbortException;Ct.AnnotationEditorLayer;Ct.AnnotationEditorParamsType;Ct.AnnotationEditorType;Ct.AnnotationEditorUIManager;var N2=Ct.AnnotationLayer,F2=Ct.AnnotationMode;Ct.ColorPicker;Ct.DOMSVGFactory;Ct.DrawLayer;Ct.FeatureTest;var P_=Ct.GlobalWorkerOptions;Ct.ImageKind;Ct.InvalidPDFException;Ct.MissingPDFException;Ct.OPS;Ct.OutputScale;var jj=Ct.PDFDataRangeTransport;Ct.PDFDateString;Ct.PDFWorker;Ct.PasswordResponses;Ct.PermissionFlag;Ct.PixelsPerInch;Ct.RenderingCancelledException;var I2=Ct.TextLayer;Ct.UnexpectedResponseException;Ct.Util;Ct.VerbosityLevel;Ct.XfaLayer;Ct.build;Ct.createValidAbsoluteUrl;Ct.fetchData;var j2=Ct.getDocument;Ct.getFilenameFromUrl;Ct.getPdfFilenameFromUrl;Ct.getXfaPageViewport;Ct.isDataScheme;Ct.isPdfFile;Ct.noContextMenu;Ct.normalizeUnicode;Ct.setLayerDimensions;Ct.shadow;var B2=Ct.version;const Bj=Object.freeze(Object.defineProperty({__proto__:null,AnnotationLayer:N2,AnnotationMode:F2,GlobalWorkerOptions:P_,PDFDataRangeTransport:jj,TextLayer:I2,getDocument:j2,version:B2},Symbol.toStringTag,{value:"Module"}));var ti=function(a,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,l;n<r;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return a.concat(l||Array.prototype.slice.call(t))},Hj=["onCopy","onCut","onPaste"],zj=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Vj=["onFocus","onBlur"],Uj=["onInput","onInvalid","onReset","onSubmit"],Gj=["onLoad","onError"],qj=["onKeyDown","onKeyPress","onKeyUp"],Xj=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Yj=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Wj=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],$j=["onSelect"],Kj=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Qj=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Zj=["onScroll"],Jj=["onWheel"],tB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],eB=["onTransitionEnd"],iB=["onToggle"],nB=["onChange"],sB=ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti(ti([],Hj,!0),zj,!0),Vj,!0),Uj,!0),Gj,!0),qj,!0),Xj,!0),Yj,!0),Wj,!0),$j,!0),Kj,!0),Qj,!0),Zj,!0),Jj,!0),tB,!0),eB,!0),nB,!0),iB,!0);function H2(a,t){var e={};return sB.forEach(function(n){var r=a[n];r&&(t?e[n]=(function(l){return r(l,t(n))}):e[n]=r)}),e}function Qf(a){var t=!1,e=new Promise(function(n,r){a.then(function(l){return!t&&n(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function z2(a){var t,e,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=z2(a[t]))&&(n&&(n+=" "),n+=e)}else for(e in a)a[e]&&(n&&(n+=" "),n+=e);return n}function Qm(){for(var a,t,e=0,n="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=z2(a))&&(n&&(n+=" "),n+=t);return n}var aB="Invariant failed";function ue(a,t){if(!a)throw new Error(aB)}var Xv,RE;function rB(){if(RE)return Xv;RE=1;var a=function(){};return Xv=a,Xv}var oB=rB();const Si=BA(oB);var DE=Object.prototype.hasOwnProperty;function LE(a,t,e){for(e of a.keys())if(Uc(e,t))return e}function Uc(a,t){var e,n,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((n=a.length)===t.length)for(;n--&&Uc(a[n],t[n]););return n===-1}if(e===Set){if(a.size!==t.size)return!1;for(n of a)if(r=n,r&&typeof r=="object"&&(r=LE(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(n of a)if(r=n[0],r&&typeof r=="object"&&(r=LE(t,r),!r)||!Uc(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((n=a.byteLength)===t.byteLength)for(;n--&&a.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===t.byteLength)for(;n--&&a[n]===t[n];);return n===-1}if(!e||typeof a=="object"){n=0;for(e in a)if(DE.call(a,e)&&++n&&!DE.call(t,e)||!(e in t)||!Uc(a[e],t[e]))return!1;return Object.keys(t).length===n}}return a!==a&&t!==t}const V2=G.createContext(null);function Gc({children:a,type:t}){return I.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const lB="noopener noreferrer nofollow";class cB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ue(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ue(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ue(this.pdfDocument),ue(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ue(Array.isArray(e));const n=e[0];new Promise(r=>{ue(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(l=>{r(l)}).catch(()=>{ue(!1)}):typeof n=="number"?r(n):ue(!1)}).then(r=>{const l=r+1;ue(this.pdfViewer),ue(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ue(this.pdfViewer),ue(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||lB,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const kE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Zm=typeof window<"u",U2=Zm&&window.location.protocol==="file:";function uB(a){return typeof a<"u"}function xo(a){return uB(a)&&a!==null}function hB(a){return typeof a=="string"}function dB(a){return a instanceof ArrayBuffer}function fB(a){return ue(Zm),a instanceof Blob}function FA(a){return hB(a)&&/^data:/.test(a)}function PE(a){ue(FA(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function pB(){return Zm&&window.devicePixelRatio||1}const G2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function OE(){Si(!U2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${G2}`)}function gB(){Si(!U2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${G2}`)}function kl(a){a!=null&&a.cancel&&a.cancel()}function IA(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function mB(a){return a.name==="RenderingCancelledException"}function yB(a){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}function vB(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function qu(){return G.useReducer(vB,{value:void 0,error:void 0})}var bB=function(a,t,e,n){function r(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(y){try{g(n.next(y))}catch(d){c(d)}}function f(y){try{g(n.throw(y))}catch(d){c(d)}}function g(y){y.done?l(y.value):r(y.value).then(h,f)}g((n=n.apply(a,t||[])).next())})},NE=function(a,t){var e={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(e[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(e[n[r]]=a[n[r]]);return e};const{PDFDataRangeTransport:AB}=Bj,_B=(a,t)=>{switch(t){case kE.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case kE.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function FE(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const IE=G.forwardRef(function(t,e){var{children:n,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:g,imageResourcesPath:y,loading:d="Loading PDF",noData:m="No PDF file specified.",onItemClick:A,onLoadError:x,onLoadProgress:S,onLoadSuccess:C,onPassword:E=_B,onSourceError:O,onSourceSuccess:L,options:_,renderMode:w,rotate:D}=t,N=NE(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[F,j]=qu(),{value:K,error:Z}=F,[rt,ot]=qu(),{value:at,error:dt}=rt,U=G.useRef(new cB),Y=G.useRef([]),it=G.useRef(void 0),bt=G.useRef(void 0);f&&f!==it.current&&FE(f)&&(Si(!Uc(f,it.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),it.current=f),_&&_!==bt.current&&(Si(!Uc(_,bt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),bt.current=_);const xt=G.useRef({scrollPageIntoView:Ot=>{const{dest:ne,pageNumber:Oe,pageIndex:Se=Oe-1}=Ot;if(A){A({dest:ne,pageIndex:Se,pageNumber:Oe});return}const za=Y.current[Se];if(za){za.scrollIntoView();return}Si(!1,`An internal link leading to page ${Oe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});G.useImperativeHandle(e,()=>({linkService:U,pages:Y,viewer:xt}),[]);function H(){L&&L()}function q(){Z&&(Si(!1,Z.toString()),O&&O(Z))}function J(){j({type:"RESET"})}G.useEffect(J,[f,j]);const st=G.useCallback(()=>bB(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return FA(f)?{data:PE(f)}:(OE(),{url:f});if(f instanceof AB)return{range:f};if(dB(f))return{data:f};if(Zm&&fB(f))return{data:yield yB(f)};if(ue(typeof f=="object"),ue(FE(f)),"url"in f&&typeof f.url=="string"){if(FA(f.url)){const{url:Ot}=f,ne=NE(f,["url"]),Oe=PE(Ot);return Object.assign({data:Oe},ne)}OE()}return f}),[f]);G.useEffect(()=>{const Ot=Qf(st());return Ot.promise.then(ne=>{j({type:"RESOLVE",value:ne})}).catch(ne=>{j({type:"REJECT",error:ne})}),()=>{kl(Ot)}},[st,j]),G.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){q();return}H()}},[K]);function ft(){at&&(C&&C(at),Y.current=new Array(at.numPages),U.current.setDocument(at))}function pt(){dt&&(Si(!1,dt.toString()),x&&x(dt))}G.useEffect(function(){ot({type:"RESET"})},[ot,K]),G.useEffect(function(){if(!K)return;const ne=_?Object.assign(Object.assign({},K),_):K,Oe=j2(ne);S&&(Oe.onProgress=S),E&&(Oe.onPassword=E);const Se=Oe,za=Se.promise.then(Va=>{ot({type:"RESOLVE",value:Va})}).catch(Va=>{Se.destroyed||ot({type:"REJECT",error:Va})});return()=>{za.finally(()=>Se.destroy())}},[_,ot,K]),G.useEffect(()=>{if(!(typeof at>"u")){if(at===!1){pt();return}ft()}},[at]),G.useEffect(function(){U.current.setViewer(xt.current),U.current.setExternalLinkRel(c),U.current.setExternalLinkTarget(h)},[c,h]);const ut=G.useCallback((Ot,ne)=>{Y.current[Ot]=ne},[]),Dt=G.useCallback(Ot=>{delete Y.current[Ot]},[]),Lt=G.useMemo(()=>({imageResourcesPath:y,linkService:U.current,onItemClick:A,pdf:at,registerPage:ut,renderMode:w,rotate:D,unregisterPage:Dt}),[y,A,at,ut,w,D,Dt]),Ht=G.useMemo(()=>H2(N,()=>at),[N,at]);function we(){return I.jsx(V2.Provider,{value:Lt,children:n})}function Ue(){return f?at==null?I.jsx(Gc,{type:"loading",children:typeof d=="function"?d():d}):at===!1?I.jsx(Gc,{type:"error",children:typeof l=="function"?l():l}):we():I.jsx(Gc,{type:"no-data",children:typeof m=="function"?m():m})}return I.jsx("div",Object.assign({className:Qm("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},Ht,{children:Ue()}))});function q2(){return G.useContext(V2)}function X2(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(l){e.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const Y2=G.createContext(null),W2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},xB=/^H(\d+)$/;function wB(a){return a in W2}function Jm(a){return"children"in a}function $2(a){return Jm(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function SB(a){const t={};if(Jm(a)){const{role:e}=a,n=e.match(xB);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(wB(e)){const r=W2[e];r&&(t.role=r)}}return t}function K2(a){const t={};if(Jm(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),$2(a)){const[e]=a.children;if(e){const n=K2(e);return Object.assign(Object.assign({},t),n)}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function TB(a){return a?Object.assign(Object.assign({},SB(a)),K2(a)):null}function Q2({className:a,node:t}){const e=G.useMemo(()=>TB(t),[t]),n=G.useMemo(()=>!Jm(t)||$2(t)?null:t.children.map((r,l)=>I.jsx(Q2,{node:r},l)),[t]);return I.jsx("span",Object.assign({className:a},e,{children:n}))}function ty(){return G.useContext(Y2)}function EB(){const a=ty();ue(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[n,r]=qu(),{value:l,error:c}=n,{customTextRenderer:h,page:f}=a;function g(){l&&e&&e(l)}function y(){c&&(Si(!1,c.toString()),t&&t(c))}return G.useEffect(function(){r({type:"RESET"})},[r,f]),G.useEffect(function(){if(h||!f)return;const m=Qf(f.getStructTree()),A=m;return m.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>kl(A)},[h,f,r]),G.useEffect(()=>{if(l!==void 0){if(l===!1){y();return}g()}},[l]),l?I.jsx(Q2,{className:"react-pdf__Page__structTree structTree",node:l}):null}const jE=F2;function CB(a){const t=ty();ue(t);const e=Object.assign(Object.assign({},t),a),{_className:n,canvasBackground:r,devicePixelRatio:l=pB(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:g,renderTextLayer:y,rotate:d,scale:m}=e,{canvasRef:A}=a;ue(f);const x=G.useRef(null);function S(){f&&h&&h(IA(f,m))}function C(_){mB(_)||(Si(!1,_.toString()),c&&c(_))}const E=G.useMemo(()=>f.getViewport({scale:m*l,rotation:d}),[l,f,d,m]),O=G.useMemo(()=>f.getViewport({scale:m,rotation:d}),[f,d,m]);G.useEffect(function(){if(!f)return;f.cleanup();const{current:w}=x;if(!w)return;w.width=E.width,w.height=E.height,w.style.width=`${Math.floor(O.width)}px`,w.style.height=`${Math.floor(O.height)}px`,w.style.visibility="hidden";const D={annotationMode:g?jE.ENABLE_FORMS:jE.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:E};r&&(D.background=r);const N=f.render(D),F=N;return N.promise.then(()=>{w.style.visibility="",S()}).catch(C),()=>kl(F)},[r,f,g,E,O]);const L=G.useCallback(()=>{const{current:_}=x;_&&(_.width=0,_.height=0)},[]);return G.useEffect(()=>L,[L]),I.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:X2(A,x),style:{display:"block",userSelect:"none"},children:y?I.jsx(EB,{}):null})}function MB(a){return"str"in a}function RB(){const a=ty();ue(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:f,rotate:g,scale:y}=a;ue(c);const[d,m]=qu(),{value:A,error:x}=d,S=G.useRef(null);Si(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){A&&n&&n(A)}function E(){x&&(Si(!1,x.toString()),e&&e(x))}G.useEffect(function(){m({type:"RESET"})},[c,m]),G.useEffect(function(){if(!c)return;const F=Qf(c.getTextContent()),j=F;return F.promise.then(K=>{m({type:"RESOLVE",value:K})}).catch(K=>{m({type:"REJECT",error:K})}),()=>kl(j)},[c,m]),G.useEffect(()=>{if(A!==void 0){if(A===!1){E();return}C()}},[A]);const O=G.useCallback(()=>{l&&l()},[l]),L=G.useCallback(N=>{Si(!1,N.toString()),r&&r(N)},[r]);function _(){const N=S.current;N&&N.classList.add("selecting")}function w(){const N=S.current;N&&N.classList.remove("selecting")}const D=G.useMemo(()=>c.getViewport({scale:y,rotation:g}),[c,g,y]);return G.useLayoutEffect(function(){if(!c||!A)return;const{current:F}=S;if(!F)return;F.innerHTML="";const j=c.streamTextContent({includeMarkedContent:!0}),K={container:F,textContentSource:j,viewport:D},Z=new I2(K),rt=Z;return Z.render().then(()=>{const ot=document.createElement("div");ot.className="endOfContent",F.append(ot);const at=F.querySelectorAll('[role="presentation"]');if(t){let dt=0;A.items.forEach((U,Y)=>{if(!MB(U))return;const it=at[dt];if(!it)return;const bt=t(Object.assign({pageIndex:h,pageNumber:f,itemIndex:Y},U));it.innerHTML=bt,dt+=U.str&&U.hasEOL?2:1})}O()}).catch(L),()=>kl(rt)},[t,L,O,c,h,f,A,D]),I.jsx("div",{className:Qm("react-pdf__Page__textContent","textLayer"),onMouseUp:w,onMouseDown:_,ref:S})}function DB(){const a=q2(),t=ty();ue(t);const e=Object.assign(Object.assign({},a),t),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:g,pdf:y,renderForms:d,rotate:m,scale:A=1}=e;ue(y),ue(g),ue(r);const[x,S]=qu(),{value:C,error:E}=x,O=G.useRef(null);Si(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){C&&c&&c(C)}function _(){E&&(Si(!1,E.toString()),l&&l(E))}G.useEffect(function(){S({type:"RESET"})},[S,g]),G.useEffect(function(){if(!g)return;const j=Qf(g.getAnnotations()),K=j;return j.promise.then(Z=>{S({type:"RESOLVE",value:Z})}).catch(Z=>{S({type:"REJECT",error:Z})}),()=>{kl(K)}},[S,g]),G.useEffect(()=>{if(C!==void 0){if(C===!1){_();return}L()}},[C]);function w(){f&&f()}function D(F){Si(!1,`${F}`),h&&h(F)}const N=G.useMemo(()=>g.getViewport({scale:A,rotation:m}),[g,m,A]);return G.useEffect(function(){if(!y||!g||!r||!C)return;const{current:j}=O;if(!j)return;const K=N.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:j,l10n:null,page:g,structTreeLayer:null,viewport:K},rt={annotations:C,annotationStorage:y.annotationStorage,div:j,imageResourcesPath:n,linkService:r,page:g,renderForms:d,viewport:K};j.innerHTML="";try{new N2(Z).render(rt),w()}catch(ot){D(ot)}return()=>{}},[C,n,r,g,y,d,N]),I.jsx("div",{className:Qm("react-pdf__Page__annotations","annotationLayer"),ref:O})}var LB=function(a,t){var e={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(e[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(e[n[r]]=a[n[r]]);return e};const BE=1;function kB(a){const t=q2(),e=Object.assign(Object.assign({},t),a),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:f,customRenderer:g,customTextRenderer:y,devicePixelRatio:d,error:m="Failed to load the page.",height:A,inputRef:x,loading:S="Loading page",noData:C="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:O,onGetStructTreeError:L,onGetStructTreeSuccess:_,onGetTextError:w,onGetTextSuccess:D,onLoadError:N,onLoadSuccess:F,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:K,onRenderError:Z,onRenderSuccess:rt,onRenderTextLayerError:ot,onRenderTextLayerSuccess:at,pageIndex:dt,pageNumber:U,pdf:Y,registerPage:it,renderAnnotationLayer:bt=!0,renderForms:xt=!1,renderMode:H="canvas",renderTextLayer:q=!0,rotate:J,scale:st=BE,unregisterPage:ft,width:pt}=e,ut=LB(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Dt,Lt]=qu(),{value:Ht,error:we}=Dt,Ue=G.useRef(null);ue(Y);const Ot=xo(U)?U-1:dt??null,ne=U??(xo(dt)?dt+1:null),Oe=J??(Ht?Ht.rotate:null),Se=G.useMemo(()=>{if(!Ht)return null;let Bs=1;const Hs=st??BE;if(pt||A){const jl=Ht.getViewport({scale:1,rotation:Oe});pt?Bs=pt/jl.width:A&&(Bs=A/jl.height)}return Hs*Bs},[A,Ht,Oe,st,pt]);G.useEffect(function(){return()=>{xo(Ot)&&r&&ft&&ft(Ot)}},[r,Y,Ot,ft]);function za(){if(F){if(!Ht||!Se)return;F(IA(Ht,Se))}if(r&&it){if(!xo(Ot)||!Ue.current)return;it(Ot,Ue.current)}}function Va(){we&&(Si(!1,we.toString()),N&&N(we))}G.useEffect(function(){Lt({type:"RESET"})},[Lt,Y,Ot]),G.useEffect(function(){if(!Y||!ne)return;const Hs=Qf(Y.getPage(ne)),jl=Hs;return Hs.promise.then(Bl=>{Lt({type:"RESOLVE",value:Bl})}).catch(Bl=>{Lt({type:"REJECT",error:Bl})}),()=>kl(jl)},[Lt,Y,ne]),G.useEffect(()=>{if(Ht!==void 0){if(Ht===!1){Va();return}za()}},[Ht,Se]);const $u=G.useMemo(()=>Ht&&xo(Ot)&&ne&&xo(Oe)&&xo(Se)?{_className:n,canvasBackground:l,customTextRenderer:y,devicePixelRatio:d,onGetAnnotationsError:E,onGetAnnotationsSuccess:O,onGetStructTreeError:L,onGetStructTreeSuccess:_,onGetTextError:w,onGetTextSuccess:D,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:K,onRenderError:Z,onRenderSuccess:rt,onRenderTextLayerError:ot,onRenderTextLayerSuccess:at,page:Ht,pageIndex:Ot,pageNumber:ne,renderForms:xt,renderTextLayer:q,rotate:Oe,scale:Se}:null,[n,l,y,d,E,O,L,_,w,D,j,K,Z,rt,ot,at,Ht,Ot,ne,xt,q,Oe,Se]),Ku=G.useMemo(()=>H2(ut,()=>Ht&&(Se?IA(Ht,Se):void 0)),[ut,Ht,Se]),Ua=`${Ot}@${Se}/${Oe}`;function ey(){switch(H){case"custom":return ue(g),I.jsx(g,{},`${Ua}_custom`);case"none":return null;case"canvas":default:return I.jsx(CB,{canvasRef:c},`${Ua}_canvas`)}}function iy(){return q?I.jsx(RB,{},`${Ua}_text`):null}function Ci(){return bt?I.jsx(DB,{},`${Ua}_annotations`):null}function ny(){return I.jsxs(Y2.Provider,{value:$u,children:[ey(),iy(),Ci(),h]})}function Zf(){return ne?Y===null||Ht===void 0||Ht===null?I.jsx(Gc,{type:"loading",children:typeof S=="function"?S():S}):Y===!1||Ht===!1?I.jsx(Gc,{type:"error",children:typeof m=="function"?m():m}):ny():I.jsx(Gc,{type:"no-data",children:typeof C=="function"?C():C})}return I.jsx("div",Object.assign({className:Qm(n,f),"data-page-number":ne,ref:X2(x,Ue),style:{"--scale-factor":`${Se}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ku,{children:Zf()}))}gB();P_.workerSrc="pdf.worker.mjs";var fd={exports:{}},PB=fd.exports,HE;function OB(){return HE||(HE=1,(function(a,t){(function(e,n){n(t)})(PB,(function(e){class n{constructor(_,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=_}setDensity(_){this.createdDensity=_,this.nowDrawingDensity=_}setDrawingDensity(_){this.nowDrawingDensity=_}setPosition(_){this.state.position=_}setAngle(_){this.state.angle=_}setArea(_){this.state.area=_}setHardDrawingAngle(_){this.state.hardDrawingAngle=_}setHardAngle(_){this.state.hardAngle=_,this.state.hardDrawingAngle=_}setOrientation(_){this.orientation=_}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class r extends n{constructor(_,w,D){super(_,D),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(_){const w=this.render.getContext(),D=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,F=this.render.getRect().height;w.save(),w.translate(D.x,D.y),w.beginPath();for(let j of this.state.area)j!==null&&(j=this.render.convertToGlobal(j),w.lineTo(j.x-D.x,j.y-D.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,N,F):this.drawLoader(w,{x:0,y:0},N,F),w.restore()}simpleDraw(_){const w=this.render.getRect(),D=this.render.getContext(),N=w.pageWidth,F=w.height,j=_===1?w.left+w.pageWidth:w.left,K=w.top;this.isLoad?D.drawImage(this.image,j,K,N,F):this.drawLoader(D,{x:j,y:K},N,F)}drawLoader(_,w,D,N){_.beginPath(),_.strokeStyle="rgb(200, 200, 200)",_.fillStyle="rgb(255, 255, 255)",_.lineWidth=1,_.rect(w.x+1,w.y+1,D-1,N-1),_.stroke(),_.fill();const F={x:w.x+D/2,y:w.y+N/2};_.beginPath(),_.lineWidth=10,_.arc(F.x,F.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),_.stroke(),_.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(_,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=_,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let _=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([_]),_++);for(let w=_;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(_){const w=this.getSpread();for(let D=0;D<w.length;D++)if(_===w[D][0]||_===w[D][1])return D;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(_){if(_>=0&&_<this.pages.length)return this.pages[_];throw new Error("Invalid page number")}nextBy(_){const w=this.pages.indexOf(_);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(_){const w=this.pages.indexOf(_);return w>0?this.pages[w-1]:null}getFlippingPage(_){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return _===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const D=_===0?this.getSpread()[w+1]:this.getSpread()[w-1];return D.length===1||_===0?this.pages[D[0]]:this.pages[D[1]]}}getBottomPage(_){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return _===0?this.pages[w+1]:this.pages[w-1];{const D=_===0?this.getSpread()[w+1]:this.getSpread()[w-1];return D.length===1?this.pages[D[0]]:_===0?this.pages[D[1]]:this.pages[D[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(_=null){if(_===null&&(_=this.currentPageIndex),_<0||_>=this.pages.length)return;const w=this.getSpreadIndexByPage(_);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(_){if(!(_>=0&&_<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=_}showSpread(){const _=this.getSpread()[this.currentSpreadIndex];_.length===2?(this.render.setLeftPage(this.pages[_[0]]),this.render.setRightPage(this.pages[_[1]])):this.render.getOrientation()==="landscape"&&_[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[_[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[_[0]])),this.currentPageIndex=_[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(_,w,D){super(_,w),this.imagesHref=D}load(){for(const _ of this.imagesHref){const w=new r(this.render,_,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class h{static GetDistanceBetweenTwoPoint(_,w){return _===null||w===null?1/0:Math.sqrt(Math.pow(w.x-_.x,2)+Math.pow(w.y-_.y,2))}static GetSegmentLength(_){return h.GetDistanceBetweenTwoPoint(_[0],_[1])}static GetAngleBetweenTwoLine(_,w){const D=_[0].y-_[1].y,N=w[0].y-w[1].y,F=_[1].x-_[0].x,j=w[1].x-w[0].x;return Math.acos((D*N+F*j)/(Math.sqrt(D*D+F*F)*Math.sqrt(N*N+j*j)))}static PointInRect(_,w){return w===null?null:w.x>=_.left&&w.x<=_.width+_.left&&w.y>=_.top&&w.y<=_.top+_.height?w:null}static GetRotatedPoint(_,w,D){return{x:_.x*Math.cos(D)+_.y*Math.sin(D)+w.x,y:_.y*Math.cos(D)-_.x*Math.sin(D)+w.y}}static LimitPointToCircle(_,w,D){if(h.GetDistanceBetweenTwoPoint(_,D)<=w)return D;const N=_.x,F=_.y,j=D.x,K=D.y;let Z=Math.sqrt(Math.pow(w,2)*Math.pow(N-j,2)/(Math.pow(N-j,2)+Math.pow(F-K,2)))+N;D.x<0&&(Z*=-1);let rt=(Z-N)*(F-K)/(N-j)+F;return N-j+F===0&&(rt=w),{x:Z,y:rt}}static GetIntersectBetweenTwoSegment(_,w,D){return h.PointInRect(_,h.GetIntersectBeetwenTwoLine(w,D))}static GetIntersectBeetwenTwoLine(_,w){const D=_[0].y-_[1].y,N=w[0].y-w[1].y,F=_[1].x-_[0].x,j=w[1].x-w[0].x,K=_[0].x*_[1].y-_[1].x*_[0].y,Z=w[0].x*w[1].y-w[1].x*w[0].y,rt=D*Z-N*K,ot=F*Z-j*K,at=-(K*j-Z*F)/(D*j-N*F),dt=-(D*Z-N*K)/(D*j-N*F);if(isFinite(at)&&isFinite(dt))return{x:at,y:dt};if(Math.abs(rt-ot)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(_,w){const D=Math.abs(_.x-w.x),N=Math.abs(_.y-w.y),F=Math.max(D,N),j=[_];function K(Z,rt,ot,at,dt){return rt>Z?Z+dt*(ot/at):rt<Z?Z-dt*(ot/at):Z}for(let Z=1;Z<=F;Z+=1)j.push({x:K(_.x,w.x,D,F,Z),y:K(_.y,w.y,N,F,Z)});return j}}class f extends n{constructor(_,w,D){super(_,D),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+D)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new f(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(_){const w=_||this.nowDrawingDensity,D=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,F=this.render.getRect().height;this.element.classList.remove("--simple");const j=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${N}px;
            height: ${F}px;
        `;w==="hard"?this.drawHard(j):this.drawSoft(D,j)}drawHard(_=""){const w=this.render.getRect().left+this.render.getRect().width/2,D=this.state.hardDrawingAngle,N=_+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${D}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${D}deg);`);this.element.style.cssText=N}drawSoft(_,w=""){let D="polygon( ";for(const F of this.state.area)if(F!==null){let j=this.render.getDirection()===1?{x:-F.x+this.state.position.x,y:F.y-this.state.position.y}:{x:F.x-this.state.position.x,y:F.y-this.state.position.y};j=h.GetRotatedPoint(j,{x:0,y:0},this.state.angle),D+=j.x+"px "+j.y+"px, "}D=D.slice(0,-2),D+=")";const N=w+`transform-origin: 0 0; clip-path: ${D}; -webkit-clip-path: ${D};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${_.x}px, ${_.y}px);`:`transform: translate3d(${_.x}px, ${_.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=N}simpleDraw(_){const w=this.render.getRect(),D=w.pageWidth,N=w.height,F=_===1?w.left+w.pageWidth:w.left,j=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${N}px; 
            left: ${F}px; 
            top: ${j}px; 
            width: ${D}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(_){super.setOrientation(_),this.element.classList.remove("--left","--right"),this.element.classList.add(_===1?"--right":"--left")}setDrawingDensity(_){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+_),super.setDrawingDensity(_)}}class g extends l{constructor(_,w,D,N){super(_,w),this.element=D,this.pagesElement=N}load(){for(const _ of this.pagesElement){const w=new f(this.render,_,_.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class y{constructor(_,w,D,N){this.direction=_,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(D,10),this.pageHeight=parseInt(N,10)}calc(_){try{return this.position=this.calcAngleAndPosition(_),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const _=[];let w=!1;return _.push(this.rect.topLeft),_.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(_.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),_.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&_.push(this.rect.bottomLeft),_}getBottomClipArea(){const _=[];return _.push(this.topIntersectPoint),this.corner==="top"?_.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&_.push({x:this.pageWidth,y:0}),_.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?h.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&_.push(this.sideIntersectPoint):this.corner==="top"&&_.push({x:this.pageWidth,y:this.pageHeight}),_.push(this.bottomIntersectPoint),_.push(this.topIntersectPoint),_}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const _=h.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?_:Math.PI-_}calcAngleAndPosition(_){let w=_;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(_){this.angle=this.calculateAngle(_),this.rect=this.getPageRect(_)}calculateAngle(_){const w=this.pageWidth-_.x+1,D=this.corner==="bottom"?this.pageHeight-_.y:_.y;let N=2*Math.acos(w/Math.sqrt(D*D+w*w));D<0&&(N=-N);const F=Math.PI-N;if(!isFinite(N)||F>=0&&F<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(N=-N),N}getPageRect(_){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],_):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],_)}getRectFromBasePoint(_,w){return{topLeft:this.getRotatedPoint(_[0],w),topRight:this.getRotatedPoint(_[1],w),bottomLeft:this.getRotatedPoint(_[2],w),bottomRight:this.getRotatedPoint(_[3],w)}}getRotatedPoint(_,w){return{x:_.x*Math.cos(this.angle)+_.y*Math.sin(this.angle)+w.x,y:_.y*Math.cos(this.angle)-_.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(_){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(w,[_,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(w,[_,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(w,[_,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(_,w,D){let N=_;const F=h.LimitPointToCircle(w,this.pageWidth,N);N!==F&&(N=F,this.updateAngleAndGeometry(N));const j=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let K=this.rect.bottomRight,Z=this.rect.topLeft;if(this.corner==="bottom"&&(K=this.rect.topRight,Z=this.rect.bottomLeft),K.x<=0){const rt=h.LimitPointToCircle(D,j,Z);rt!==N&&(N=rt,this.updateAngleAndGeometry(N))}return N}getSegmentToShadowLine(){const _=this.getShadowStartPoint();return[_,_!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class d{constructor(_,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=_,this.app=w}fold(_){this.setState("user_fold"),this.calc===null&&this.start(_),this.do(this.render.convertToPage(_))}flip(_){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(_)||(this.calc!==null&&this.render.finishAnimation(),!this.start(_)))return;const w=this.getBoundsRect();this.setState("flipping");const D=w.height/10,N=this.calc.getCorner()==="bottom"?w.height-D:D,F=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-D,y:N}),this.animateFlippingTo({x:w.pageWidth-D,y:N},{x:-w.pageWidth,y:F},!0)}start(_){this.reset();const w=this.render.convertToBook(_),D=this.getBoundsRect(),N=this.getDirectionByPoint(w),F=w.y>=D.height/2?"bottom":"top";if(!this.checkDirection(N))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(N),this.bottomPage=this.app.getPageCollection().getBottomPage(N),this.render.getOrientation()==="landscape")if(N===1){const j=this.app.getPageCollection().nextBy(this.flippingPage);j!==null&&this.flippingPage.getDensity()!==j.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),j.setDrawingDensity("hard"))}else{const j=this.app.getPageCollection().prevBy(this.flippingPage);j!==null&&this.flippingPage.getDensity()!==j.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),j.setDrawingDensity("hard"))}return this.render.setDirection(N),this.calc=new y(N,F,D.pageWidth.toString(10),D.height.toString(10)),!0}catch{return!1}}do(_){if(this.calc!==null&&this.calc.calc(_)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(_,w){const D=this.app.getPageCollection().getCurrentSpreadIndex(),N=this.app.getPageCollection().getSpreadIndexByPage(_);try{N>D&&(this.app.getPageCollection().setCurrentSpreadIndex(N-1),this.flipNext(w)),N<D&&(this.app.getPageCollection().setCurrentSpreadIndex(N+1),this.flipPrev(w))}catch{}}flipNext(_){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:_==="top"?1:this.render.getRect().height-2})}flipPrev(_){this.flip({x:10,y:_==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const _=this.calc.getPosition(),w=this.getBoundsRect(),D=this.calc.getCorner()==="bottom"?w.height:0;_.x<=0?this.animateFlippingTo(_,{x:-w.pageWidth,y:D},!0):this.animateFlippingTo(_,{x:w.pageWidth,y:D},!1)}showCorner(_){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),D=w.pageWidth;if(this.isPointOnCorners(_))if(this.calc===null){if(!this.start(_))return;this.setState("fold_corner"),this.calc.calc({x:D-1,y:1});const N=50,F=this.calc.getCorner()==="bottom"?w.height-1:1,j=this.calc.getCorner()==="bottom"?w.height-N:N;this.animateFlippingTo({x:D-1,y:F},{x:D-N,y:j},!1,!1)}else this.do(this.render.convertToPage(_));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(_,w,D,N=!0){const F=h.GetCordsFromTwoPoint(_,w),j=[];for(const Z of F)j.push(()=>this.do(Z));const K=this.getAnimationDuration(F.length);this.render.startAnimation(j,K,()=>{this.calc&&(D&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),N&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(_){this.state!==_&&(this.app.updateState(_),this.state=_)}getDirectionByPoint(_){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(_.x-w.pageWidth<=w.width/5)return 1}else if(_.x<w.width/2)return 1;return 0}getAnimationDuration(_){const w=this.app.getSettings().flippingTime;return _>=1e3?w:_/1e3*w}checkDirection(_){return _===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(..._){for(const w of _)if(this.state===w)return!0;return!1}isPointOnCorners(_){const w=this.getBoundsRect(),D=w.pageWidth,N=Math.sqrt(Math.pow(D,2)+Math.pow(w.height,2))/5,F=this.render.convertToBook(_);return F.x>0&&F.y>0&&F.x<w.width&&F.y<w.height&&(F.x<N||F.x>w.width-N)&&(F.y<N||F.y>w.height-N)}}class m{constructor(_,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=_;const D=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=D.exec(window.navigator.userAgent)!==null}render(_){if(this.animation!==null){const w=Math.round((_-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=_,this.drawFrame()}start(){this.update();const _=w=>{this.render(w),requestAnimationFrame(_)};requestAnimationFrame(_)}startAnimation(_,w,D){this.finishAnimation(),this.animation={frames:_,duration:w,durationFrame:w/_.length,onAnimateEnd:D,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const _=this.calculateBoundsRect();this.orientation!==_&&(this.orientation=_,this.app.updateOrientation(_))}calculateBoundsRect(){let _="landscape";const w=this.getBlockWidth(),D=w/2,N=this.getBlockHeight()/2,F=this.setting.width/this.setting.height;let j=this.setting.width,K=this.setting.height,Z=D-j;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(_="portrait"),j=_==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,j>this.setting.maxWidth&&(j=this.setting.maxWidth),K=j/F,K>this.getBlockHeight()&&(K=this.getBlockHeight(),j=K*F),Z=_==="portrait"?D-j/2-j:D-j):w<2*j&&this.app.getSettings().usePortrait&&(_="portrait",Z=D-j/2-j),this.boundsRect={left:Z,top:N-K/2,width:2*j,height:K,pageWidth:j},_}setShadowData(_,w,D,N){if(!this.app.getSettings().drawShadow)return;const F=100*this.getSettings().maxShadowOpacity;this.shadow={pos:_,angle:w,width:3*this.getRect().pageWidth/4*D/100,opacity:(100-D)*F/100/100,direction:N,progress:2*D}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(_){this.pageRect=_}setDirection(_){this.direction=_}setRightPage(_){_!==null&&_.setOrientation(1),this.rightPage=_}setLeftPage(_){_!==null&&_.setOrientation(0),this.leftPage=_}setBottomPage(_){_!==null&&_.setOrientation(this.direction===1?0:1),this.bottomPage=_}setFlippingPage(_){_!==null&&_.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=_}convertToBook(_){const w=this.getRect();return{x:_.x-w.left,y:_.y-w.top}}isSafari(){return this.safari}convertToPage(_,w){w||(w=this.direction);const D=this.getRect();return{x:w===0?_.x-D.left-D.width/2:D.width/2-_.x+D.left,y:_.y-D.top}}convertToGlobal(_,w){if(w||(w=this.direction),_==null)return null;const D=this.getRect();return{x:w===0?_.x+D.left+D.width/2:D.width/2-_.x+D.left,y:_.y+D.top}}convertRectToGlobal(_,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(_.topLeft,w),topRight:this.convertToGlobal(_.topRight,w),bottomLeft:this.convertToGlobal(_.bottomLeft,w),bottomRight:this.convertToGlobal(_.bottomRight,w)}}}class A extends m{constructor(_,w,D){super(_,w),this.canvas=D,this.ctx=D.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const _=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(_.left+_.pageWidth,_.top,_.width,_.height),this.ctx.clip())}drawBookShadow(){const _=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=_.width/20;this.ctx.rect(_.left,_.top,_.width,_.height);const D={x:_.left+_.width/2-w/2,y:0};this.ctx.translate(D.x,D.y);const N=this.ctx.createLinearGradient(0,0,w,0);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),N.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),N.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),N.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),N.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,w,2*_.height),this.ctx.restore()}drawOuterShadow(){const _=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(_.left,_.top,_.width,_.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const D=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),D.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),D.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),D.addColorStop(0,"rgba(0, 0, 0, 0)"),D.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=D,this.ctx.fillRect(0,0,this.shadow.width,2*_.height),this.ctx.restore()}drawInnerShadow(){const _=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),D=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(D.topLeft.x,D.topLeft.y),this.ctx.lineTo(D.topRight.x,D.topRight.y),this.ctx.lineTo(D.bottomRight.x,D.bottomRight.y),this.ctx.lineTo(D.bottomLeft.x,D.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=3*this.shadow.width/4,F=this.ctx.createLinearGradient(0,0,N,0);this.shadow.direction===0?(this.ctx.translate(-N,-100),F.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),F.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=F,this.ctx.fillRect(0,0,N,2*_.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class x{constructor(_,w,D){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=F=>{if(this.checkTarget(F.target)){const j=this.getMousePos(F.clientX,F.clientY);this.app.startUserTouch(j),F.preventDefault()}},this.onTouchStart=F=>{if(this.checkTarget(F.target)&&F.changedTouches.length>0){const j=F.changedTouches[0],K=this.getMousePos(j.clientX,j.clientY);this.touchPoint={point:K,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(K)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||F.preventDefault()}},this.onMouseUp=F=>{const j=this.getMousePos(F.clientX,F.clientY);this.app.userStop(j)},this.onMouseMove=F=>{const j=this.getMousePos(F.clientX,F.clientY);this.app.userMove(j,!1)},this.onTouchMove=F=>{if(F.changedTouches.length>0){const j=F.changedTouches[0],K=this.getMousePos(j.clientX,j.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-K.x)>10||this.app.getState()!=="read")&&F.cancelable&&this.app.userMove(K,!0),this.app.getState()!=="read"&&F.preventDefault()):this.app.userMove(K,!0)}},this.onTouchEnd=F=>{if(F.changedTouches.length>0){const j=F.changedTouches[0],K=this.getMousePos(j.clientX,j.clientY);let Z=!1;if(this.touchPoint!==null){const rt=K.x-this.touchPoint.point.x,ot=Math.abs(K.y-this.touchPoint.point.y);Math.abs(rt)>this.swipeDistance&&ot<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(rt>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),Z=!0),this.touchPoint=null}this.app.userStop(K,Z)}},this.parentElement=_,_.classList.add("stf__parent"),_.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=_.querySelector(".stf__wrapper"),this.app=w;const N=this.app.getSettings().usePortrait?1:2;_.style.minWidth=D.minWidth*N+"px",_.style.minHeight=D.minHeight+"px",D.size==="fixed"&&(_.style.minWidth=D.width*N+"px",_.style.minHeight=D.height+"px"),D.autoSize&&(_.style.width="100%",_.style.maxWidth=2*D.maxWidth+"px"),_.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=D.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(_){this.wrapper.classList.remove("--portrait","--landscape"),_==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(_,w){const D=this.distElement.getBoundingClientRect();return{x:_-D.left,y:w-D.top}}checkTarget(_){return!this.app.getSettings().clickEventForward||!["a","button"].includes(_.tagName.toLowerCase())}}class S extends x{constructor(_,w,D,N){super(_,w,D),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=_.querySelector(".stf__block"),this.items=N;for(const F of N)this.distElement.appendChild(F);this.setHandlers()}clear(){for(const _ of this.items)this.parentElement.appendChild(_)}updateItems(_){this.removeHandlers(),this.distElement.innerHTML="";for(const w of _)this.distElement.appendChild(w);this.items=_,this.setHandlers()}update(){this.app.getRender().update()}}class C extends x{constructor(_,w,D){super(_,w,D),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=_.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const _=getComputedStyle(this.canvas),w=parseInt(_.getPropertyValue("width"),10),D=parseInt(_.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=D}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class E extends m{constructor(_,w,D){super(_,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=D,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const _=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let D=(100-w)*(2.5*_.pageWidth)/100+20;D>_.pageWidth&&(D=_.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${D}px;
            height: ${_.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${_.left+_.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=N}drawHardOuterShadow(){const _=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*_.pageWidth)/100+20;w>_.pageWidth&&(w=_.pageWidth);let D=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${_.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${_.left+_.width/2}px;
            transform-origin: 0 0;
        `;D+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=D}drawInnerShadow(){const _=this.getRect(),w=3*this.shadow.width/4,D=this.getDirection()===0?w:0,N=this.getDirection()===0?"to left":"to right",F=this.convertToGlobal(this.shadow.pos),j=this.shadow.angle+3*Math.PI/2,K=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let Z="polygon( ";for(const ot of K){let at=this.getDirection()===1?{x:-ot.x+this.shadow.pos.x,y:ot.y-this.shadow.pos.y}:{x:ot.x-this.shadow.pos.x,y:ot.y-this.shadow.pos.y};at=h.GetRotatedPoint(at,{x:D,y:100},j),Z+=at.x+"px "+at.y+"px, "}Z=Z.slice(0,-2),Z+=")";const rt=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*_.height}px;
            background: linear-gradient(${N},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${D}px 100px;
            transform: translate3d(${F.x-D}px, ${F.y-100}px, 0) rotate(${j}rad);
            clip-path: ${Z};
            -webkit-clip-path: ${Z};
        `;this.innerShadow.style.cssText=rt}drawOuterShadow(){const _=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),D=this.shadow.angle+3*Math.PI/2,N=this.getDirection()===1?this.shadow.width:0,F=this.getDirection()===0?"to right":"to left",j=[{x:0,y:0},{x:_.pageWidth,y:0},{x:_.pageWidth,y:_.height},{x:0,y:_.height}];let K="polygon( ";for(const rt of j)if(rt!==null){let ot=this.getDirection()===1?{x:-rt.x+this.shadow.pos.x,y:rt.y-this.shadow.pos.y}:{x:rt.x-this.shadow.pos.x,y:rt.y-this.shadow.pos.y};ot=h.GetRotatedPoint(ot,{x:N,y:100},D),K+=ot.x+"px "+ot.y+"px, "}K=K.slice(0,-2),K+=")";const Z=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*_.height}px;
            background: linear-gradient(${F}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${N}px 100px;
            transform: translate3d(${w.x-N}px, ${w.y-100}px, 0) rotate(${D}rad);
            clip-path: ${K};
            -webkit-clip-path: ${K};
        `;this.outerShadow.style.cssText=Z}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const _=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(_))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const _ of this.app.getPageCollection().getPages())_!==this.leftPage&&_!==this.rightPage&&_!==this.flippingPage&&_!==this.bottomPage&&(_.getElement().style.cssText="display: none"),_.getTemporaryCopy()!==this.flippingPage&&_.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class O{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(_){const w=this._default;if(Object.assign(w,_),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(L,_){_===void 0&&(_={});var w=_.insertAt;if(typeof document<"u"){var D=document.head||document.getElementsByTagName("head")[0],N=document.createElement("style");N.type="text/css",w==="top"&&D.firstChild?D.insertBefore(N,D.firstChild):D.appendChild(N),N.styleSheet?N.styleSheet.cssText=L:N.appendChild(document.createTextNode(L))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),e.PageFlip=class extends class{constructor(){this.events=new Map}on(L,_){return this.events.has(L)?this.events.get(L).push(_):this.events.set(L,[_]),this}off(L){this.events.delete(L)}trigger(L,_,w=null){if(this.events.has(L))for(const D of this.events.get(L))D({data:w,object:_})}}{constructor(L,_){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new O().getSettings(_),this.block=L}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(L){this.ui=new C(this.block,this,this.setting);const _=this.ui.getCanvas();this.render=new A(this,this.setting,_),this.flipController=new d(this.render,this),this.pages=new c(this,this.render,L),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(L){this.ui=new S(this.block,this,this.setting,L),this.render=new E(this,this.setting,this.ui.getDistElement()),this.flipController=new d(this.render,this),this.pages=new g(this,this.render,this.ui.getDistElement(),L),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(L){const _=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,L),this.pages.load(),this.pages.show(_),this.trigger("update",this,{page:_,mode:this.render.getOrientation()})}updateFromHtml(L){const _=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new g(this,this.render,this.ui.getDistElement(),L),this.pages.load(),this.ui.updateItems(L),this.render.reload(),this.pages.show(_),this.trigger("update",this,{page:_,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(L){this.pages.show(L)}flipNext(L="top"){this.flipController.flipNext(L)}flipPrev(L="top"){this.flipController.flipPrev(L)}flip(L,_="top"){this.flipController.flipToPage(L,_)}updateState(L){this.trigger("changeState",this,L)}updatePageIndex(L){this.trigger("flip",this,L)}updateOrientation(L){this.ui.setOrientationStyle(L),this.update(),this.trigger("changeOrientation",this,L)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(L){return this.pages.getPage(L)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(L){this.mousePosition=L,this.isUserTouch=!0,this.isUserMove=!1}userMove(L,_){this.isUserTouch||_||!this.setting.showPageCorners?this.isUserTouch&&h.GetDistanceBetweenTwoPoint(this.mousePosition,L)>5&&(this.isUserMove=!0,this.flipController.fold(L)):this.flipController.showCorner(L)}userStop(L,_=!1){this.isUserTouch&&(this.isUserTouch=!1,_||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(L)))}},Object.defineProperty(e,"__esModule",{value:!0})}))})(fd,fd.exports)),fd.exports}var NB=OB();const FB=us.forwardRef((a,t)=>{const e=G.useRef(null),n=G.useRef([]),r=G.useRef(),[l,c]=G.useState([]);G.useImperativeHandle(t,()=>({pageFlip:()=>r.current}));const h=G.useCallback(()=>{r.current&&r.current.clear()},[]),f=G.useCallback(()=>{const g=r.current;g&&(g.off("flip"),g.off("changeOrientation"),g.off("changeState"),g.off("init"),g.off("update"))},[]);return G.useEffect(()=>{if(n.current=[],a.children){const g=us.Children.map(a.children,y=>us.cloneElement(y,{ref:d=>{d&&n.current.push(d)}}));(!a.renderOnlyPageLengthChange||l.length!==g.length)&&(g.length<l.length&&h(),c(g))}},[a.children]),G.useEffect(()=>{const g=()=>{const y=r.current;y&&(a.onFlip&&y.on("flip",d=>a.onFlip(d)),a.onChangeOrientation&&y.on("changeOrientation",d=>a.onChangeOrientation(d)),a.onChangeState&&y.on("changeState",d=>a.onChangeState(d)),a.onInit&&y.on("init",d=>a.onInit(d)),a.onUpdate&&y.on("update",d=>a.onUpdate(d)))};l.length>0&&n.current.length>0&&(f(),e.current&&!r.current&&(r.current=new NB.PageFlip(e.current,a)),r.current.getFlipController()?r.current.updateFromHtml(n.current):r.current.loadFromHTML(n.current),g())},[l]),us.createElement("div",{ref:e,className:a.className,style:a.style},l)}),IB=us.memo(FB),jA=us.forwardRef((a,t)=>{const{pageNumber:e,width:n}=a,r=e%2===0,{bookmarks:l,toggleBookmark:c}=Ni(),h=l.includes(e),f=typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1;return I.jsxs("div",{ref:t,className:"texture-paper shadow-2xl overflow-hidden relative group/page","data-density":"hard",children:[I.jsx("div",{className:`absolute inset-0 z-0 pointer-events-none
        ${r?"bg-gradient-to-l from-black/5 via-transparent to-white/5":"bg-gradient-to-r from-black/5 via-transparent to-white/5"}
      `}),I.jsx(kB,{pageNumber:e,width:n,renderAnnotationLayer:!1,renderTextLayer:!1,devicePixelRatio:f,className:"flex items-center justify-center relative z-0",loading:I.jsx("div",{className:"texture-paper animate-pulse"})}),h&&I.jsx("div",{className:"absolute top-0 right-8 z-40 animate-in fade-in slide-in-from-top-4 duration-500",children:I.jsxs("svg",{width:"24",height:"40",viewBox:"0 0 24 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"drop-shadow-lg",children:[I.jsx("path",{d:"M0 0H24V36L12 30L0 36V0Z",fill:"#ef4444"}),I.jsx("path",{d:"M12 30L0 36V38L12 32L24 38V36L12 30Z",fill:"#991b1b"})]})}),I.jsx("button",{onClick:g=>{g.stopPropagation(),c(e)},className:`absolute top-4 right-4 z-40 p-2 rounded-full backdrop-blur-md transition-all duration-300
          ${h?"bg-red-500 text-white opacity-100":"bg-black/20 text-white/40 opacity-0 group-hover/page:opacity-100 hover:bg-black/40 hover:text-white"}
        `,children:I.jsx(_d,{className:`w-4 h-4 ${h?"fill-current":""}`})}),I.jsx("div",{className:`absolute top-0 bottom-0 w-[20%] pointer-events-none z-10
        ${r?"right-0 bg-gradient-to-l from-black/40 via-black/10 to-transparent":"left-0 bg-gradient-to-r from-black/40 via-black/10 to-transparent"}
      `}),I.jsx("div",{className:`absolute top-0 bottom-0 w-[2px] z-20
        ${r?"right-0 bg-black/60 shadow-[-1px_0_4px_rgba(0,0,0,0.5)]":"left-0 bg-black/60 shadow-[1px_0_4px_rgba(0,0,0,0.5)]"}
      `}),I.jsx("div",{className:`absolute top-0 bottom-0 w-[40%] pointer-events-none z-10
        ${r?"left-0 bg-gradient-to-r from-white/10 via-transparent to-transparent":"right-0 bg-gradient-to-l from-white/10 via-transparent to-transparent"}
      `}),I.jsx("div",{className:`absolute top-0 bottom-0 w-[1px] bg-white/20 z-20
        ${r?"left-0":"right-0"}
      `}),I.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[10%] bg-gradient-to-t from-black/10 to-transparent pointer-events-none z-10"}),I.jsx("div",{className:`absolute bottom-4 ${r?"left-6":"right-6"} text-[10px] text-black/30 font-bold select-none tracking-widest bg-black/5 px-2 py-0.5 rounded-sm z-30`,children:e})]})});jA.displayName="PDFPage";var Yv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var zE;function jB(){return zE||(zE=1,(function(a){(function(){var t=function(){this.init()};t.prototype={init:function(){var d=this||e;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var m=this||e;if(d=parseFloat(d),m.ctx||y(),typeof d<"u"&&d>=0&&d<=1){if(m._volume=d,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(d,e.ctx.currentTime);for(var A=0;A<m._howls.length;A++)if(!m._howls[A]._webAudio)for(var x=m._howls[A]._getSoundIds(),S=0;S<x.length;S++){var C=m._howls[A]._soundById(x[S]);C&&C._node&&(C._node.volume=C._volume*d)}return m}return m._volume},mute:function(d){var m=this||e;m.ctx||y(),m._muted=d,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(d?0:m._volume,e.ctx.currentTime);for(var A=0;A<m._howls.length;A++)if(!m._howls[A]._webAudio)for(var x=m._howls[A]._getSoundIds(),S=0;S<x.length;S++){var C=m._howls[A]._soundById(x[S]);C&&C._node&&(C._node.muted=d?!0:C._muted)}return m},stop:function(){for(var d=this||e,m=0;m<d._howls.length;m++)d._howls[m].stop();return d},unload:function(){for(var d=this||e,m=d._howls.length-1;m>=0;m--)d._howls[m].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,y()),d},codecs:function(d){return(this||e)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||e;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{var m=new Audio;m.muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||e,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return d}if(!m||typeof m.canPlayType!="function")return d;var A=m.canPlayType("audio/mpeg;").replace(/^no$/,""),x=d._navigator?d._navigator.userAgent:"",S=x.match(/OPR\/(\d+)/g),C=S&&parseInt(S[0].split("/")[1],10)<33,E=x.indexOf("Safari")!==-1&&x.indexOf("Chrome")===-1,O=x.match(/Version\/(.*?) /),L=E&&O&&parseInt(O[1],10)<15;return d._codecs={mp3:!!(!C&&(A||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!A,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!L&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!L&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||e;if(!(d._audioUnlocked||!d.ctx)){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&d.ctx.sampleRate!==44100&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var m=function(A){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var x=new Audio;x._unlocked=!0,d._releaseHtml5Audio(x)}catch{d.noAudio=!0;break}for(var S=0;S<d._howls.length;S++)if(!d._howls[S]._webAudio)for(var C=d._howls[S]._getSoundIds(),E=0;E<C.length;E++){var O=d._howls[S]._soundById(C[E]);O&&O._node&&!O._node._unlocked&&(O._node._unlocked=!0,O._node.load())}d._autoResume();var L=d.ctx.createBufferSource();L.buffer=d._scratchBuffer,L.connect(d.ctx.destination),typeof L.start>"u"?L.noteOn(0):L.start(0),typeof d.ctx.resume=="function"&&d.ctx.resume(),L.onended=function(){L.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var _=0;_<d._howls.length;_++)d._howls[_]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),d}},_obtainHtml5Audio:function(){var d=this||e;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var m=this||e;return d._unlocked&&m._html5AudioPool.push(d),m},_autoSuspend:function(){var d=this;if(!(!d.autoSuspend||!d.ctx||typeof d.ctx.suspend>"u"||!e.usingWebAudio)){for(var m=0;m<d._howls.length;m++)if(d._howls[m]._webAudio){for(var A=0;A<d._howls[m]._sounds.length;A++)if(!d._howls[m]._sounds[A]._paused)return d}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var x=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(x,x)}},3e4),d}},_autoResume:function(){var d=this;if(!(!d.ctx||typeof d.ctx.resume>"u"||!e.usingWebAudio))return d.state==="running"&&d.ctx.state!=="interrupted"&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):d.state==="suspended"||d.state==="running"&&d.ctx.state==="interrupted"?(d.ctx.resume().then(function(){d.state="running";for(var m=0;m<d._howls.length;m++)d._howls[m]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):d.state==="suspending"&&(d._resumeAfterSuspend=!0),d}};var e=new t,n=function(d){var m=this;if(!d.src||d.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(d)};n.prototype={init:function(d){var m=this;return e.ctx||y(),m._autoplay=d.autoplay||!1,m._format=typeof d.format!="string"?d.format:[d.format],m._html5=d.html5||!1,m._muted=d.mute||!1,m._loop=d.loop||!1,m._pool=d.pool||5,m._preload=typeof d.preload=="boolean"||d.preload==="metadata"?d.preload:!0,m._rate=d.rate||1,m._sprite=d.sprite||{},m._src=typeof d.src!="string"?d.src:[d.src],m._volume=d.volume!==void 0?d.volume:1,m._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:d.xhr&&d.xhr.withCredentials?d.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=d.onend?[{fn:d.onend}]:[],m._onfade=d.onfade?[{fn:d.onfade}]:[],m._onload=d.onload?[{fn:d.onload}]:[],m._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],m._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],m._onpause=d.onpause?[{fn:d.onpause}]:[],m._onplay=d.onplay?[{fn:d.onplay}]:[],m._onstop=d.onstop?[{fn:d.onstop}]:[],m._onmute=d.onmute?[{fn:d.onmute}]:[],m._onvolume=d.onvolume?[{fn:d.onvolume}]:[],m._onrate=d.onrate?[{fn:d.onrate}]:[],m._onseek=d.onseek?[{fn:d.onseek}]:[],m._onunlock=d.onunlock?[{fn:d.onunlock}]:[],m._onresume=[],m._webAudio=e.usingWebAudio&&!m._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var d=this,m=null;if(e.noAudio){d._emit("loaderror",null,"No audio support.");return}typeof d._src=="string"&&(d._src=[d._src]);for(var A=0;A<d._src.length;A++){var x,S;if(d._format&&d._format[A])x=d._format[A];else{if(S=d._src[A],typeof S!="string"){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}x=/^data:audio\/([^;,]+);/i.exec(S),x||(x=/\.([^.]+)$/.exec(S.split("?",1)[0])),x&&(x=x[1].toLowerCase())}if(x||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),x&&e.codecs(x)){m=d._src[A];break}}if(!m){d._emit("loaderror",null,"No codec support for selected audio sources.");return}return d._src=m,d._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(d._html5=!0,d._webAudio=!1),new r(d),d._webAudio&&c(d),d},play:function(d,m){var A=this,x=null;if(typeof d=="number")x=d,d=null;else{if(typeof d=="string"&&A._state==="loaded"&&!A._sprite[d])return null;if(typeof d>"u"&&(d="__default",!A._playLock)){for(var S=0,C=0;C<A._sounds.length;C++)A._sounds[C]._paused&&!A._sounds[C]._ended&&(S++,x=A._sounds[C]._id);S===1?d=null:x=null}}var E=x?A._soundById(x):A._inactiveSound();if(!E)return null;if(x&&!d&&(d=E._sprite||"__default"),A._state!=="loaded"){E._sprite=d,E._ended=!1;var O=E._id;return A._queue.push({event:"play",action:function(){A.play(O)}}),O}if(x&&!E._paused)return m||A._loadQueue("play"),E._id;A._webAudio&&e._autoResume();var L=Math.max(0,E._seek>0?E._seek:A._sprite[d][0]/1e3),_=Math.max(0,(A._sprite[d][0]+A._sprite[d][1])/1e3-L),w=_*1e3/Math.abs(E._rate),D=A._sprite[d][0]/1e3,N=(A._sprite[d][0]+A._sprite[d][1])/1e3;E._sprite=d,E._ended=!1;var F=function(){E._paused=!1,E._seek=L,E._start=D,E._stop=N,E._loop=!!(E._loop||A._sprite[d][2])};if(L>=N){A._ended(E);return}var j=E._node;if(A._webAudio){var K=function(){A._playLock=!1,F(),A._refreshBuffer(E);var at=E._muted||A._muted?0:E._volume;j.gain.setValueAtTime(at,e.ctx.currentTime),E._playStart=e.ctx.currentTime,typeof j.bufferSource.start>"u"?E._loop?j.bufferSource.noteGrainOn(0,L,86400):j.bufferSource.noteGrainOn(0,L,_):E._loop?j.bufferSource.start(0,L,86400):j.bufferSource.start(0,L,_),w!==1/0&&(A._endTimers[E._id]=setTimeout(A._ended.bind(A,E),w)),m||setTimeout(function(){A._emit("play",E._id),A._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?K():(A._playLock=!0,A.once("resume",K),A._clearTimer(E._id))}else{var Z=function(){j.currentTime=L,j.muted=E._muted||A._muted||e._muted||j.muted,j.volume=E._volume*e.volume(),j.playbackRate=E._rate;try{var at=j.play();if(at&&typeof Promise<"u"&&(at instanceof Promise||typeof at.then=="function")?(A._playLock=!0,F(),at.then(function(){A._playLock=!1,j._unlocked=!0,m?A._loadQueue():A._emit("play",E._id)}).catch(function(){A._playLock=!1,A._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):m||(A._playLock=!1,F(),A._emit("play",E._id)),j.playbackRate=E._rate,j.paused){A._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}d!=="__default"||E._loop?A._endTimers[E._id]=setTimeout(A._ended.bind(A,E),w):(A._endTimers[E._id]=function(){A._ended(E),j.removeEventListener("ended",A._endTimers[E._id],!1)},j.addEventListener("ended",A._endTimers[E._id],!1))}catch(dt){A._emit("playerror",E._id,dt)}};j.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(j.src=A._src,j.load());var rt=window&&window.ejecta||!j.readyState&&e._navigator.isCocoonJS;if(j.readyState>=3||rt)Z();else{A._playLock=!0,A._state="loading";var ot=function(){A._state="loaded",Z(),j.removeEventListener(e._canPlayEvent,ot,!1)};j.addEventListener(e._canPlayEvent,ot,!1),A._clearTimer(E._id)}}return E._id},pause:function(d){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(d)}}),m;for(var A=m._getSoundIds(d),x=0;x<A.length;x++){m._clearTimer(A[x]);var S=m._soundById(A[x]);if(S&&!S._paused&&(S._seek=m.seek(A[x]),S._rateSeek=0,S._paused=!0,m._stopFade(A[x]),S._node))if(m._webAudio){if(!S._node.bufferSource)continue;typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),m._cleanBuffer(S._node)}else(!isNaN(S._node.duration)||S._node.duration===1/0)&&S._node.pause();arguments[1]||m._emit("pause",S?S._id:null)}return m},stop:function(d,m){var A=this;if(A._state!=="loaded"||A._playLock)return A._queue.push({event:"stop",action:function(){A.stop(d)}}),A;for(var x=A._getSoundIds(d),S=0;S<x.length;S++){A._clearTimer(x[S]);var C=A._soundById(x[S]);C&&(C._seek=C._start||0,C._rateSeek=0,C._paused=!0,C._ended=!0,A._stopFade(x[S]),C._node&&(A._webAudio?C._node.bufferSource&&(typeof C._node.bufferSource.stop>"u"?C._node.bufferSource.noteOff(0):C._node.bufferSource.stop(0),A._cleanBuffer(C._node)):(!isNaN(C._node.duration)||C._node.duration===1/0)&&(C._node.currentTime=C._start||0,C._node.pause(),C._node.duration===1/0&&A._clearSound(C._node))),m||A._emit("stop",C._id))}return A},mute:function(d,m){var A=this;if(A._state!=="loaded"||A._playLock)return A._queue.push({event:"mute",action:function(){A.mute(d,m)}}),A;if(typeof m>"u")if(typeof d=="boolean")A._muted=d;else return A._muted;for(var x=A._getSoundIds(m),S=0;S<x.length;S++){var C=A._soundById(x[S]);C&&(C._muted=d,C._interval&&A._stopFade(C._id),A._webAudio&&C._node?C._node.gain.setValueAtTime(d?0:C._volume,e.ctx.currentTime):C._node&&(C._node.muted=e._muted?!0:d),A._emit("mute",C._id))}return A},volume:function(){var d=this,m=arguments,A,x;if(m.length===0)return d._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var S=d._getSoundIds(),C=S.indexOf(m[0]);C>=0?x=parseInt(m[0],10):A=parseFloat(m[0])}else m.length>=2&&(A=parseFloat(m[0]),x=parseInt(m[1],10));var E;if(typeof A<"u"&&A>=0&&A<=1){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,m)}}),d;typeof x>"u"&&(d._volume=A),x=d._getSoundIds(x);for(var O=0;O<x.length;O++)E=d._soundById(x[O]),E&&(E._volume=A,m[2]||d._stopFade(x[O]),d._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(A,e.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=A*e.volume()),d._emit("volume",E._id))}else return E=x?d._soundById(x):d._sounds[0],E?E._volume:0;return d},fade:function(d,m,A,x){var S=this;if(S._state!=="loaded"||S._playLock)return S._queue.push({event:"fade",action:function(){S.fade(d,m,A,x)}}),S;d=Math.min(Math.max(0,parseFloat(d)),1),m=Math.min(Math.max(0,parseFloat(m)),1),A=parseFloat(A),S.volume(d,x);for(var C=S._getSoundIds(x),E=0;E<C.length;E++){var O=S._soundById(C[E]);if(O){if(x||S._stopFade(C[E]),S._webAudio&&!O._muted){var L=e.ctx.currentTime,_=L+A/1e3;O._volume=d,O._node.gain.setValueAtTime(d,L),O._node.gain.linearRampToValueAtTime(m,_)}S._startFadeInterval(O,d,m,A,C[E],typeof x>"u")}}return S},_startFadeInterval:function(d,m,A,x,S,C){var E=this,O=m,L=A-m,_=Math.abs(L/.01),w=Math.max(4,_>0?x/_:x),D=Date.now();d._fadeTo=A,d._interval=setInterval(function(){var N=(Date.now()-D)/x;D=Date.now(),O+=L*N,O=Math.round(O*100)/100,L<0?O=Math.max(A,O):O=Math.min(A,O),E._webAudio?d._volume=O:E.volume(O,d._id,!0),C&&(E._volume=O),(A<m&&O<=A||A>m&&O>=A)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,E.volume(A,d._id),E._emit("fade",d._id))},w)},_stopFade:function(d){var m=this,A=m._soundById(d);return A&&A._interval&&(m._webAudio&&A._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(A._interval),A._interval=null,m.volume(A._fadeTo,d),A._fadeTo=null,m._emit("fade",d)),m},loop:function(){var d=this,m=arguments,A,x,S;if(m.length===0)return d._loop;if(m.length===1)if(typeof m[0]=="boolean")A=m[0],d._loop=A;else return S=d._soundById(parseInt(m[0],10)),S?S._loop:!1;else m.length===2&&(A=m[0],x=parseInt(m[1],10));for(var C=d._getSoundIds(x),E=0;E<C.length;E++)S=d._soundById(C[E]),S&&(S._loop=A,d._webAudio&&S._node&&S._node.bufferSource&&(S._node.bufferSource.loop=A,A&&(S._node.bufferSource.loopStart=S._start||0,S._node.bufferSource.loopEnd=S._stop,d.playing(C[E])&&(d.pause(C[E],!0),d.play(C[E],!0)))));return d},rate:function(){var d=this,m=arguments,A,x;if(m.length===0)x=d._sounds[0]._id;else if(m.length===1){var S=d._getSoundIds(),C=S.indexOf(m[0]);C>=0?x=parseInt(m[0],10):A=parseFloat(m[0])}else m.length===2&&(A=parseFloat(m[0]),x=parseInt(m[1],10));var E;if(typeof A=="number"){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,m)}}),d;typeof x>"u"&&(d._rate=A),x=d._getSoundIds(x);for(var O=0;O<x.length;O++)if(E=d._soundById(x[O]),E){d.playing(x[O])&&(E._rateSeek=d.seek(x[O]),E._playStart=d._webAudio?e.ctx.currentTime:E._playStart),E._rate=A,d._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(A,e.ctx.currentTime):E._node&&(E._node.playbackRate=A);var L=d.seek(x[O]),_=(d._sprite[E._sprite][0]+d._sprite[E._sprite][1])/1e3-L,w=_*1e3/Math.abs(E._rate);(d._endTimers[x[O]]||!E._paused)&&(d._clearTimer(x[O]),d._endTimers[x[O]]=setTimeout(d._ended.bind(d,E),w)),d._emit("rate",E._id)}}else return E=d._soundById(x),E?E._rate:d._rate;return d},seek:function(){var d=this,m=arguments,A,x;if(m.length===0)d._sounds.length&&(x=d._sounds[0]._id);else if(m.length===1){var S=d._getSoundIds(),C=S.indexOf(m[0]);C>=0?x=parseInt(m[0],10):d._sounds.length&&(x=d._sounds[0]._id,A=parseFloat(m[0]))}else m.length===2&&(A=parseFloat(m[0]),x=parseInt(m[1],10));if(typeof x>"u")return 0;if(typeof A=="number"&&(d._state!=="loaded"||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,m)}}),d;var E=d._soundById(x);if(E)if(typeof A=="number"&&A>=0){var O=d.playing(x);O&&d.pause(x,!0),E._seek=A,E._ended=!1,d._clearTimer(x),!d._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=A);var L=function(){O&&d.play(x,!0),d._emit("seek",x)};if(O&&!d._webAudio){var _=function(){d._playLock?setTimeout(_,0):L()};setTimeout(_,0)}else L()}else if(d._webAudio){var w=d.playing(x)?e.ctx.currentTime-E._playStart:0,D=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(D+w*Math.abs(E._rate))}else return E._node.currentTime;return d},playing:function(d){var m=this;if(typeof d=="number"){var A=m._soundById(d);return A?!A._paused:!1}for(var x=0;x<m._sounds.length;x++)if(!m._sounds[x]._paused)return!0;return!1},duration:function(d){var m=this,A=m._duration,x=m._soundById(d);return x&&(A=m._sprite[x._sprite][1]/1e3),A},state:function(){return this._state},unload:function(){for(var d=this,m=d._sounds,A=0;A<m.length;A++)m[A]._paused||d.stop(m[A]._id),d._webAudio||(d._clearSound(m[A]._node),m[A]._node.removeEventListener("error",m[A]._errorFn,!1),m[A]._node.removeEventListener(e._canPlayEvent,m[A]._loadFn,!1),m[A]._node.removeEventListener("ended",m[A]._endFn,!1),e._releaseHtml5Audio(m[A]._node)),delete m[A]._node,d._clearTimer(m[A]._id);var x=e._howls.indexOf(d);x>=0&&e._howls.splice(x,1);var S=!0;for(A=0;A<e._howls.length;A++)if(e._howls[A]._src===d._src||d._src.indexOf(e._howls[A]._src)>=0){S=!1;break}return l&&S&&delete l[d._src],e.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,m,A,x){var S=this,C=S["_on"+d];return typeof m=="function"&&C.push(x?{id:A,fn:m,once:x}:{id:A,fn:m}),S},off:function(d,m,A){var x=this,S=x["_on"+d],C=0;if(typeof m=="number"&&(A=m,m=null),m||A)for(C=0;C<S.length;C++){var E=A===S[C].id;if(m===S[C].fn&&E||!m&&E){S.splice(C,1);break}}else if(d)x["_on"+d]=[];else{var O=Object.keys(x);for(C=0;C<O.length;C++)O[C].indexOf("_on")===0&&Array.isArray(x[O[C]])&&(x[O[C]]=[])}return x},once:function(d,m,A){var x=this;return x.on(d,m,A,1),x},_emit:function(d,m,A){for(var x=this,S=x["_on"+d],C=S.length-1;C>=0;C--)(!S[C].id||S[C].id===m||d==="load")&&(setTimeout((function(E){E.call(this,m,A)}).bind(x,S[C].fn),0),S[C].once&&x.off(d,S[C].fn,S[C].id));return x._loadQueue(d),x},_loadQueue:function(d){var m=this;if(m._queue.length>0){var A=m._queue[0];A.event===d&&(m._queue.shift(),m._loadQueue()),d||A.action()}return m},_ended:function(d){var m=this,A=d._sprite;if(!m._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(m._ended.bind(m,d),100),m;var x=!!(d._loop||m._sprite[A][2]);if(m._emit("end",d._id),!m._webAudio&&x&&m.stop(d._id,!0).play(d._id),m._webAudio&&x){m._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=e.ctx.currentTime;var S=(d._stop-d._start)*1e3/Math.abs(d._rate);m._endTimers[d._id]=setTimeout(m._ended.bind(m,d),S)}return m._webAudio&&!x&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,m._clearTimer(d._id),m._cleanBuffer(d._node),e._autoSuspend()),!m._webAudio&&!x&&m.stop(d._id,!0),m},_clearTimer:function(d){var m=this;if(m._endTimers[d]){if(typeof m._endTimers[d]!="function")clearTimeout(m._endTimers[d]);else{var A=m._soundById(d);A&&A._node&&A._node.removeEventListener("ended",m._endTimers[d],!1)}delete m._endTimers[d]}return m},_soundById:function(d){for(var m=this,A=0;A<m._sounds.length;A++)if(d===m._sounds[A]._id)return m._sounds[A];return null},_inactiveSound:function(){var d=this;d._drain();for(var m=0;m<d._sounds.length;m++)if(d._sounds[m]._ended)return d._sounds[m].reset();return new r(d)},_drain:function(){var d=this,m=d._pool,A=0,x=0;if(!(d._sounds.length<m)){for(x=0;x<d._sounds.length;x++)d._sounds[x]._ended&&A++;for(x=d._sounds.length-1;x>=0;x--){if(A<=m)return;d._sounds[x]._ended&&(d._webAudio&&d._sounds[x]._node&&d._sounds[x]._node.disconnect(0),d._sounds.splice(x,1),A--)}}},_getSoundIds:function(d){var m=this;if(typeof d>"u"){for(var A=[],x=0;x<m._sounds.length;x++)A.push(m._sounds[x]._id);return A}else return[d]},_refreshBuffer:function(d){var m=this;return d._node.bufferSource=e.ctx.createBufferSource(),d._node.bufferSource.buffer=l[m._src],d._panner?d._node.bufferSource.connect(d._panner):d._node.bufferSource.connect(d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,e.ctx.currentTime),m},_cleanBuffer:function(d){var m=this,A=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!d.bufferSource)return m;if(e._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),A))try{d.bufferSource.buffer=e._scratchBuffer}catch{}return d.bufferSource=null,m},_clearSound:function(d){var m=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);m||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(d){this._parent=d,this.init()};r.prototype={init:function(){var d=this,m=d._parent;return d._muted=m._muted,d._loop=m._loop,d._volume=m._volume,d._rate=m._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++e._counter,m._sounds.push(d),d.create(),d},create:function(){var d=this,m=d._parent,A=e._muted||d._muted||d._parent._muted?0:d._volume;return m._webAudio?(d._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),d._node.gain.setValueAtTime(A,e.ctx.currentTime),d._node.paused=!0,d._node.connect(e.masterGain)):e.noAudio||(d._node=e._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(e._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=m._src,d._node.preload=m._preload===!0?"auto":m._preload,d._node.volume=A*e.volume(),d._node.load()),d},reset:function(){var d=this,m=d._parent;return d._muted=m._muted,d._loop=m._loop,d._volume=m._volume,d._rate=m._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++e._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,m=d._parent;m._duration=Math.ceil(d._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),d._node.removeEventListener(e._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,m=d._parent;m._duration===1/0&&(m._duration=Math.ceil(d._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var l={},c=function(d){var m=d._src;if(l[m]){d._duration=l[m].duration,g(d);return}if(/^data:[^;]+;base64,/.test(m)){for(var A=atob(m.split(",")[1]),x=new Uint8Array(A.length),S=0;S<A.length;++S)x[S]=A.charCodeAt(S);f(x.buffer,d)}else{var C=new XMLHttpRequest;C.open(d._xhr.method,m,!0),C.withCredentials=d._xhr.withCredentials,C.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(E){C.setRequestHeader(E,d._xhr.headers[E])}),C.onload=function(){var E=(C.status+"")[0];if(E!=="0"&&E!=="2"&&E!=="3"){d._emit("loaderror",null,"Failed loading audio file with status: "+C.status+".");return}f(C.response,d)},C.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete l[m],d.load())},h(C)}},h=function(d){try{d.send()}catch{d.onerror()}},f=function(d,m){var A=function(){m._emit("loaderror",null,"Decoding audio data failed.")},x=function(S){S&&m._sounds.length>0?(l[m._src]=S,g(m,S)):A()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(d).then(x).catch(A):e.ctx.decodeAudioData(d,x,A)},g=function(d,m){m&&!d._duration&&(d._duration=m.duration),Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue())},y=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),m=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),A=m?parseInt(m[1],10):null;if(d&&A&&A<9){var x=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!x&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};a.Howler=e,a.Howl=n,typeof Uh<"u"?(Uh.HowlerGlobal=t,Uh.Howler=e,Uh.Howl=n,Uh.Sound=r):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=n,window.Sound=r)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var r=n._howls.length-1;r>=0;r--)n._howls[r].stereo(e);return n},HowlerGlobal.prototype.pos=function(e,n,r){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(n=typeof n!="number"?l._pos[1]:n,r=typeof r!="number"?l._pos[2]:r,typeof e=="number")l._pos=[e,n,r],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(e,n,r,l,c,h){var f=this;if(!f.ctx||!f.ctx.listener)return f;var g=f._orientation;if(n=typeof n!="number"?g[1]:n,r=typeof r!="number"?g[2]:r,l=typeof l!="number"?g[3]:l,c=typeof c!="number"?g[4]:c,h=typeof h!="number"?g[5]:h,typeof e=="number")f._orientation=[e,n,r,l,c,h],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(h,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(e,n,r,l,c,h);else return g;return f},Howl.prototype.init=(function(e){return function(n){var r=this;return r._orientation=n.orientation||[1,0,0],r._stereo=n.stereo||null,r._pos=n.pos||null,r._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},r._onstereo=n.onstereo?[{fn:n.onstereo}]:[],r._onpos=n.onpos?[{fn:n.onpos}]:[],r._onorientation=n.onorientation?[{fn:n.onorientation}]:[],e.call(this,n)}})(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof e=="number")r._stereo=e,r._pos=[e,0,0];else return r._stereo;for(var c=r._getSoundIds(n),h=0;h<c.length;h++){var f=r._soundById(c[h]);if(f)if(typeof e=="number")f._stereo=e,f._pos=[e,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,l),l==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(e,0,0):f._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",f._id);else return f._stereo}return r},Howl.prototype.pos=function(e,n,r,l){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(e,n,r,l)}}),c;if(n=typeof n!="number"?0:n,r=typeof r!="number"?-.5:r,typeof l>"u")if(typeof e=="number")c._pos=[e,n,r];else return c._pos;for(var h=c._getSoundIds(l),f=0;f<h.length;f++){var g=c._soundById(h[f]);if(g)if(typeof e=="number")g._pos=[e,n,r],g._node&&((!g._panner||g._panner.pan)&&t(g,"spatial"),typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):g._panner.setPosition(e,n,r)),c._emit("pos",g._id);else return g._pos}return c},Howl.prototype.orientation=function(e,n,r,l){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(e,n,r,l)}}),c;if(n=typeof n!="number"?c._orientation[1]:n,r=typeof r!="number"?c._orientation[2]:r,typeof l>"u")if(typeof e=="number")c._orientation=[e,n,r];else return c._orientation;for(var h=c._getSoundIds(l),f=0;f<h.length;f++){var g=c._soundById(h[f]);if(g)if(typeof e=="number")g._orientation=[e,n,r],g._node&&(g._panner||(g._pos||(g._pos=c._pos||[0,0,-.5]),t(g,"spatial")),typeof g._panner.orientationX<"u"?(g._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),g._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),g._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):g._panner.setOrientation(e,n,r)),c._emit("orientation",g._id);else return g._orientation}return c},Howl.prototype.pannerAttr=function(){var e=this,n=arguments,r,l,c;if(!e._webAudio)return e;if(n.length===0)return e._pannerAttr;if(n.length===1)if(typeof n[0]=="object")r=n[0],typeof l>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),e._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:e._panningModel});else return c=e._soundById(parseInt(n[0],10)),c?c._pannerAttr:e._pannerAttr;else n.length===2&&(r=n[0],l=parseInt(n[1],10));for(var h=e._getSoundIds(l),f=0;f<h.length;f++)if(c=e._soundById(h[f]),c){var g=c._pannerAttr;g={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:g.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:g.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:g.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:g.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:g.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:g.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:g.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:g.panningModel};var y=c._panner;y||(c._pos||(c._pos=e._pos||[0,0,-.5]),t(c,"spatial"),y=c._panner),y.coneInnerAngle=g.coneInnerAngle,y.coneOuterAngle=g.coneOuterAngle,y.coneOuterGain=g.coneOuterGain,y.distanceModel=g.distanceModel,y.maxDistance=g.maxDistance,y.refDistance=g.refDistance,y.rolloffFactor=g.rolloffFactor,y.panningModel=g.panningModel}return e},Sound.prototype.init=(function(e){return function(){var n=this,r=n._parent;n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,e.call(this),n._stereo?r.stereo(n._stereo):n._pos&&r.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(e){return function(){var n=this,r=n._parent;return n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,n._stereo?r.stereo(n._stereo):n._pos?r.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,r._refreshBuffer(n)),e.call(this)}})(Sound.prototype.reset);var t=function(e,n){n=n||"spatial",n==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})(Yv)),Yv}var BB=jB();const HB="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3",zB=()=>{const a=Ni(n=>n.isSoundEnabled),t=G.useRef(null);return G.useEffect(()=>(t.current=new BB.Howl({src:[HB],volume:.5,preload:!0}),()=>{var n;(n=t.current)==null||n.unload()}),[]),{playFlip:()=>{a&&t.current&&t.current.play()}}};P_.workerSrc=`https://unpkg.com/pdfjs-dist@${B2}/build/pdf.worker.min.mjs`;const VB=()=>{const{pdfUrl:a,setTotalPages:t,setCurrentPage:e,zoomLevel:n,viewMode:r,flipAnimation:l,nextPageTrigger:c,prevPageTrigger:h,jumpToPageTrigger:f,isFullscreen:g,setIsIndexing:y,setSearchIndex:d,setOutline:m}=Ni(),[A,x]=G.useState(null),[S,C]=G.useState(!1),[E,O]=G.useState(null),[L,_]=G.useState({width:0,height:0}),[w,D]=G.useState(1.414),[N,F]=G.useState(!1),j=G.useRef(null),K=G.useRef(null),Z=G.useRef(!1),{playFlip:rt}=zB();G.useEffect(()=>{C(!1),x(null),O(null),Z.current=!1},[a]);const ot=l==="instant"?100:l==="quick"?400:800,at=G.useCallback((q,J,st,ft,pt)=>{if(q<=0||J<=0)return;const ut=st?40:pt?80:120,Dt=Math.max(100,q-ut),Lt=Math.max(100,J-ut),Ht=st?Dt:Dt/2,we=Ht*ft;let Ue=Ht,Ot=we;Ot>Lt&&(Ot=Lt,Ue=Ot/ft),_({width:Math.max(1,Math.floor(Ue)),height:Math.max(1,Math.floor(Ot))})},[]);G.useLayoutEffect(()=>{if(!K.current)return;const q=new ResizeObserver(J=>{const st=J[0];if(st){const{width:ft,height:pt}=st.contentRect,ut=ft<768;F(ut),at(ft,pt,ut,w,g)}});if(q.observe(K.current),K.current){const{clientWidth:J,clientHeight:st}=K.current,ft=J<768;F(ft),at(J,st,ft,w,g)}return()=>q.disconnect()},[w,at,g]);const dt=async q=>{x(q.numPages),t(q.numPages);try{const st=(await q.getPage(1)).getViewport({scale:1}),ft=st.height/st.width;if(D(ft),K.current){const{clientWidth:Dt,clientHeight:Lt}=K.current;at(Dt,Lt,Dt<768,ft,g)}const pt=await q.getOutline();if(pt){const Dt=async Ht=>Promise.all(Ht.map(async we=>{let Ue=null;if(we.dest)try{const Ot=typeof we.dest=="string"?await q.getDestination(we.dest):we.dest;Ot&&Ot[0]&&(Ue=await q.getPageIndex(Ot[0])+1)}catch(Ot){console.warn("Could not resolve TOC destination",Ot)}return{title:we.title,pageNumber:Ue,items:we.items?await Dt(we.items):[]}})),Lt=await Dt(pt);m(Lt)}y(!0);const ut=[];for(let Dt=1;Dt<=q.numPages;Dt++){const we=(await(await q.getPage(Dt)).getTextContent()).items.map(Ue=>Ue.str).join(" ");ut.push({pageNumber:Dt,content:we}),Dt%15===0&&await new Promise(Ue=>setTimeout(Ue,0))}d(ut),y(!1)}catch(J){console.warn("Error processing PDF",J),y(!1)}C(!0),O(null)},U=q=>{console.error("PDF Load Error:",q),O(q.message),C(!1)},Y=q=>{const J=q.data+1;e(J),rt();try{const st=new URL(window.location.href);st.protocol!=="blob:"&&(st.searchParams.set("page",J.toString()),window.history.replaceState({},"",st.toString()))}catch(st){console.debug("Failed to update history state:",st)}};G.useEffect(()=>{if(S&&A&&j.current&&!Z.current)try{const J=new URLSearchParams(window.location.search).get("page");if(J){const st=parseInt(J,10);!isNaN(st)&&st>=1&&st<=A&&(Z.current=!0,setTimeout(()=>{j.current&&j.current.pageFlip().turnToPage(st-1)},300))}}catch(q){console.debug("Failed to parse deep link params:",q)}},[S,A]),G.useEffect(()=>{c>0&&j.current&&j.current.pageFlip().flipNext()},[c]),G.useEffect(()=>{h>0&&j.current&&j.current.pageFlip().flipPrev()},[h]),G.useEffect(()=>{f&&j.current&&j.current.pageFlip().turnToPage(f.page-1)},[f]);const it={transform:`scale(${n/100})`,transition:"transform 0.4s cubic-bezier(0.22, 1, 0.36, 1)"};if(r==="grid")return I.jsx("div",{className:"w-full h-full overflow-y-auto px-6 py-10 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6 scroll-smooth custom-scrollbar",children:I.jsx(IE,{file:a,onLoadSuccess:dt,onLoadError:U,loading:null,children:Array.from(new Array(A||0),(q,J)=>I.jsxs(Ji.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:Math.min(J*.02,.5)},whileHover:{scale:1.05,y:-5},className:"cursor-pointer group flex flex-col",onClick:()=>{e(J+1),Ni.getState().toggleViewMode();try{const st=new URL(window.location.href);st.protocol!=="blob:"&&(st.searchParams.set("page",(J+1).toString()),window.history.replaceState({},"",st.toString()))}catch(st){console.debug("Failed to update history state:",st)}},children:[I.jsxs("div",{className:"rounded-xl overflow-hidden shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)] border border-white/5 bg-neutral-900 aspect-[1/1.414] relative ring-1 ring-white/5 group-hover:ring-indigo-500/50 transition-all",children:[I.jsx(jA,{pageNumber:J+1,width:220}),I.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors pointer-events-none"})]}),I.jsxs("div",{className:"mt-3 flex items-center justify-between px-1",children:[I.jsxs("span",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold group-hover:text-white/80 transition-colors",children:["Page ",J+1]}),I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 scale-0 group-hover:scale-100 transition-transform shadow-[0_0_8px_rgba(99,102,241,1)]"})]})]},`grid-page-${J+1}`))})});const bt=10,xt=N?L.width+bt*2:L.width*2+bt*2,H=L.height+bt*2;return I.jsxs("div",{ref:K,className:"w-full h-full flex flex-col items-center justify-center relative overflow-hidden",children:[!S&&!E&&I.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20 space-y-4 bg-[#0a0a0a]/80 backdrop-blur-sm",children:[I.jsx("div",{className:"w-12 h-12 border-2 border-white/10 border-t-indigo-500 rounded-full animate-spin"}),I.jsx("p",{className:"text-white/40 text-[10px] font-bold tracking-[0.3em] uppercase animate-pulse",children:"Rendering Document"})]}),E&&I.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-30 space-y-4 bg-[#0a0a0a]",children:[I.jsx("div",{className:"text-red-500/80 mb-2",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("circle",{cx:"12",cy:"12",r:"10"}),I.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),I.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),I.jsx("p",{className:"text-white font-medium",children:"Failed to load document"}),I.jsx("p",{className:"text-white/40 text-xs max-w-xs text-center",children:E}),I.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full text-xs font-bold transition-all",children:"Retry"})]}),I.jsx("div",{style:it,className:"relative flex items-center justify-center",children:L.width>0&&L.height>0&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"absolute z-0 texture-leather rounded-lg transition-all duration-500 ease-out",style:{width:xt,height:H,boxShadow:"0 50px 100px -20px rgba(0,0,0,1), inset 0 0 40px rgba(0,0,0,0.5)"},children:[I.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-0 bottom-0 w-8 bg-black/40 blur-[2px]"}),I.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-0 bottom-0 w-[1px] bg-white/10"})]}),I.jsx("div",{className:"relative z-10",children:I.jsx(IE,{file:a,onLoadSuccess:dt,onLoadError:U,loading:null,children:S&&A&&I.jsx(IB,{ref:j,width:L.width,height:L.height,size:"fixed",minWidth:L.width,maxWidth:2e3,minHeight:L.height,maxHeight:2e3,maxShadowOpacity:.7,showCover:!0,mobileScrollSupport:!0,onFlip:Y,className:"flipbook-container",style:{background:"transparent"},startPage:Ni.getState().currentPage-1,drawShadow:!0,flippingTime:ot,usePortrait:N,startZIndex:0,autoSize:!0,clickEventForward:!0,useMouseEvents:!0,swipeDistance:30,showPageCorners:!0,disableFlipByClick:!1,children:Array.from(new Array(A),(q,J)=>I.jsx(jA,{pageNumber:J+1,width:L.width},`page-${J+1}`))},`${w}-${N}-${g}-${L.width}-${L.height}`)})})]})})]})},UB=()=>I.jsx(NI,{children:I.jsx(VB,{})}),Z2=document.getElementById("root");if(!Z2)throw new Error("Could not find root element to mount to");const GB=Rk.createRoot(Z2);GB.render(I.jsx(us.StrictMode,{children:I.jsx(UB,{})}));
